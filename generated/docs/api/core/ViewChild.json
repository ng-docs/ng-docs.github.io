{
  "id": "api/core/ViewChild",
  "title": "ViewChild",
  "contents": "\n\n<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.cn//api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.cn/api/core\", \"name\": \"@angular/core\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.cn/api/core/ViewChild\", \"name\": \"ViewChild\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> > <a href=\"api/core\">@angular/core</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/core/src/metadata/di.ts?message=docs(core)%3A%20请简述你的修改...#L394-L402\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/8.1.0-beta.0/packages/core/src/metadata/di.ts#L394-L402\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  \n  <header class=\"api-header\">\n    <h1 id=\"viewchild\">ViewChild<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#viewchild\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label decorator\">decorator</label>\n    \n    \n    \n  </header>\n  \n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  <section class=\"short-description\">\n    <p translation-result=\"on\">属性装饰器，用于配置一个视图查询。\n变更检测器会在视图的 DOM 中查找能匹配上该选择器的第一个元素或指令。\n如果视图的 DOM 发生了变化，出现了匹配该选择器的新的子节点，该属性就会被更新。</p><p translation-origin=\"off\">Property decorator that configures a view query.\nThe change detector looks for the first element or the directive matching the selector\nin the view DOM. If the view DOM changes, and a new child matches the selector,\nthe property is updated.</p>\n\n\n    <p><a href=\"api/core/ViewChild#description\">查看\"说明\"...</a></p>\n  </section>\n  \n\n  \n\n  \n\n\n\n  \n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\">说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p translation-result=\"on\">在调用 <code>NgAfterViewInit</code> 回调函数之前就会设置这些视图查询。</p><p translation-origin=\"off\">View queries are set before the <code>ngAfterViewInit</code> callback is called.</p>\n\n<p translation-result=\"on\"><strong>元数据属性</strong>：</p><p translation-origin=\"off\"><strong>Metadata Properties</strong>:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><strong>selector</strong> - 用于查询的指令类型或名字。</p><p translation-origin=\"off\"><strong>selector</strong> - the directive type or the name used for querying.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>read</strong> - 从查询到的元素中读取另一个令牌。</p><p translation-origin=\"off\"><strong>read</strong> - read a different token from the queried elements.</p>\n\n</li>\n<li>\n<p><strong>static</strong> - whether or not to resolve query results before change detection runs (i.e.\nreturn static results only). If this option is not provided, the compiler will fall back\nto its default behavior, which is to use query results to determine the timing of query\nresolution. If any query results are inside a nested view (e.g. *ngIf), the query will be\nresolved after change detection runs. Otherwise, it will be resolved before change detection\nruns.</p>\n</li>\n</ul>\n<p translation-result=\"on\">所支持的选择器包括：</p><p translation-origin=\"off\">Supported selectors include:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">任何带有 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> 或 <code>@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a></code> 装饰器的类</p><p translation-origin=\"off\">any class with the <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> or <code>@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a></code> decorator</p>\n\n</li>\n<li>\n<p translation-result=\"on\">    字符串形式的模板引用变量（比如可以使用 <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('cmp')</code> 来查询 <code>&#x3C;my-component #cmp>&#x3C;/my-component></code></p><p translation-origin=\"off\">a template reference variable as a string (e.g. query <code>&#x3C;my-component #cmp>&#x3C;/my-component></code>\nwith <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('cmp')</code>)</p>\n\n</li>\n<li>\n<p translation-result=\"on\">    组件树中任何当前组件的子组件所定义的提供商（比如 <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(SomeService) someService: SomeService</code> ）</p><p translation-origin=\"off\">any provider defined in the child component tree of the current component (e.g.\n<code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(SomeService) someService: SomeService</code>)</p>\n\n</li>\n<li>\n<p translation-result=\"on\">    任何通过字符串令牌定义的提供商（比如 <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('someToken') someTokenVal: any</code> ）</p><p translation-origin=\"off\">any provider defined through a string token (e.g. <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('someToken') someTokenVal: any</code>)</p>\n\n</li>\n<li>\n<p translation-result=\"on\">    <code><a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a></code>（比如可以用 <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(<a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>) template;</code> 来查询 <code>&#x3C;ng-template>&#x3C;/ng-template></code>）</p><p translation-origin=\"off\">a <code><a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a></code> (e.g. query <code>&#x3C;ng-template>&#x3C;/ng-template></code> with <code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(<a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>) template;</code>)</p>\n\n</li>\n</ul>\n\n</section>\n\n\n\n<section class=\"decorator-options\">\n  <h2 id=\"options\">选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#options\"><i class=\"material-icons\">link</i></a></h2>\n  \n</section>\n\n  \n<section class=\"usage-notes\">\n  <h2 id=\"usage-notes\">使用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#usage-notes\"><i class=\"material-icons\">link</i></a></h2>\n  <code-example path=\"core/di/ts/viewChild/view_child_example.ts\" region=\"Component\">\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>, <a href=\"api/core/Input\" class=\"code-anchor\">Input</a>, <a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>} from '@angular/core';\n\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({selector: 'pane'})\nexport class Pane {\n  // TODO(issue/24571): remove '!'.\n  @<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>() id !: string;\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'example-app',\n  template: `\n    &#x3C;pane id=\"1\" *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"shouldShow\">&#x3C;/pane>\n    &#x3C;pane id=\"2\" *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"!shouldShow\">&#x3C;/pane>\n    \n    &#x3C;button (click)=\"toggle()\">Toggle&#x3C;/button>\n       \n    &#x3C;div>Selected: {{selectedPane}}&#x3C;/div> \n  `,\n})\nexport class ViewChildComp {\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(Pane, {<a href=\"api/upgrade/static\" class=\"code-anchor\">static</a>: false})\n  set pane(v: Pane) {\n    setTimeout(() => { this.selectedPane = v.id; }, 0);\n  }\n  selectedPane: string = '';\n  shouldShow = true;\n  toggle() { this.shouldShow = !this.shouldShow; }\n}\n\n</code-example>\n<h3 id=\"example\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#example\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#example\"><i class=\"material-icons\">link</i></a></h3>\n\n<code-example path=\"core/di/ts/viewChild/view_child_howto.ts\" region=\"HowTo\">\nimport {<a href=\"api/core/AfterViewInit\" class=\"code-anchor\">AfterViewInit</a>, <a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>, <a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>} from '@angular/core';\n\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({selector: 'child-directive'})\nclass ChildDirective {\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({selector: 'someCmp', templateUrl: 'someCmp.html'})\nclass SomeCmp implements <a href=\"api/core/AfterViewInit\" class=\"code-anchor\">AfterViewInit</a> {\n  // TODO(issue/24571): remove '!'.\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(ChildDirective, {<a href=\"api/upgrade/static\" class=\"code-anchor\">static</a>: false}) child !: ChildDirective;\n\n  ngAfterViewInit() {\n    // child is set\n  }\n}\n\n</code-example>\n<h3 id=\"example-1\" translation-result=\"on\">例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#example-1\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"example-1\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/ViewChild#example-1\"><i class=\"material-icons\">link</i></a></h3>\n\n<code-example path=\"core/di/ts/viewChild/view_child_example.ts\" region=\"Component\">\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>, <a href=\"api/core/Input\" class=\"code-anchor\">Input</a>, <a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>} from '@angular/core';\n\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({selector: 'pane'})\nexport class Pane {\n  // TODO(issue/24571): remove '!'.\n  @<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>() id !: string;\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'example-app',\n  template: `\n    &#x3C;pane id=\"1\" *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"shouldShow\">&#x3C;/pane>\n    &#x3C;pane id=\"2\" *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"!shouldShow\">&#x3C;/pane>\n    \n    &#x3C;button (click)=\"toggle()\">Toggle&#x3C;/button>\n       \n    &#x3C;div>Selected: {{selectedPane}}&#x3C;/div> \n  `,\n})\nexport class ViewChildComp {\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>(Pane, {<a href=\"api/upgrade/static\" class=\"code-anchor\">static</a>: false})\n  set pane(v: Pane) {\n    setTimeout(() => { this.selectedPane = v.id; }, 0);\n  }\n  selectedPane: string = '';\n  shouldShow = true;\n  toggle() { this.shouldShow = !this.shouldShow; }\n}\n\n</code-example>\n\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/common/NgIf\n - api/core\n - api/core/Query\n - api/core/ViewContainerRef\n - guide/aot-compiler\n - guide/cheatsheet\n - guide/component-interaction\n - guide/dynamic-component-loader\n - guide/lifecycle-hooks\n - guide/static-query-migration\n - guide/template-syntax\n - guide/testing\n-->\n<!-- links from this doc:\n - /api\n - api/common/NgIf\n - api/core\n - api/core/AfterViewInit\n - api/core/Component\n - api/core/Directive\n - api/core/Input\n - api/core/TemplateRef\n - api/core/ViewChild#description\n - api/core/ViewChild#example\n - api/core/ViewChild#example-1\n - api/core/ViewChild#options\n - api/core/ViewChild#usage-notes\n - api/core/ViewChild#viewchild\n - api/upgrade/static\n - https://github.com/angular/angular-cn/edit/aio/packages/core/src/metadata/di.ts?message=docs(core)%3A%20请简述你的修改...#L394-L402\n - https://github.com/angular/angular-cn/tree/8.1.0-beta.0/packages/core/src/metadata/di.ts#L394-L402\n-->"
}