{
  "id": "api/core/wtfCreateScope",
  "title": "wtfCreateScope",
  "contents": "\n\n<article>\n  <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/core/src/profile/profile.ts?message=docs(core)%3A%20describe%20your%20change...#L54-L54\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angluar/angular-cn/tree/7.0.0/packages/core/src/profile/profile.ts#L54-L54\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  <div class=\"breadcrumb\">\n    <script type=\"application/ld+json\">\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"BreadcrumbList\",\n        \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.cn//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.cn/api/core\", \"name\": \"@angular/core\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.cn/api/core/wtfCreateScope\", \"name\": \"wtfCreateScope\" } }\n        ]\n      }\n    </script>\n      <a href=\"/api\">API</a> > <a href=\"api/core\">@angular/core</a>\n  </div>\n  \n  <header class=\"api-header\">\n    <h1 id=\"wtfcreatescope\">wtfCreateScope<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/wtfCreateScope#wtfcreatescope\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label const\">const</label>\n    \n    \n    \n  </header>\n  \n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  <section class=\"short-description\">\n    <p translation-origin=\"off\">Create trace scope.</p>\n\n    <p><a href=\"api/core/wtfCreateScope#description\">See more...</a></p>\n  </section>\n  \n\n  \n\n  \n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n  const <a href=\"api/core/wtfCreateScope\" class=\"code-anchor\">wtfCreateScope</a>: (signature: string, flags?: any) => <a href=\"api/core/WtfScopeFn\" class=\"code-anchor\">WtfScopeFn</a>;\n  </code-example>\n\n  \n\n  \n  \n<section class=\"description\">\n  <h2 id=\"description\">说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/wtfCreateScope#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p translation-origin=\"off\">Scopes must be strictly nested and are analogous to stack frames, but\ndo not have to follow the stack frames. Instead it is recommended that they follow logical\nnesting. You may want to use\n<a href=\"http://google.github.io/tracing-framework/instrumenting-code.html#custom-events\">Event\nSignatures</a>\nas they are defined in WTF.</p>\n<p translation-origin=\"off\">Used to mark scope entry. The return value is used to leave the scope.</p>\n<p translation-origin=\"off\">    var myScope = wtfCreateScope('MyClass#myMethod(ascii someVal)');</p>\n<p translation-origin=\"off\">    someMethod() {\nvar s = myScope('Foo'); // 'Foo' gets stored in tracing UI\n// DO SOME WORK HERE\nreturn wtfLeave(s, 123); // Return value 123\n}</p>\n<p translation-origin=\"off\">Note, adding try-finally block around the work to ensure that <code><a href=\"api/core/wtfLeave\" class=\"code-anchor\">wtfLeave</a></code> gets called can\nnegatively impact the performance of your application. For this reason we recommend that\nyou don't add them to ensure that <code><a href=\"api/core/wtfLeave\" class=\"code-anchor\">wtfLeave</a></code> gets called. In production <code><a href=\"api/core/wtfLeave\" class=\"code-anchor\">wtfLeave</a></code> is a noop and\nso try-finally block has no value. When debugging perf issues, skipping <code><a href=\"api/core/wtfLeave\" class=\"code-anchor\">wtfLeave</a></code>, do to\nexception, will produce incorrect trace, but presence of exception signifies logic error which\nneeds to be fixed before the app should be profiled. Add try-finally only when you expect that\nan exception is expected during normal execution while profiling.</p>\n\n</section>\n\n\n\n  \n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/core\n-->\n<!-- links from this doc:\n - /api\n - api/core\n - api/core/WtfScopeFn\n - api/core/wtfCreateScope#description\n - api/core/wtfCreateScope#wtfcreatescope\n - api/core/wtfLeave\n - http://google.github.io/tracing-framework/instrumenting-code.html#custom-events\n - https://github.com/angluar/angular-cn/tree/7.0.0/packages/core/src/profile/profile.ts#L54-L54\n - https://github.com/angular/angular-cn/edit/aio/packages/core/src/profile/profile.ts?message=docs(core)%3A%20describe%20your%20change...#L54-L54\n-->"
}