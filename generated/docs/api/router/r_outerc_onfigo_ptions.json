{"id":"api/router/RouterConfigOptions","title":"RouterConfigOptions","contents":"<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.cn//api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.cn/api/router\", \"name\": \"@angular/router\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.cn/api/router/RouterConfigOptions\", \"name\": \"RouterConfigOptions\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/router\">@angular/router</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/cn/packages/router/src/router_config.ts?message=docs(router)%3A%20请简述你的修改...#L59-L147\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/15.0.1/packages/router/src/router_config.ts#L59-L147\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  <header ng-should-translate=\"\" class=\"api-header\">\n    <h1 id=\"routerconfigoptions\">RouterConfigOptions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#routerconfigoptions\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label interface\">interface</label>\n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n  <section ng-should-translate=\"\" class=\"short-description\">\n    <p translation-result=\"on\">可以与 <code><a href=\"api/router/withRouterConfig\" class=\"code-anchor\">withRouterConfig</a></code> 函数一起使用的额外配置选项。</p><p translation-origin=\"off\">Extra configuration options that can be used with the <code><a href=\"api/router/withRouterConfig\" class=\"code-anchor\">withRouterConfig</a></code> function.</p>\n\n\n  </section><section ng-should-translate=\"\" class=\"interface-overview\">\n<code-example language=\"ts\" hidecopy=\"true\">\ninterface <a href=\"api/router/RouterConfigOptions\" class=\"code-anchor\">RouterConfigOptions</a> {\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#canceledNavigationResolution\"><span class=\"member-name\">canceledNavigationResolution</span>?: 'replace' | 'computed'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#onSameUrlNavigation\"><span class=\"member-name\">onSameUrlNavigation</span>?: 'reload' | 'ignore'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#paramsInheritanceStrategy\"><span class=\"member-name\">paramsInheritanceStrategy</span>?: 'emptyOnly' | 'always'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#urlUpdateStrategy\"><span class=\"member-name\">urlUpdateStrategy</span>?: 'deferred' | 'eager'</a>\n}\n</code-example>\n\n  <div class=\"descendants interface\">\n    <h2 id=\"子接口\">子接口<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#子接口\"><i class=\"material-icons\">link</i></a></h2>\n    \n<ul>\n  <li>\n    <code><a href=\"api/router/ExtraOptions\" class=\"code-anchor\">ExtraOptions</a></code>\n    \n  </li>\n</ul>\n  </div>\n\n</section>\n\n  \n  \n<section ng-should-translate=\"\" class=\"instance-properties\">\n  <a name=\"properties\"></a>\n  <h2 id=\"instance-properties\">属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#instance-properties\"><i class=\"material-icons\">link</i></a></h2>\n  <table class=\"is-full-width list-table property-table\">\n    <thead>\n      <tr>\n        <th>属性</th>\n        <th>说明</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"canceledNavigationResolution\"></a>\n          <code class=\"\"><span class=\"member-name\">canceledNavigationResolution</span>?: 'replace' | 'computed'</code>\n        </td>\n        <td>\n          <div no-translate=\"\"><p translation-result=\"on\">配置在取消导航时路由器如何尝试恢复状态。</p><p translation-origin=\"off\">Configures how the Router attempts to restore state when a navigation is cancelled.</p>\n</div>\n          <p translation-result=\"on\">'replace' - 始终使用 <code>location.replaceState</code> 将浏览器状态设置为导航开始之前的路由器状态。这意味着，如果在取消导航 <em> 之前 </em> 更新了浏览器的 URL，则路由器将简单地替换历史记录中的条目，而不是尝试恢复到会话历史记录中的前一个位置。这种情况最常见的情况是 <code>urlUpdateStrategy: 'eager'</code> 和使用浏览器后退/前进按钮进行导航。</p><p translation-origin=\"off\">'replace' - Always uses <code>location.replaceState</code> to set the browser state to the state of the\nrouter before the navigation started. This means that if the URL of the browser is updated\n<em>before</em> the navigation is canceled, the Router will simply replace the item in history rather\nthan trying to restore to the previous location in the session history. This happens most\nfrequently with <code>urlUpdateStrategy: 'eager'</code> and navigations with the browser back/forward\nbuttons.</p>\n\n<p translation-result=\"on\">“compute” - 当导航被取消时，将尝试返回会话历史记录中与 Angular 路由对应的同一个索引。例如，如果单击浏览器后退按钮并取消导航，则路由器将触发向前导航，反之亦然。</p><p translation-origin=\"off\">'computed' - Will attempt to return to the same index in the session history that corresponds\nto the Angular route when the navigation gets cancelled. For example, if the browser back\nbutton is clicked and the navigation is cancelled, the Router will trigger a forward navigation\nand vice versa.</p>\n\n<p translation-result=\"on\">注意： ' <code><a href=\"api/router/UrlHandlingStrategy\" class=\"code-anchor\">UrlHandlingStrategy</a></code> ' 选项与任何仅处理一部分 URL 的 UrlHandlingStrategy 不兼容，因为历史恢复会导航到浏览器历史记录中的上一个位置，而不是简单地重置 URL 的一部分。</p><p translation-origin=\"off\">Note: the 'computed' option is incompatible with any <code><a href=\"api/router/UrlHandlingStrategy\" class=\"code-anchor\">UrlHandlingStrategy</a></code> which only\nhandles a portion of the URL because the history restoration navigates to the previous place in\nthe browser history rather than simply resetting a portion of the URL.</p>\n\n<p translation-result=\"on\">默认值是未设置时的 <code>replace</code> 。</p><p translation-origin=\"off\">The default value is <code>replace</code> when not set.</p>\n\n\n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"onSameUrlNavigation\"></a>\n          <code class=\"\"><span class=\"member-name\">onSameUrlNavigation</span>?: 'reload' | 'ignore'</code>\n        </td>\n        <td>\n          <div no-translate=\"\"><p translation-result=\"on\">定义路由器在收到对当前 URL 的导航请求时应该做什么。默认是 <code>ignore</code> ，这会导致路由器忽略导航。这可以禁用“刷新”按钮等特性。导航到当前 URL 时，可以使用此选项配置行为。默认是“忽略”。</p><p translation-origin=\"off\">Define what the router should do if it receives a navigation request to the current URL.\nDefault is <code>ignore</code>, which causes the router ignores the navigation.\nThis can disable features such as a \"refresh\" button.\nUse this option to configure the behavior when navigating to the\ncurrent URL. Default is 'ignore'.</p>\n</div>\n          \n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"paramsInheritanceStrategy\"></a>\n          <code class=\"\"><span class=\"member-name\">paramsInheritanceStrategy</span>?: 'emptyOnly' | 'always'</code>\n        </td>\n        <td>\n          <div no-translate=\"\"><p translation-result=\"on\">定义路由器如何将参数、数据和解析的数据从父路由合并到子路由。默认情况下， ('emptyOnly') 仅继承无路径或无组件路由的 parent 参数。</p><p translation-origin=\"off\">Defines how the router merges parameters, data, and resolved data from parent to child\nroutes. By default ('emptyOnly'), inherits parent parameters only for\npath-less or component-less routes.</p>\n</div>\n          <p translation-result=\"on\">设置为 'always' 以启用父参数的无条件继承。</p><p translation-origin=\"off\">Set to 'always' to enable unconditional inheritance of parent parameters.</p>\n\n<p translation-result=\"on\">请注意，在处理矩阵参数时，“parent”是指父 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 配置，并不一定意味着“左侧的 URL 段”。当 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> <code>path</code> 包含多个段时，矩阵参数必须出现在最后一个段上。例如， <code>{path: 'a/b', component: MyComp}</code> 矩阵参数应该显示为 <code>a/b;foo=bar</code> 而不是 <code>a;foo=bar/b</code> 。</p><p translation-origin=\"off\">Note that when dealing with matrix parameters, \"parent\" refers to the parent <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code>\nconfig which does not necessarily mean the \"URL segment to the left\". When the <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> <code>path</code>\ncontains multiple segments, the matrix parameters must appear on the last segment. For example,\nmatrix parameters for <code>{path: 'a/b', component: MyComp}</code> should appear as <code>a/b;foo=bar</code> and not\n<code>a;foo=bar/b</code>.</p>\n\n\n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"urlUpdateStrategy\"></a>\n          <code class=\"\"><span class=\"member-name\">urlUpdateStrategy</span>?: 'deferred' | 'eager'</code>\n        </td>\n        <td>\n          <div no-translate=\"\"><p translation-result=\"on\">定义路由器何时更新浏览器 URL。默认情况下（“延迟”），成功导航后更新。如果更想在导航开始时更新 URL，请设置为 “eager”。及早更新 URL 允许你通过显示带有失败的 URL 的错误消息来处理导航失败。</p><p translation-origin=\"off\">Defines when the router updates the browser URL. By default ('deferred'),\nupdate after successful navigation.\nSet to 'eager' if prefer to update the URL at the beginning of navigation.\nUpdating the URL early allows you to handle a failure of navigation by\nshowing an error message with the URL that failed.</p>\n</div>\n          \n        </td>\n      </tr>\n    </tbody>\n  </table>\n</section>\n  \n</div>\n</article>\n\n<!-- links to this doc:\n - api/router\n - api/router/ExtraOptions\n - api/router/withRouterConfig\n-->\n<!-- links from this doc:\n - /api\n - api/router\n - api/router/ExtraOptions\n - api/router/Route\n - api/router/RouterConfigOptions#canceledNavigationResolution\n - api/router/RouterConfigOptions#instance-properties\n - api/router/RouterConfigOptions#onSameUrlNavigation\n - api/router/RouterConfigOptions#paramsInheritanceStrategy\n - api/router/RouterConfigOptions#routerconfigoptions\n - api/router/RouterConfigOptions#urlUpdateStrategy\n - api/router/RouterConfigOptions#子接口\n - api/router/UrlHandlingStrategy\n - api/router/withRouterConfig\n - https://github.com/angular/angular-cn/edit/cn/packages/router/src/router_config.ts?message=docs(router)%3A%20请简述你的修改...#L59-L147\n - https://github.com/angular/angular-cn/tree/15.0.1/packages/router/src/router_config.ts#L59-L147\n-->"}