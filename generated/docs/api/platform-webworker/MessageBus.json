{
  "id": "api/platform-webworker/MessageBus",
  "title": "MessageBus",
  "contents": "\n\n<article>\n  <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L10-L51\" aria-label=\"建议修改\" title=\"建议修改\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L10-L51\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  <div class=\"breadcrumb\">\n    <script type=\"application/ld+json\">\n      {\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"BreadcrumbList\",\n        \"itemListElement\": [\n          { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.cn//api\", \"name\": \"API\" } },\n          { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.cn/api/platform-webworker\", \"name\": \"@angular/platform-webworker\" } },\n          { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.cn/api/platform-webworker/MessageBus\", \"name\": \"MessageBus\" } }\n        ]\n      }\n    </script>\n      <a href=\"/api\">API</a> / <a href=\"api/platform-webworker\">@angular/platform-webworker</a>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"messagebus\">MessageBus<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#messagebus\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label class\">class</label>\n    \n    <label class=\"api-status-label experimental\">试验性的</label>\n    \n    \n  </header>\n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  <p class=\"short-description\"></p><p translation-origin=\"off\">Message Bus is a low level API used to communicate between the UI and the background.\nCommunication is based on a channel abstraction. Messages published in a\ngiven channel to one MessageBusSink are received on the same channel\nby the corresponding MessageBusSource.</p>\n<p></p>\n  \n\n  \n\n  \n  <section class=\"class-overview\">\n<code-example language=\"ts\" hidecopy=\"true\" linenums=\"false\">\nabstract class <a href=\"api/platform-webworker/MessageBus\" class=\"code-anchor\">MessageBus</a> implements <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBusSource\">MessageBusSource</a>, <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBusSink\">MessageBusSink</a> {\n  <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBus#initChannel\">abstract initChannel(channel: string, runInZone?: boolean): void</a>\n  <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBus#attachToZone\">abstract attachToZone(zone: NgZone): void</a>\n  <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBus#from\">abstract from(channel: string): EventEmitter&#x3C;any></a>\n  <a class=\"code-anchor\" href=\"api/platform-webworker/MessageBus#to\">abstract to(channel: string): EventEmitter&#x3C;any></a>\n}\n</code-example>\n\n  \n  \n\n</section>\n\n\n  \n\n  \n  \n  \n\n  \n\n\n  \n\n  \n\n  \n\n\n\n  \n\n<section class=\"instance-methods\">\n  <h2 id=\"方法\">方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#方法\"><i class=\"material-icons\">link</i></a></h2>\n  \n    <a id=\"initChannel\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"initchannel\">\n        initChannel()\n        \n      <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#initchannel\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L22-L30\" aria-label=\"建议修改\" title=\"建议修改\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L22-L30\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p translation-origin=\"off\">Sets up a new channel on the MessageBus.\nMUST be called before calling from or to on the channel.\nIf runInZone is true then the source will emit events inside the angular zone\nand the sink will buffer messages and send only once the zone exits.\nif runInZone is false then the source will emit events inside the global zone\nand the sink will send messages immediately.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        \n\n<code-example language=\"ts\" hidecopy=\"true\" linenums=\"false\" class=\"no-box api-heading\">abstract initChannel(channel: string, runInZone?: boolean): void</code-example>\n\n<h4 class=\"no-anchor\" id=\"参数\">参数</h4>\n<table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>channel</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code>string</code>.</p>\n      \n      </td>\n    </tr>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>runInZone</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code>boolean</code>.</p>\n      <p translation-origin=\"off\">Optional. Default is <code>undefined</code>.</p>\n      \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<h4 class=\"no-anchor\" id=\"返回值\">返回值</h4>\n<p translation-origin=\"off\"><code>void</code></p>\n\n\n\n\n\n\n\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"attachToZone\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"attachtozone\">\n        attachToZone()\n        \n      <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#attachtozone\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L31-L37\" aria-label=\"建议修改\" title=\"建议修改\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L31-L37\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p translation-origin=\"off\">Assigns this bus to the given zone.\nAny callbacks attached to channels where runInZone was set to true on initialization\nwill be executed in the given zone.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        \n\n<code-example language=\"ts\" hidecopy=\"true\" linenums=\"false\" class=\"no-box api-heading\">abstract attachToZone(zone: <a href=\"api/core/NgZone\" class=\"code-anchor\">NgZone</a>): void</code-example>\n\n<h4 class=\"no-anchor\" id=\"参数-1\">参数</h4>\n<table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>zone</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code><a href=\"api/core/NgZone\" class=\"code-anchor\">NgZone</a></code>.</p>\n      \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<h4 class=\"no-anchor\" id=\"返回值-1\">返回值</h4>\n<p translation-origin=\"off\"><code>void</code></p>\n\n\n\n\n\n\n\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"from\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"from\">\n        from()\n        \n      <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#from\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L38-L43\" aria-label=\"建议修改\" title=\"建议修改\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L38-L43\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p translation-origin=\"off\">Returns an <a href=\"api/core/EventEmitter\"><code>EventEmitter</code></a> that emits every time a message\nis received on the given channel.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        \n\n<code-example language=\"ts\" hidecopy=\"true\" linenums=\"false\" class=\"no-box api-heading\">abstract from(channel: string): <a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&#x3C;any></code-example>\n\n<h4 class=\"no-anchor\" id=\"参数-2\">参数</h4>\n<table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>channel</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code>string</code>.</p>\n      \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<h4 class=\"no-anchor\" id=\"返回值-2\">返回值</h4>\n<p translation-origin=\"off\"><code><a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&#x3C;any></code></p>\n\n\n\n\n\n\n\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"to\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"to\">\n        to()\n        \n      <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/platform-webworker/MessageBus#to\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L44-L50\" aria-label=\"建议修改\" title=\"建议修改\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L44-L50\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p translation-origin=\"off\">Returns an <a href=\"api/core/EventEmitter\"><code>EventEmitter</code></a> for the given channel\nTo publish methods to that channel just call next on the returned emitter</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        \n\n<code-example language=\"ts\" hidecopy=\"true\" linenums=\"false\" class=\"no-box api-heading\">abstract to(channel: string): <a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&#x3C;any></code-example>\n\n<h4 class=\"no-anchor\" id=\"参数-3\">参数</h4>\n<table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\"><a id=\"\"></a>channel</td>\n      \n      <td class=\"param-description\">\n            <p translation-origin=\"off\">Type: <code>string</code>.</p>\n      \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n<h4 class=\"no-anchor\" id=\"返回值-3\">返回值</h4>\n<p translation-origin=\"off\"><code><a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&#x3C;any></code></p>\n\n\n\n\n\n\n\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n</section>\n\n\n  \n\n\n  \n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/platform-webworker\n - api/platform-webworker/MessageBusSink\n - api/platform-webworker/MessageBusSource\n - api/platform-webworker/WorkerAppModule\n-->\n<!-- links from this doc:\n - /api\n - api/core/EventEmitter\n - api/core/NgZone\n - api/platform-webworker\n - api/platform-webworker/MessageBus#attachToZone\n - api/platform-webworker/MessageBus#attachtozone\n - api/platform-webworker/MessageBus#from\n - api/platform-webworker/MessageBus#initChannel\n - api/platform-webworker/MessageBus#initchannel\n - api/platform-webworker/MessageBus#messagebus\n - api/platform-webworker/MessageBus#to\n - api/platform-webworker/MessageBus#方法\n - api/platform-webworker/MessageBusSink\n - api/platform-webworker/MessageBusSource\n - https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L10-L51\n - https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L22-L30\n - https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L31-L37\n - https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L38-L43\n - https://github.com/angular/angular/edit/master/packages/platform-webworker/src/web_workers/shared/message_bus.ts?message=docs(platform-webworker)%3A%20describe%20your%20change...#L44-L50\n - https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L10-L51\n - https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L22-L30\n - https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L31-L37\n - https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L38-L43\n - https://github.com/angular/angular/tree/6.1.0/packages/platform-webworker/src/web_workers/shared/message_bus.ts#L44-L50\n-->"
}