{"id":"api/upgrade/UpgradeAdapter","title":"UpgradeAdapter","contents":"\n\n<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.cn//api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.cn/api/upgrade\", \"name\": \"@angular/upgrade\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.cn/api/upgrade/UpgradeAdapter\", \"name\": \"UpgradeAdapter\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/upgrade\">@angular/upgrade</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L21-L645\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L21-L645\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  \n  <header ng-should-translate=\"\" class=\"api-header\">\n    <h1 id=\"upgradeadapter\">UpgradeAdapter<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#upgradeadapter\"><i class=\"material-icons\">link</i></a></h1>\n    \n    <label class=\"api-type-label class\">class</label>\n    <label class=\"api-status-label deprecated\">已弃用</label>\n    \n    \n  </header>\n  \n  <aio-toc class=\"embedded\"></aio-toc>\n\n  <div class=\"api-body\">\n    \n  <section ng-should-translate=\"\" class=\"short-description\">\n    <p>Use <code><a href=\"api/upgrade/UpgradeAdapter\" class=\"code-anchor\">UpgradeAdapter</a></code> to allow AngularJS and Angular to coexist in a single application.</p>\n\n    <p no-translate=\"\"><a href=\"api/upgrade/UpgradeAdapter#description\">查看\"说明\"...</a></p>\n  </section>\n  \n\n  \n<section ng-should-translate=\"\" class=\"deprecated\">\n  <p><strong>已弃用:</strong> Deprecated since v5. Use <code><a href=\"api/upgrade/static\" class=\"code-anchor\">upgrade/static</a></code> instead, which also supports\n<a href=\"guide/aot-compiler\">Ahead-of-Time compilation</a>.</p>\n\n</section>\n\n\n  \n  <section ng-should-translate=\"\" class=\"class-overview\">\n<code-example language=\"ts\" hidecopy=\"true\">\nclass <a href=\"api/upgrade/UpgradeAdapter\" class=\"code-anchor\">UpgradeAdapter</a> {\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#constructor()\"><span class=\"member-name\">constructor</span>(ng2AppModule: Type&lt;any&gt;, compilerOptions?: CompilerOptions)</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#downgradeNg2Component\"><span class=\"member-name\">downgradeNg2Component</span>(component: Type&lt;any&gt;): Function</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#upgradeNg1Component\"><span class=\"member-name\">upgradeNg1Component</span>(name: string): Type&lt;any&gt;</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#registerForNg1Tests\"><span class=\"member-name\">registerForNg1Tests</span>(modules?: string[]): UpgradeAdapterRef</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#bootstrap\"><span class=\"member-name\">bootstrap</span>(element: Element, modules?: any[], config?: IAngularBootstrapConfig): UpgradeAdapterRef</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#upgradeNg1Provider\"><span class=\"member-name\">upgradeNg1Provider</span>(name: string, options?: { asToken: any; })</a>\n  <a class=\"code-anchor\" href=\"api/upgrade/UpgradeAdapter#downgradeNg2Provider\"><span class=\"member-name\">downgradeNg2Provider</span>(token: any): Function</a>\n}\n</code-example>\n\n  \n  \n\n</section>\n\n\n  \n\n  \n  \n\n\n  \n<section ng-should-translate=\"\" class=\"description\">\n  <h2 id=\"description\">说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p>The <code><a href=\"api/upgrade/UpgradeAdapter\" class=\"code-anchor\">UpgradeAdapter</a></code> allows:</p>\n<ol>\n<li>creation of Angular component from AngularJS component directive\n(See [UpgradeAdapter#upgradeNg1Component()])</li>\n<li>creation of AngularJS directive from Angular component.\n(See [UpgradeAdapter#downgradeNg2Component()])</li>\n<li>Bootstrapping of a hybrid Angular application which contains both of the frameworks\ncoexisting in a single application.</li>\n</ol>\n\n  <p>Further information available in the <a href=\"api/upgrade/UpgradeAdapter#usage-notes\">Usage Notes</a>...</p>\n</section>\n\n\n  \n\n\n\n\n\n\n<h2 id=\"constructor\">构造函数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#constructor\"><i class=\"material-icons\">link</i></a></h2>\n<a id=\"constructor()\"></a>\n<table class=\"is-full-width method-table constructor\">\n  \n  <tbody>\n    \n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">constructor</span>(ng2AppModule: <a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;any&gt;, compilerOptions?: <a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a>)</code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table constructor-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"constructor-overload-parameter\">\n      <td class=\"param-name\"><nt-wrapper>\n        <a id=\"\"></a>\n        <code>ng2AppModule</code>\n      </nt-wrapper><nt-wrapper>\n        <a id=\"\"></a>\n        <code>compilerOptions</code>\n      </nt-wrapper></td>\n      <td class=\"param-type\"><nt-wrapper><code><a href=\"api/core/Type\" class=\"code-anchor\">Type</a><any></any></code></nt-wrapper><nt-wrapper><code><a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a></code></nt-wrapper></td>\n      <td class=\"param-description\"><nt-wrapper translation-result=\"on\">\n              <div no-translate=\"\">可选. 默认值是 `undefined`.</div>\n        \n      </nt-wrapper><nt-wrapper translation-origin=\"off\">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n      </nt-wrapper></td>\n    </tr>\n    \n  </tbody>\n</table>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n\n\n\n\n\n\n\n<section ng-should-translate=\"\" class=\"instance-methods\">\n  <a name=\"methods\"></a>\n  <h2 id=\"instance-methods\">方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#instance-methods\"><i class=\"material-icons\">link</i></a></h2>\n  \n    <a id=\"downgradeNg2Component\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"downgradeng2component\">\n      downgradeNg2Component()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#downgradeng2component\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L132-L198\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L132-L198\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Allows Angular Component to be used from AngularJS.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">downgradeNg2Component</span>(component: <a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;any&gt;): Function</code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数-1\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-methods-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\">\n        <a id=\"\"></a>\n        <code>component</code>\n      </td>\n      <td class=\"param-type\"><code><a href=\"api/core/Type\" class=\"code-anchor\">Type</a><any></any></code></td>\n      <td class=\"param-description\">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h6 class=\"no-anchor\" id=\"返回值\">返回值</h6>\n  <p><code>Function</code></p>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  <tr>\n      <td class=\"description\">\n        <p>Use <code>downgradeNg2Component</code> to create an AngularJS Directive Definition Factory from\nAngular Component. The adapter will bootstrap Angular component from within the\nAngularJS template.</p>\n\n      </td>\n    </tr>\n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"upgradeNg1Component\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"upgradeng1component\">\n      upgradeNg1Component()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#upgradeng1component\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L199-L286\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L199-L286\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Allows AngularJS Component to be used from Angular.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">upgradeNg1Component</span>(name: string): <a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;any&gt;</code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数-2\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-methods-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\">\n        <a id=\"\"></a>\n        <code>name</code>\n      </td>\n      <td class=\"param-type\"><code>string</code></td>\n      <td class=\"param-description\">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h6 class=\"no-anchor\" id=\"返回值-1\">返回值</h6>\n  <p><code><a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;any&gt;</code></p>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  <tr>\n      <td class=\"description\">\n        <p>Use <code>upgradeNg1Component</code> to create an Angular component from AngularJS Component\ndirective. The adapter will bootstrap AngularJS component from within the Angular\ntemplate.</p>\n\n      </td>\n    </tr>\n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"registerForNg1Tests\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"registerforng1tests\">\n      registerForNg1Tests()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#registerforng1tests\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L287-L343\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L287-L343\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Registers the adapter's AngularJS upgrade module for unit testing in AngularJS.\nUse this instead of <code>angular.mock.module()</code> to load the upgrade module into\nthe AngularJS testing injector.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">registerForNg1Tests</span>(modules?: string[]): <a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a></code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数-3\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-methods-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\">\n        <a id=\"\"></a>\n        <code>modules</code>\n      </td>\n      <td class=\"param-type\"><code>string[]</code></td>\n      <td class=\"param-description\">\n      <p>any AngularJS modules that the upgrade module should depend upon</p>\n        <div no-translate=\"\">可选. 默认值是 `undefined`.</div>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h6 class=\"no-anchor\" id=\"返回值-2\">返回值</h6>\n  <p><code><a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a></code>: an <code><a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a></code>, which lets you register a <code>ready()</code> callback to\nrun assertions once the Angular components are ready to test through AngularJS.</p>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  \n\n  <tr>\n      <td class=\"usage-notes\">\n        <h4 id=\"registerForNg1Tests-usage-notes\">使用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#registerForNg1Tests-usage-notes\"><i class=\"material-icons\">link</i></a></h4>\n        <h5 id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#example\"><i class=\"material-icons\">link</i></a></h5>\n<code-example>\nconst upgradeAdapter = new <a href=\"api/upgrade/UpgradeAdapter\" class=\"code-anchor\">UpgradeAdapter</a>(MyNg2Module);\n\n// configure the adapter with upgrade/downgrade components and services\nupgradeAdapter.downgradeNg2Component(MyComponent);\n\nlet upgradeAdapterRef: <a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a>;\nlet $compile, $rootScope;\n\n// We must register the adapter before any calls to `inject()`\nbeforeEach(() =&gt; {\n  upgradeAdapterRef = upgradeAdapter.registerForNg1Tests(['heroApp']);\n});\n\nbeforeEach(inject((_$compile_, _$rootScope_) =&gt; {\n  $compile = _$compile_;\n  $rootScope = _$rootScope_;\n}));\n\nit(\"says hello\", (done) =&gt; {\n  upgradeAdapterRef.ready(() =&gt; {\n    const element = $compile(\"&lt;my-component&gt;&lt;/my-component&gt;\")($rootScope);\n    $rootScope.$apply();\n    expect(element.html()).toContain(\"Hello World\");\n    done();\n  })\n});\n\n</code-example>\n\n      </td>\n    </tr>\n    </tbody>\n</table>\n\n  \n    <a id=\"bootstrap\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"bootstrap\">\n      bootstrap()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#bootstrap\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L344-L425\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L344-L425\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Bootstrap a hybrid AngularJS / Angular application.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">bootstrap</span>(element: Element, modules?: any[], config?: IAngularBootstrapConfig): <a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a></code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数-4\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-methods-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\"><nt-wrapper>\n        <a id=\"\"></a>\n        <code>element</code>\n      </nt-wrapper><nt-wrapper>\n        <a id=\"\"></a>\n        <code>modules</code>\n      </nt-wrapper></td>\n      <td class=\"param-type\"><nt-wrapper><code>Element</code></nt-wrapper><nt-wrapper><code>any[]</code></nt-wrapper></td>\n      <td class=\"param-description\"><nt-wrapper translation-result=\"on\">\n              <div no-translate=\"\">可选. 默认值是 `undefined`.</div>\n        \n      </nt-wrapper><nt-wrapper translation-origin=\"off\">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n      </nt-wrapper></td>\n    </tr>\n    \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\">\n        <a id=\"\"></a>\n        <code>config</code>\n      </td>\n      <td class=\"param-type\"><code>IAngularBootstrapConfig</code></td>\n      <td class=\"param-description\">\n              <div no-translate=\"\">可选. 默认值是 `undefined`.</div>\n        \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h6 class=\"no-anchor\" id=\"返回值-3\">返回值</h6>\n  <p><code><a href=\"api/upgrade/UpgradeAdapterRef\" class=\"code-anchor\">UpgradeAdapterRef</a></code></p>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  <tr>\n      <td class=\"description\">\n        <p>This <code>bootstrap</code> method is a direct replacement (takes same arguments) for AngularJS\n<a href=\"https://docs.angularjs.org/api/ng/function/angular.bootstrap\"><code>bootstrap</code></a> method. Unlike\nAngularJS, this bootstrap is asynchronous.</p>\n\n      </td>\n    </tr>\n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"upgradeNg1Provider\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"upgradeng1provider\">\n      upgradeNg1Provider()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#upgradeng1provider\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L426-L466\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L426-L466\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Allows AngularJS service to be accessible from Angular.</p>\n\n      </td>\n    </tr>\n  \n    \n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n    <a id=\"downgradeNg2Provider\"></a>\n<table class=\"is-full-width method-table instance-methods\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n    <h3 id=\"downgradeng2provider\">\n      downgradeNg2Provider()\n      \n    <a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#downgradeng2provider\"><i class=\"material-icons\">link</i></a></h3>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L467-L492\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  <a href=\"https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L467-L492\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p>Allows Angular service to be accessible from AngularJS.</p>\n\n      </td>\n    </tr>\n  \n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  \n\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">downgradeNg2Provider</span>(token: any): Function</code-example>\n\n  \n\n  <h6 class=\"no-anchor\" id=\"参数-6\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-methods-overload-parameters\">\n  <tbody>\n  \n    <tr class=\"instance-methods-overload-parameter\">\n      <td class=\"param-name\">\n        <a id=\"\"></a>\n        <code>token</code>\n      </td>\n      <td class=\"param-type\"><code>any</code></td>\n      <td class=\"param-description\">\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     \n      </td>\n    </tr>\n  </tbody>\n</table>\n\n  \n  <h6 class=\"no-anchor\" id=\"返回值-4\">返回值</h6>\n  <p><code>Function</code></p>\n\n  \n\n\n  \n\n  \n</div>\n      </td>\n    </tr>\n  \n\n  \n\n  \n    </tbody>\n</table>\n\n  \n</section>\n\n\n\n  \n<section ng-should-translate=\"\" class=\"usage-notes\">\n  <h2 id=\"usage-notes\">使用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#usage-notes\"><i class=\"material-icons\">link</i></a></h2>\n  <h3 id=\"mental-model\">Mental Model<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#mental-model\"><i class=\"material-icons\">link</i></a></h3>\n<p>When reasoning about how a hybrid application works it is useful to have a mental model which\ndescribes what is happening and explains what is happening at the lowest level.</p>\n<ol>\n<li>There are two independent frameworks running in a single application, each framework treats\nthe other as a black box.</li>\n<li>Each DOM element on the page is owned exactly by one framework. Whichever framework\ninstantiated the element is the owner. Each framework only updates/interacts with its own\nDOM elements and ignores others.</li>\n<li>AngularJS directives always execute inside AngularJS framework codebase regardless of\nwhere they are instantiated.</li>\n<li>Angular components always execute inside Angular framework codebase regardless of\nwhere they are instantiated.</li>\n<li>An AngularJS component can be upgraded to an Angular component. This creates an\nAngular directive, which bootstraps the AngularJS component directive in that location.</li>\n<li>An Angular component can be downgraded to an AngularJS component directive. This creates\nan AngularJS directive, which bootstraps the Angular component in that location.</li>\n<li>Whenever an adapter component is instantiated the host element is owned by the framework\ndoing the instantiation. The other framework then instantiates and owns the view for that\ncomponent. This implies that component bindings will always follow the semantics of the\ninstantiation framework. The syntax is always that of Angular syntax.</li>\n<li>AngularJS is always bootstrapped first and owns the bottom most view.</li>\n<li>The new application is running in Angular zone, and therefore it no longer needs calls to\n<code>$apply()</code>.</li>\n</ol>\n<h3 id=\"example\">Example<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/upgrade/UpgradeAdapter#example\"><i class=\"material-icons\">link</i></a></h3>\n<code-example>\nconst adapter = new <a href=\"api/upgrade/UpgradeAdapter\" class=\"code-anchor\">UpgradeAdapter</a>(<a href=\"api/core/forwardRef\" class=\"code-anchor\">forwardRef</a>(() =&gt; MyNg2Module), myCompilerOptions);\nconst module = angular.module('myExample', []);\nmodule.directive('ng2Comp', adapter.downgradeNg2Component(Ng2Component));\n\nmodule.directive('ng1Hello', function() {\n  return {\n     scope: { title: '=' },\n     template: 'ng1[Hello {{title}}!](&lt;span ng-transclude&gt;&lt;/span&gt;)'\n  };\n});\n\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'ng2-comp',\n  inputs: ['name'],\n  template: 'ng2[&lt;ng1-hello [title]=\"name\"&gt;transclude&lt;/ng1-hello&gt;](&lt;ng-content&gt;&lt;/ng-content&gt;)',\n  directives:\n})\nclass Ng2Component {\n}\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  declarations: [Ng2Component, adapter.upgradeNg1Component('ng1Hello')],\n  imports: [<a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a>]\n})\nclass MyNg2Module {}\n\n\ndocument.body.innerHTML = '&lt;ng2-comp name=\"World\"&gt;project&lt;/ng2-comp&gt;';\n\nadapter.bootstrap(document.body, ['myExample']).ready(function() {\n  expect(document.body.textContent).toEqual(\n      \"ng2[ng1[Hello World!](transclude)](project)\");\n});\n\n</code-example>\n\n</section>\n\n\n\n  </div>\n</article>\n\n<!-- links to this doc:\n - api/upgrade\n - guide/upgrade\n-->\n<!-- links from this doc:\n - /api\n - api/core/CompilerOptions\n - api/core/Component\n - api/core/Inject-1\n - api/core/Injectable\n - api/core/Input\n - api/core/NgModule\n - api/core/Type\n - api/core/forwardRef\n - api/forms/ControlValueAccessor\n - api/platform-browser/BrowserModule\n - api/upgrade\n - api/upgrade/UpgradeAdapter#bootstrap\n - api/upgrade/UpgradeAdapter#bootstrap-usage-notes\n - api/upgrade/UpgradeAdapter#constructor\n - api/upgrade/UpgradeAdapter#constructor()\n - api/upgrade/UpgradeAdapter#description\n - api/upgrade/UpgradeAdapter#downgradeNg2Component\n - api/upgrade/UpgradeAdapter#downgradeNg2Component-usage-notes\n - api/upgrade/UpgradeAdapter#downgradeNg2Provider\n - api/upgrade/UpgradeAdapter#downgradeNg2Provider-usage-notes\n - api/upgrade/UpgradeAdapter#downgradeng2component\n - api/upgrade/UpgradeAdapter#downgradeng2provider\n - api/upgrade/UpgradeAdapter#example\n - api/upgrade/UpgradeAdapter#instance-methods\n - api/upgrade/UpgradeAdapter#mental-model\n - api/upgrade/UpgradeAdapter#registerForNg1Tests\n - api/upgrade/UpgradeAdapter#registerForNg1Tests-usage-notes\n - api/upgrade/UpgradeAdapter#registerforng1tests\n - api/upgrade/UpgradeAdapter#supported-features\n - api/upgrade/UpgradeAdapter#upgradeNg1Component\n - api/upgrade/UpgradeAdapter#upgradeNg1Component-usage-notes\n - api/upgrade/UpgradeAdapter#upgradeNg1Provider\n - api/upgrade/UpgradeAdapter#upgradeNg1Provider-usage-notes\n - api/upgrade/UpgradeAdapter#upgradeadapter\n - api/upgrade/UpgradeAdapter#upgradeng1component\n - api/upgrade/UpgradeAdapter#upgradeng1provider\n - api/upgrade/UpgradeAdapter#usage-notes\n - api/upgrade/UpgradeAdapterRef\n - api/upgrade/static\n - guide/aot-compiler\n - https://docs.angularjs.org/api/ng/function/angular.bootstrap\n - https://docs.angularjs.org/api/ng/service/$compile\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L132-L198\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L199-L286\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L21-L645\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L287-L343\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L344-L425\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L426-L466\n - https://github.com/angular/angular-cn/edit/aio/packages/upgrade/src/dynamic/src/upgrade_adapter.ts?message=docs(upgrade)%3A%20请简述你的修改...#L467-L492\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L132-L198\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L199-L286\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L21-L645\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L287-L343\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L344-L425\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L426-L466\n - https://github.com/angular/angular-cn/tree/12.1.0-next.1/packages/upgrade/src/dynamic/src/upgrade_adapter.ts#L467-L492\n-->"}