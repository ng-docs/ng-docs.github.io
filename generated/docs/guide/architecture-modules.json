{
  "id": "guide/architecture-modules",
  "title": "Introduction to modules",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular-cn/edit/aio/aio/content/guide/architecture-modules.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"introduction-to-modules\" translation-result=\"on\">NgModule 简介<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#introduction-to-modules\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"introduction-to-modules\">Introduction to modules<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#introduction-to-modules\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">Angular 应用是模块化的，它拥有自己的模块化系统，称作 <em>NgModule</em>。\n一个 NgModule 就是一个容器，用于存放一些内聚的代码块，这些代码块专注于某个应用领域、某个工作流或一组紧密相关的功能。\n它可以包含一些组件、服务提供商或其它代码文件，其作用域由包含它们的 NgModule 定义。\n它还可以导入一些由其它模块中导出的功能，并导出一些指定的功能供其它 NgModule 使用。</p><p translation-origin=\"off\">Angular apps are modular and Angular has its own modularity system called <em>NgModules</em>.\nNgModules are containers for a cohesive block of code dedicated to an application domain, a workflow, or a closely related set of capabilities. They can contain components, service providers, and other code files whose scope is defined by the containing NgModule. They can import functionality that is exported from other NgModules, and export selected functionality for use by other NgModules.</p>\n\n<p translation-result=\"on\">每个 Angular 应用都至少有一个 NgModule 类，也就是<a href=\"guide/bootstrapping\">根模块</a>，它习惯上命名为 <code>AppModule</code>，并位于一个名叫 <code>app.module.ts</code> 的文件中。<em>引导</em>这个根模块就可以启动你的应用。</p><p translation-origin=\"off\">Every Angular app has at least one NgModule class, <a href=\"guide/bootstrapping\">the <em>root module</em></a>, which is conventionally named <code>AppModule</code> and resides in a file named <code>app.module.ts</code>. You launch your app by <em>bootstrapping</em> the root NgModule.</p>\n\n<p translation-result=\"on\">虽然小型的应用可能只有一个 NgModule，不过大多数应用都会有很多<em>特性模块</em>。应用的<em>根模块</em>之所以叫根模块，是因为它可以包含任意深度的层次化子模块。</p><p translation-origin=\"off\">While a small application might have only one NgModule, most apps have many more <em>feature modules</em>. The <em>root</em> NgModule for an app is so named because it can include child NgModules in a hierarchy of any depth.</p>\n\n<h2 id=\"ngmodule-metadata\" translation-result=\"on\"><code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 元数据<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodule-metadata\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"ngmodule-metadata\">NgModule metadata<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodule-metadata\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">NgModule 是一个带有 <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>()</code> 装饰器的类。<code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>()</code> 装饰器是一个函数，它接受一个元数据对象，该对象的属性用来描述这个模块。其中最重要的属性如下。</p><p translation-origin=\"off\">An NgModule is defined by a class decorated with <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>()</code>. The <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>()</code> decorator is a function that takes a single metadata object, whose properties describe the module. The most important properties are as follows.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"> <code><a href=\"api/core/NgModule#declarations\" class=\"code-anchor\">declarations</a></code>（可声明对象表） —— 那些属于本 NgModule 的<a href=\"guide/architecture-components\">组件</a>、<em>指令</em>、<em>管道</em>。</p><p translation-origin=\"off\"><code><a href=\"api/core/NgModule#declarations\" class=\"code-anchor\">declarations</a></code>: The <a href=\"guide/architecture-components\">components</a>, <em>directives</em>, and <em>pipes</em> that belong to this NgModule.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"> <code><a href=\"api/core/NgModule#exports\" class=\"code-anchor\">exports</a></code>（导出表） —— 那些能在其它模块的<em>组件模板</em>中使用的可声明对象的子集。</p><p translation-origin=\"off\"><code><a href=\"api/core/NgModule#exports\" class=\"code-anchor\">exports</a></code>: The subset of declarations that should be visible and usable in the <em>component templates</em> of other NgModules.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"> <code><a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a></code>（导入表） —— 那些导出了<em>本</em>模块中的组件模板所需的类的其它模块。</p><p translation-origin=\"off\"><code><a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a></code>: Other modules whose exported classes are needed by component templates declared in <em>this</em> NgModule.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"> <code>providers</code> —— 本模块向全局服务中贡献的那些<a href=\"guide/architecture-services\">服务</a>的创建器。\n这些服务能被本应用中的任何部分使用。（你也可以在组件级别指定服务提供商，这通常是首选方式。）</p><p translation-origin=\"off\"><code>providers</code>: Creators of <a href=\"guide/architecture-services\">services</a> that this NgModule contributes to the global collection of services; they become accessible in all parts of the app. (You can also specify providers at the component level, which is often preferred.)</p>\n\n</li>\n<li>\n<p translation-result=\"on\"> <code><a href=\"api/core/NgModule#bootstrap\" class=\"code-anchor\">bootstrap</a></code> —— 应用的主视图，称为<em>根组件</em>。它是应用中所有其它视图的宿主。只有<em>根模块</em>才应该设置这个 <code><a href=\"api/core/NgModule#bootstrap\" class=\"code-anchor\">bootstrap</a></code> 属性。</p><p translation-origin=\"off\"><code><a href=\"api/core/NgModule#bootstrap\" class=\"code-anchor\">bootstrap</a></code>: The main application view, called the <em>root component</em>, which hosts all other app views. Only the <em>root NgModule</em> should set the <code><a href=\"api/core/NgModule#bootstrap\" class=\"code-anchor\">bootstrap</a></code> property.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">下面是一个简单的根 NgModule 定义：</p><p translation-origin=\"off\">Here's a simple root NgModule definition.</p>\n\n<code-example path=\"architecture/src/app/mini-app.ts\" region=\"module\" header=\"src/app/app.module.ts\" linenums=\"false\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> }      from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  <a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a>:      [ <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> ],\n  providers:    [ Logger ],\n  <a href=\"api/core/NgModule#declarations\" class=\"code-anchor\">declarations</a>: [ AppComponent ],\n  <a href=\"api/core/NgModule#exports\" class=\"code-anchor\">exports</a>:      [ AppComponent ],\n  <a href=\"api/core/NgModule#bootstrap\" class=\"code-anchor\">bootstrap</a>:    [ AppComponent ]\n})\nexport class AppModule { }\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">   把 <code>AppComponent</code> 放到 <code><a href=\"api/core/NgModule#exports\" class=\"code-anchor\">exports</a></code> 中是为了演示导出的语法，这在本例子中实际上是没必要的。\n根模块没有任何理由<em>导出</em>任何东西，因为其它模块永远不需要<em>导入</em>根模块。</p><p translation-origin=\"off\">   The <code>export</code> property of <code>AppComponent</code> is included here for illustration; it isn't actually necessary in this example. A root NgModule has no reason to <em>export</em> anything because other modules don't need to <em>import</em> the root NgModule.</p>\n\n</div>\n<h2 id=\"ngmodules-and-components\" translation-result=\"on\">NgModule 和组件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodules-and-components\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"ngmodules-and-components\">NgModules and components<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodules-and-components\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">NgModule 为其中的组件提供了一个<em>编译上下文环境</em>。根模块总会有一个根组件，并在引导期间创建它。\n但是，任何模块都能包含任意数量的其它组件，这些组件可以通过路由器加载，也可以通过模板创建。那些属于这个 NgModule 的组件会共享同一个编译上下文环境。</p><p translation-origin=\"off\">NgModules provide a <em>compilation context</em> for their components. A root NgModule always has a root component that is created during bootstrap, but any NgModule can include any number of additional components, which can be loaded through the router or created through the template. The components that belong to an NgModule share a compilation context.</p>\n\n<figure>\n<img src=\"generated/images/guide/architecture/compilation-context.png\" alt=\"Component compilation context\" class=\"left\" width=\"600\" height=\"202\">\n</figure>\n<br class=\"clear\">\n<p translation-result=\"on\">组件及其模板共同定义<em>视图</em>。组件还可以包含<em>视图层次结构</em>，它能让你定义任意复杂的屏幕区域，可以将其作为一个整体进行创建、修改和销毁。\n一个视图层次结构中可以混合使用由不同 NgModule 中的组件定义的视图。\n这种情况很常见，特别是对一些 UI 库来说。</p><p translation-origin=\"off\">A component and its template together define a <em>view</em>. A component can contain a <em>view hierarchy</em>, which allows you to define arbitrarily complex areas of the screen that can be created, modified, and destroyed as a unit. A view hierarchy can mix views defined in components that belong to different NgModules. This is often the case, especially for UI libraries.</p>\n\n<figure>\n<img src=\"generated/images/guide/architecture/view-hierarchy.png\" alt=\"View hierarchy\" class=\"left\" width=\"600\" height=\"303\">\n</figure>\n<br class=\"clear\">\n<p translation-result=\"on\">当你创建一个组件时，它直接与一个叫做<em>宿主视图</em>的视图关联起来。\n宿主视图可以是视图层次结构的根，该视图层次结构可以包含一些<em>内嵌视图</em>，这些内嵌视图又是其它组件的宿主视图。\n这些组件可以位于相同的 NgModule 中，也可以从其它 NgModule 中导入。\n树中的视图可以嵌套到任意深度。</p><p translation-origin=\"off\">When you create a component, it's associated directly with a single view, called the <em>host view</em>. The host view can be the root of a view hierarchy, which can contain <em>embedded views</em>, which are in turn the host views of other components. Those components can be in the same NgModule, or can be imported from other NgModules. Views in the tree can be nested to any depth.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">  <strong>注意：</strong> 视图的这种层次结构是 Angular 在 DOM 和应用数据中检测与响应变更时的关键因素。</p><p translation-origin=\"off\">  <strong>Note:</strong> The hierarchical structure of views is a key factor in the way Angular detects and responds to changes in the DOM and app data. </p>\n\n</div>\n<h2 id=\"ngmodules-and-javascript-modules\" translation-result=\"on\">NgModule 和 JavaScript 的模块<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodules-and-javascript-modules\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"ngmodules-and-javascript-modules\">NgModules and JavaScript modules<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#ngmodules-and-javascript-modules\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">NgModule 系统与 JavaScript（ES2015）用来管理 JavaScript 对象的模块系统不同，而且也没有直接关联。\n这两种模块系统不同但<em>互补</em>。你可以使用它们来共同编写你的应用。</p><p translation-origin=\"off\">The NgModule system is different from and unrelated to the JavaScript (ES2015) module system for managing collections of JavaScript objects. These are <em>complementary</em> module systems that you can use together to write your apps.</p>\n\n<p translation-result=\"on\">JavaScript 中，每个<em>文件</em>是一个模块，文件中定义的所有对象都从属于那个模块。\n通过 <code>export</code> 关键字，模块可以把它的某些对象声明为公共的。\n其它 JavaScript 模块可以使用<em>import 语句</em>来访问这些公共对象。</p><p translation-origin=\"off\">In JavaScript each <em>file</em> is a module and all objects defined in the file belong to that module.\nThe module declares some objects to be public by marking them with the <code>export</code> key word.\nOther JavaScript modules use <em>import statements</em> to access public objects from other modules.</p>\n\n<code-example path=\"architecture/src/app/app.module.ts\" region=\"imports\" linenums=\"false\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> }     from '@angular/core';\nimport { AppComponent } from './app.component';\n\n</code-example>\n<code-example path=\"architecture/src/app/app.module.ts\" region=\"export\" linenums=\"false\">\nexport class AppModule { }\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">  <a href=\"http://exploringjs.com/es6/ch_modules.html\">学习更多关于 JavaScript 模块的知识。</a></p><p translation-origin=\"off\">  <a href=\"http://exploringjs.com/es6/ch_modules.html\">Learn more about the JavaScript module system on the web.</a></p>\n\n</div>\n<h2 id=\"angular-libraries\" translation-result=\"on\">Angular 自带的库<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#angular-libraries\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"angular-libraries\">Angular libraries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/architecture-modules#angular-libraries\"><i class=\"material-icons\">link</i></a></h2>\n\n<img src=\"generated/images/guide/architecture/library-module.png\" alt=\"Component\" class=\"left\" width=\"240\" height=\"181\">\n<p translation-result=\"on\">Angular 会作为一组 JavaScript 模块进行加载，你可以把它们看成库模块。每个 Angular 库的名称都带有 <code>@angular</code> 前缀。\n使用 <code>npm</code> 包管理器安装它们，并使用 JavaScript 的 <code>import</code> 语句导入其中的各个部分。</p><p translation-origin=\"off\">Angular loads as a collection of JavaScript modules. You can think of them as library modules. Each Angular library name begins with the <code>@angular</code> prefix. Install them with the <code>npm</code> package manager and import parts of them with JavaScript <code>import</code> statements.</p>\n\n<br class=\"clear\">\n<p translation-result=\"on\">例如，像下面这样，从 <code>@angular/core</code> 库中导入 <code><a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> 装饰器：</p><p translation-origin=\"off\">For example, import Angular's <code><a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> decorator from the <code>@angular/core</code> library like this.</p>\n\n<code-example path=\"architecture/src/app/app.component.ts\" region=\"import\" linenums=\"false\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\n</code-example>\n<p translation-result=\"on\">还可以使用 JavaScript 的导入语句从 Angular <em>库</em>中导入 Angular <em>模块</em>。\n比如，下列代码从 <code>platform-browser</code> 库中导入了 <code><a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a></code> 这个 NgModule。</p><p translation-origin=\"off\">You also import NgModules from Angular <em>libraries</em> using JavaScript import statements.\nFor example, the following code imports the <code><a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a></code> NgModule from the <code>platform-browser</code> library.</p>\n\n<code-example path=\"architecture/src/app/mini-app.ts\" region=\"import-browser-module\" linenums=\"false\">\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\n\n</code-example>\n<p translation-result=\"on\">在上面这个简单的根模块范例中，应用的根模块需要来自 <code><a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a></code> 中的素材。要访问这些素材，就要把它加入 <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 元数据的 <code><a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a></code> 中，代码如下：</p><p translation-origin=\"off\">In the example of the simple root module above, the application module needs material from within\n<code><a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a></code>. To access that material, add it to the <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> metadata <code><a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a></code> like this.</p>\n\n<code-example path=\"architecture/src/app/mini-app.ts\" region=\"ngmodule-imports\" linenums=\"false\">\n<a href=\"api/core/NgModule#imports\" class=\"code-anchor\">imports</a>:      [ <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> ],\n\n</code-example>\n<p translation-result=\"on\">通过这种方式，你可以<em>同时</em>使用 Angular 和 JavaScript 的这两种模块系统。\n虽然这两种模块系统容易混淆（它们共享了同样的词汇 <code>import</code> 和<code>export</code>），不过只要多用用你就会熟悉它们各自的语境了。</p><p translation-origin=\"off\">In this way you're using the Angular and JavaScript module systems <em>together</em>. Although it's easy to confuse the two systems, which share the common vocabulary of \"imports\" and \"exports\", you will become familiar with the different contexts in which they are used.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">  更多信息，参见 <a href=\"guide/ngmodules\">NgModules</a>。</p><p translation-origin=\"off\">  Learn more from the <a href=\"guide/ngmodules\">NgModules</a> guide.</p>\n\n</div>\n\n</div>\n\n<!-- links to this doc:\n - guide/architecture\n - guide/architecture-services\n-->\n<!-- links from this doc:\n - api/core/Component\n - api/core/NgModule\n - api/core/NgModule#bootstrap\n - api/core/NgModule#declarations\n - api/core/NgModule#exports\n - api/core/NgModule#imports\n - api/platform-browser/BrowserModule\n - guide/architecture-components\n - guide/architecture-modules#angular-libraries\n - guide/architecture-modules#introduction-to-modules\n - guide/architecture-modules#ngmodule-metadata\n - guide/architecture-modules#ngmodules-and-components\n - guide/architecture-modules#ngmodules-and-javascript-modules\n - guide/architecture-services\n - guide/bootstrapping\n - guide/ngmodules\n - http://exploringjs.com/es6/ch_modules.html\n - https://github.com/angular/angular-cn/edit/aio/aio/content/guide/architecture-modules.md?message=docs%3A%20describe%20your%20change...\n-->"
}