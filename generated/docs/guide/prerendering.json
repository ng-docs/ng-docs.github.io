{"id":"guide/prerendering","title":"预先渲染静态页面","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/cn/aio/content/guide/prerendering.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"prerendering-static-pages\" translation-result=\"on\">预先渲染静态页面<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-static-pages\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Prerendering static pages<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-static-pages\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">Angular Universal 允许你预先渲染应用程序的页面。预先渲染是在构建时处理动态页面生成静态 HTML 的过程。</p><p translation-origin=\"off\">Angular Universal lets you prerender the pages of your application.\nPrerendering is the process where a dynamic page is processed at build time generating static HTML.</p>\n\n<h2 id=\"how-to-prerender-a-page\" translation-result=\"on\">如何预先渲染页面<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#how-to-prerender-a-page\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">How to prerender a page<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#how-to-prerender-a-page\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要预先渲染静态页面，要先向你的应用程序添加服务端渲染（SSR）功能。有关更多信息，请参阅 <a href=\"guide/universal\">Universal 指南</a>。添加 SSR 后，运行以下命令：</p><p translation-origin=\"off\">To prerender a static page make sure to add Server-Side Rendering (SSR) capabilities to your application.\nFor more information see the <a href=\"guide/universal\">universal guide</a>.\nOnce SSR is added, run the following command:</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nnpm run prerender\n\n</code-example>\n<h3 id=\"build-options-for-prerendering\" translation-result=\"on\">预先渲染的构建选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#build-options-for-prerendering\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Build options for prerendering<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#build-options-for-prerendering\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">向应用程序添加预先渲染时，可以使用以下构建选项：</p><p translation-origin=\"off\">When you add prerendering to your application, the following build options are available:</p>\n\n<table>\n<thead>\n<tr>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">选项</nt-wrapper><nt-wrapper translation-origin=\"off\">Options</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">详情</nt-wrapper><nt-wrapper translation-origin=\"off\">Details</nt-wrapper></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code>browserTarget</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">指定要构建的目标。</nt-wrapper><nt-wrapper translation-origin=\"off\">Specify the target to build.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>serverTarget</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">指定用于预先渲染的应用程序的服务器目标。</nt-wrapper><nt-wrapper translation-origin=\"off\">Specify the Server target to use for prerendering the application.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>routes</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">定义要预先渲染的额外路由数组。</nt-wrapper><nt-wrapper translation-origin=\"off\">Define an array of extra routes to prerender.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>guessRoutes</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">构建器是否应该提取路由并猜测要渲染的路径。默认为 <code>true</code>。</nt-wrapper><nt-wrapper translation-origin=\"off\">Whether builder should extract routes and guess which paths to render. Defaults to <code>true</code>.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>routesFile</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">指定一个文件，其中包含要预先渲染的所有路由的列表，以换行符分隔。如果你有大量路由，则此选项很有用。</nt-wrapper><nt-wrapper translation-origin=\"off\">Specify a file that contains a list of all routes to prerender, separated by newlines. This option is useful if you have a large number of routes.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code>numProcesses</code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">指定在运行预先渲染命令时要使用的 CPU 数量。</nt-wrapper><nt-wrapper translation-origin=\"off\">Specify the number of CPUs to be used while running the prerendering command.</nt-wrapper></td>\n</tr>\n\n</tbody>\n</table>\n<h3 id=\"prerendering-dynamic-routes\" translation-result=\"on\">预先渲染动态路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-dynamic-routes\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Prerendering dynamic routes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-dynamic-routes\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">你还可以预先渲染动态路由。动态路由的一个例子是 <code>product/:id</code>，其中 <code>id</code> 是动态提供的。</p><p translation-origin=\"off\">You can prerender dynamic routes.\nAn example of a dynamic route is <code>product/:id</code>, where <code>id</code> is dynamically provided.</p>\n\n<p translation-result=\"on\">要预先渲染动态路由，请从以下选项中选择一个：</p><p translation-origin=\"off\">To prerender dynamic routes, choose one from the following options:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">在命令行中提供额外的路由</p><p translation-origin=\"off\">Provide extra routes in the command line</p>\n\n</li>\n<li>\n<p translation-result=\"on\">使用文件来提供路由</p><p translation-origin=\"off\">Provide routes using a file</p>\n\n</li>\n<li>\n<p translation-result=\"on\">预先渲染指定路由</p><p translation-origin=\"off\">Prerender specific routes</p>\n\n</li>\n</ul>\n<h4 id=\"provide-extra-routes-in-the-command-line\" translation-result=\"on\">在命令行中提供额外的路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#provide-extra-routes-in-the-command-line\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\">Provide extra routes in the command line<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#provide-extra-routes-in-the-command-line\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">在运行 prerender 命令时，你可以提供额外的路由。比如：</p><p translation-origin=\"off\">While running the prerender command, you can provide extra routes.\nFor example:</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng run &lt;app-name&gt;:prerender --routes /product/1 /product/2\n\n</code-example>\n<h4 id=\"providing-extra-routes-using-a-file\" translation-result=\"on\">使用文件提供额外的路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#providing-extra-routes-using-a-file\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\">Providing extra routes using a file<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#providing-extra-routes-using-a-file\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">你可以使用文件提供路由以创建静态页面。如果你要创建的大量路由（比如电子商务应用程序的产品详细信息）可能来自外部源，比如数据库或内容管理系统（CMS），则此方法很有用。</p><p translation-origin=\"off\">You can provide routes using a file to create static pages.\nThis method is useful if you have a large number of routes to create. For example, product details for an e-commerce application, which might come from an external source, like a Database or Content Management System (CMS).</p>\n\n<p translation-result=\"on\">要使用文件来提供路由，请使用 <code>--routes-file</code> 选项和包含路由的 <code>.txt</code> 文件的名称。</p><p translation-origin=\"off\">To provide routes using a file, use the <code>--routes-file</code> option with the name of a <code>.txt</code> file containing the routes.</p>\n\n<p translation-result=\"on\">比如，你可以通过使用脚本从数据库中提取 ID 并将它们保存到 <code>routes.txt</code> 文件来创建此文件：</p><p translation-origin=\"off\">For example, you could create this file by using a script to extract IDs from a database and save them to a <code>routes.txt</code> file:</p>\n\n<code-example language=\"none\" header=\"routes.txt\">\n\n/products/1\n/products/555\n\n</code-example>\n<p translation-result=\"on\">当你的 <code>.txt</code> 文件准备好后，运行以下命令以使用一些动态值来预先渲染静态文件：</p><p translation-origin=\"off\">When your <code>.txt</code> file is ready, run the following command to prerender the static files with dynamic values:</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng run &lt;app-name&gt;:prerender --routes-file routes.txt\n\n</code-example>\n<h4 id=\"prerendering-specific-routes\" translation-result=\"on\">预先渲染特定路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-specific-routes\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\">Prerendering specific routes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/prerendering#prerendering-specific-routes\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">你还可以将特定路由传递给 prerender 命令。如果你选择此选项，请确保关闭 <code>guessRoutes</code> 选项。</p><p translation-origin=\"off\">You can also pass specific routes to the prerender command.\nIf you choose this option, make sure to turn off the <code>guessRoutes</code> option.</p>\n\n<code-example format=\"shell\" language=\"shell\">\n\nng run &lt;app-name&gt;:prerender --no-guess-routes --routes /product/1 /product/1\n\n</code-example>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间： 2/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/developer-guide-overview\n - guide/universal\n-->\n<!-- links from this doc:\n - guide/prerendering#build-options-for-prerendering\n - guide/prerendering#how-to-prerender-a-page\n - guide/prerendering#prerendering-dynamic-routes\n - guide/prerendering#prerendering-specific-routes\n - guide/prerendering#prerendering-static-pages\n - guide/prerendering#provide-extra-routes-in-the-command-line\n - guide/prerendering#providing-extra-routes-using-a-file\n - guide/prerendering#使用文件提供额外的路由\n - guide/prerendering#在命令行中提供额外的路由\n - guide/prerendering#如何预先渲染页面\n - guide/prerendering#预先渲染动态路由\n - guide/prerendering#预先渲染特定路由\n - guide/prerendering#预先渲染的构建选项\n - guide/prerendering#预先渲染静态页面\n - guide/universal\n - https://github.com/angular/angular-cn/edit/cn/aio/content/guide/prerendering.md?message=docs%3A%20请简述你的修改...\n-->"}