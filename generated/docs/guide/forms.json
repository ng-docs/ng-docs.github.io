{"id":"guide/forms","title":"Building a template-driven form","contents":"\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/angular/angular-cn/edit/cn/aio/content/guide/forms.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"building-a-template-driven-form\" translation-result=\"on\">构建模板驱动表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#building-a-template-driven-form\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\">Building a template-driven form<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#building-a-template-driven-form\"><i class=\"material-icons\">link</i></a></h1>\n\n<p><a id=\"template-driven\"></a></p>\n<p translation-result=\"on\">本教程会向你展示如何创建模板驱动的表单。表单中的控件元素绑定到具有输入验证功能的数据属性。输入验证有助于保持数据的完整性，而样式可以改善用户体验。</p><p translation-origin=\"off\">This tutorial shows you how to create a template-driven form. The control elements in the form are bound to data properties that have input validation. The input validation helps maintain data integrity and styling to improve the user experience.</p>\n\n<p translation-result=\"on\">当在模板中进行更改时，模板驱动表单会使用<a href=\"guide/architecture-components#data-binding\" title=\"介绍 2 路数据绑定\">双向数据绑定</a>来更新组件中的数据模型，反之亦然。</p><p translation-origin=\"off\">Template-driven forms use <a href=\"guide/architecture-components#data-binding\" title=\"Intro to 2-way data binding\">two-way data binding</a> to update the data model in the component as changes are made in the template and vice versa.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">Angular 支持两种交互式表单的设计方法。你可以使用 Angular 中的<a href=\"guide/glossary#template\" title=\"模板术语的定义\">模板语法和指令</a>中的表单专用指令构建表单。本教程讲解了这些用于编写模板的指令和技巧。你还可以使用响应式或模型驱动的方式来构建表单。</p><p translation-origin=\"off\">Angular supports two design approaches for interactive forms.\nYou can build forms by using Angular <a href=\"guide/glossary#template\" title=\"Definition of template terms\">template syntax and directives</a> to write templates with the form-specific directives.\nThis tutorial describes the directives and techniques to use when writing templates. You can also use a reactive or model-driven approach to build forms.</p>\n\n<p translation-result=\"on\">模板驱动表单适用于小型或简单的表单，而响应式表单则更具伸缩性，适用于复杂表单。要比较这两种方法，参阅<a href=\"guide/forms-overview\" title=\"Angular 表单概述\">“表单简介”</a></p><p translation-origin=\"off\">Template-driven forms are suitable for small or simple forms, while reactive forms are more scalable and suitable for complex forms.\nFor a comparison of the two approaches, see <a href=\"guide/forms-overview\" title=\"Overview of Angular forms.\">Introduction to Forms</a></p>\n\n</div>\n<p translation-result=\"on\">你可以用 Angular 模板来构建各种表单，比如登录表单、联系人表单和几乎所有的业务表单。你可以创造性地对控件进行布局并把它们绑定到对象模型的数据上。你可以指定验证规则并显示验证错误，根据条件启用或禁用特定控件，触发内置的视觉反馈等等。</p><p translation-origin=\"off\">You can build almost any kind of form with an Angular template —login forms, contact forms, and pretty much any business form.\nYou can lay out the controls creatively and bind them to the data in your object model.\nYou can specify validation rules and display validation errors, conditionally allow input from specific controls, trigger built-in visual feedback, and much more.</p>\n\n<p translation-result=\"on\">本教程向你展示了如何构建一个简化的表单，例如<a href=\"tutorial\" title=\"英雄之旅\">《英雄之旅》教程</a>中的表单来讲解这些技术。</p><p translation-origin=\"off\">This tutorial shows you how to build a simplified form like the one from the <a href=\"tutorial\" title=\"Tour of Heroes\">Tour of Heroes tutorial</a> to illustrate the techniques.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">运行或下载范例应用：<live-example></live-example>。</p><p translation-origin=\"off\">Run or download the example application: <live-example></live-example>.</p>\n\n</div>\n<h2 id=\"objectives\" translation-result=\"on\">目标<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#objectives\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Objectives<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#objectives\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">本教程将教你如何执行以下操作：</p><p translation-origin=\"off\">This tutorial teaches you how to do the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">使用组件和模板构建一个 Angular 表单</p><p translation-origin=\"off\">Build an Angular form with a component and template</p>\n\n</li>\n<li>\n<p translation-result=\"on\">使用 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 创建双向数据绑定，以便读写输入控件的值</p><p translation-origin=\"off\">Use <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> to create two-way data bindings for reading and writing input-control values</p>\n\n</li>\n<li>\n<p translation-result=\"on\">使用跟踪控件状态的特殊 CSS 类来提供视觉反馈</p><p translation-origin=\"off\">Provide visual feedback using special CSS classes that track the state of the controls</p>\n\n</li>\n<li>\n<p translation-result=\"on\">向用户显示验证错误，并根据表单状态有条件地允许来自表单控件的输入</p><p translation-origin=\"off\">Display validation errors to users and conditionally allow input from form controls based on the form status</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/template-reference-variables\">使用模板引用变量</a>在 HTML 元素之间共享信息</p><p translation-origin=\"off\">Share information across HTML elements using <a href=\"guide/template-reference-variables\">template reference variables</a></p>\n\n</li>\n</ul>\n<h2 id=\"prerequisites\" translation-result=\"on\">前提条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">在进一步研究模板驱动表单之前，你应该对下列内容有一个基本的了解。</p><p translation-origin=\"off\">Before going further into template-driven forms, you should have a basic understanding of the following.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"https://www.typescriptlang.org/\" title=\"TypeScript 语言\">TypeScript</a>和 HTML5 编程</p><p translation-origin=\"off\"><a href=\"https://www.typescriptlang.org/\" title=\"The TypeScript language\">TypeScript</a> and HTML5 programming</p>\n\n</li>\n<li>\n<p translation-result=\"on\">Angular 的应用设计基础，就像<a href=\"guide/architecture\" title=\"Angular 概念简介。\">Angular 概念简介</a>中描述的那样</p><p translation-origin=\"off\">Angular application-design fundamentals, as described in <a href=\"guide/architecture\" title=\"Introduction to Angular concepts\">Angular Concepts</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/template-syntax\" title=\"模板语法指南\">Angular 模板语法</a>的基础知识</p><p translation-origin=\"off\">The basics of <a href=\"guide/template-syntax\" title=\"Template syntax guide\">Angular template syntax</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/forms-overview\" title=\"Angular 表单概述\">“表单简介”</a>中提供的表单设计概念</p><p translation-origin=\"off\">The form-design concepts that are presented in <a href=\"guide/forms-overview\" title=\"Overview of Angular forms\">Introduction to Forms</a></p>\n\n</li>\n</ul>\n<p><a id=\"intro\"></a></p>\n<h2 id=\"build-a-template-driven-form\" translation-result=\"on\">构建一个模板驱动表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#build-a-template-driven-form\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Build a template-driven form<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#build-a-template-driven-form\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">模板驱动表单依赖于 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> 定义的指令。</p><p translation-origin=\"off\">Template-driven forms rely on directives defined in the <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code>.</p>\n\n<table>\n<thead>\n<tr>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">指令</nt-wrapper><nt-wrapper translation-origin=\"off\">Directives</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">详情</nt-wrapper><nt-wrapper translation-origin=\"off\">Details</nt-wrapper></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><code><a href=\"api/forms/NgModel\" class=\"code-anchor\">NgModel</a></code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">会协调其附着在的表单元素中的值变更与数据模型中的变更，以便你通过输入验证和错误处理来响应用户输入。</nt-wrapper><nt-wrapper translation-origin=\"off\">Reconciles value changes in the attached form element with changes in the data model, allowing you to respond to user input with input validation and error handling.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">会创建一个顶级的 <code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> 实例，并把它绑定到 <code>&lt;form&gt;</code> 元素上，以跟踪它所聚合的那些表单值并验证状态。只要你导入了 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code>，默认情况下这个指令就会在所有 <code>&lt;form&gt;</code> 标签上激活。你不需要添加特殊的选择器。</nt-wrapper><nt-wrapper translation-origin=\"off\">Creates a top-level <code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> instance and binds it to a <code>&lt;form&gt;</code> element to track aggregated form value and validation status. As soon as you import <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code>, this directive becomes active by default on all <code>&lt;form&gt;</code> tags. You don't need to add a special selector.</nt-wrapper></td>\n</tr>\n\n<tr>\n<td align=\"left\"><code><a href=\"api/forms/NgModelGroup\" class=\"code-anchor\">NgModelGroup</a></code></td>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">会创建 <code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> 的实例并把它绑定到 DOM 元素中。</nt-wrapper><nt-wrapper translation-origin=\"off\">Creates and binds a <code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> instance to a DOM element.</nt-wrapper></td>\n</tr>\n\n</tbody>\n</table>\n<h3 id=\"the-sample-application\" translation-result=\"on\">范例应用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#the-sample-application\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">The sample application<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#the-sample-application\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\"><em>英雄雇佣管理局</em>使用本指南中的范例表单来维护英雄的个人信息。毕竟英雄也要工作啊。这个表单有助于该机构将正确的英雄与正确的危机匹配起来。</p><p translation-origin=\"off\">The sample form in this guide is used by the <em>Hero Employment Agency</em> to maintain personal information about heroes.\nEvery hero needs a job.\nThis form helps the agency match the right hero with the right crisis.</p>\n\n<div class=\"lightbox\">\n<img alt=\"Clean Form\" src=\"generated/images/guide/forms/hero-form-1.png\" width=\"479\" height=\"339\">\n</div>\n<p translation-result=\"on\">该表单突出了一些易于使用的设计特性。比如，这两个必填字段的左边是绿色条，以便让它们醒目。这些字段都有初始值，所以表单是有效的，并且 <strong>Submit</strong> 按钮也是启用的。</p><p translation-origin=\"off\">The form highlights some design features that make it easier to use.\nFor instance, the two required fields have a green bar on the left to make them easy to spot.\nThese fields have initial values, so the form is valid and the <strong>Submit</strong> button is enabled.</p>\n\n<p translation-result=\"on\">使用此表单会向你展示：</p><p translation-origin=\"off\">Working with this form shows you:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">如何包含验证逻辑</p><p translation-origin=\"off\">How to include validation logic</p>\n\n</li>\n<li>\n<p translation-result=\"on\">如何使用标准 CSS 自定义外观表现</p><p translation-origin=\"off\">How to customize the presentation with standard CSS</p>\n\n</li>\n<li>\n<p translation-result=\"on\">如何处理错误条件以确保输入的有效性</p><p translation-origin=\"off\">How to handle error conditions to ensure valid input</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">如果用户删除了英雄的名字，那么表单就会失效。该应用会检测已更改的状态，并以醒目的样式显示验证错误。此外，<strong>Submit</strong> 按钮会被禁用，输入控件左侧的“必填”栏也会从绿色变为红色。</p><p translation-origin=\"off\">If the user deletes the hero name, for example, the form becomes not valid.\nThe application detects the changed status, and displays a validation error in an attention-grabbing style.\nThe <strong>Submit</strong> button is not enabled, and the \"required\" bar to the left of the input control changes from green to red.</p>\n\n<div class=\"lightbox\">\n<img alt=\"Invalid, Name Required\" src=\"generated/images/guide/forms/hero-form-2.png\" width=\"465\" height=\"402\">\n</div>\n<h3 id=\"step-overview\" translation-result=\"on\">步骤概述<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#step-overview\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Step overview<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#step-overview\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">在本教程中，你将使用以下步骤将一个范例表单绑定到数据并处理用户输入。</p><p translation-origin=\"off\">In the course of this tutorial, you bind a sample form to data and handle user input using the following steps.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">建立基本表单。</p><p translation-origin=\"off\">Build the basic form.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">定义一个范例数据模型</p><p translation-origin=\"off\">Define a sample data model</p>\n\n</li>\n<li>\n<p translation-result=\"on\">包括必需的基础设施，比如 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code></p><p translation-origin=\"off\">Include required infrastructure such as the <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code></p>\n\n</li>\n</ul>\n</li>\n<li>\n<p translation-result=\"on\">使用 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 指令和双向数据绑定语法把表单控件绑定到数据属性。</p><p translation-origin=\"off\">Bind form controls to data properties using the <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> directive and two-way data-binding syntax.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">检查 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 如何使用 CSS 类报告控件状态</p><p translation-origin=\"off\">Examine how <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> reports control states using CSS classes</p>\n\n</li>\n<li>\n<p translation-result=\"on\">为控件命名，以便让 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 可以访问它们</p><p translation-origin=\"off\">Name controls to make them accessible to <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code></p>\n\n</li>\n</ul>\n</li>\n<li>\n<p translation-result=\"on\">用 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 跟踪输入的有效性和控件的状态。</p><p translation-origin=\"off\">Track input validity and control status using <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code>.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">添加自定义 CSS 来根据状态提供可视化反馈</p><p translation-origin=\"off\">Add custom CSS to provide visual feedback on the status</p>\n\n</li>\n<li>\n<p translation-result=\"on\">显示和隐藏验证错误信息</p><p translation-origin=\"off\">Show and hide validation-error messages</p>\n\n</li>\n</ul>\n</li>\n<li>\n<p translation-result=\"on\">通过添加到模型数据来响应原生 HTML 按钮的单击事件。</p><p translation-origin=\"off\">Respond to a native HTML button-click event by adding to the model data.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">使用表单的 <a href=\"api/forms/NgForm#properties\"><code>ngSubmit</code></a> 输出属性来处理表单提交。</p><p translation-origin=\"off\">Handle form submission using the <a href=\"api/forms/NgForm#properties\"><code>ngSubmit</code></a> output property of the form.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">在表单生效之前，先禁用 <strong>Submit</strong> 按钮</p><p translation-origin=\"off\">Disable the <strong>Submit</strong> button until the form is valid</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在提交完成后，把已完成的表单替换成页面上不同的内容</p><p translation-origin=\"off\">After submit, swap out the finished form for different content on the page</p>\n\n</li>\n</ul>\n</li>\n</ol>\n<p><a id=\"step1\"></a></p>\n<h2 id=\"build-the-form\" translation-result=\"on\">建立表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#build-the-form\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Build the form<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#build-the-form\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你可以根据这里提供的代码从头创建范例应用，也可以查看 <live-example></live-example>。</p><p translation-origin=\"off\">You can recreate the sample application from the code provided here, or you can examine or download the <live-example></live-example>.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">这里提供的范例应用会创建一个 <code>Hero</code> 类，用于定义表单中所反映的数据模型。</p><p translation-origin=\"off\">The provided sample application creates the <code>Hero</code> class which defines the data model reflected in the form.</p>\n\n<code-example header=\"src/app/hero.ts\" language=\"typescript\" path=\"forms/src/app/hero.ts\">\nexport class Hero {\n\n  constructor(\n    public id: number,\n    public name: string,\n    public power: string,\n    public alterEgo?: string\n  ) {  }\n\n}\n\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">该表单的布局和细节是在 <code>HeroFormComponent</code> 类中定义的。</p><p translation-origin=\"off\">The form layout and details are defined in the <code>HeroFormComponent</code> class.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.ts (v1)\" path=\"forms/src/app/hero-form/hero-form.component.ts\" region=\"v1\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\nimport { Hero } from '../hero';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-hero-form',\n  templateUrl: './hero-form.component.html',\n  styleUrls: ['./hero-form.component.css']\n})\nexport class HeroFormComponent {\n\n  powers = ['Really Smart', 'Super Flexible',\n            'Super Hot', 'Weather Changer'];\n\n  model = new Hero(18, 'Dr. IQ', this.powers[0], 'Chuck Overstreet');\n\n  submitted = false;\n\n  onSubmit() { this.submitted = true; }\n\n}\n\n\n</code-example>\n<p translation-result=\"on\">该组件的 <code>selector</code> 值为 “app-hero-form”，意味着你可以用 <code>&lt;app-hero-form&gt;</code> 标签把这个表单放到父模板中。</p><p translation-origin=\"off\">The component's <code>selector</code> value of \"app-hero-form\" means you can drop this form in a parent template using the <code>&lt;app-hero-form&gt;</code> tag.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">下面的代码会创建一个新的 hero 实例，以便让初始的表单显示一个范例英雄。</p><p translation-origin=\"off\">The following code creates a new hero instance, so that the initial form can show an example hero.</p>\n\n<code-example language=\"typescript\" path=\"forms/src/app/hero-form/hero-form.component.ts\" region=\"SkyDog\">\nconst myHero =  new Hero(42, 'SkyDog',\n                       'Fetch any object at any distance',\n                       'Leslie Rollover');\nconsole.log('My hero is called ' + myHero.name); // \"My hero is called SkyDog\"\n\n</code-example>\n<p translation-result=\"on\">这个演示使用虚拟数据来表达 <code>model</code> 和 <code>powers</code>。在真正的应用中，你会注入一个数据服务来获取和保存实际数据，或者把它们作为输入属性和输出属性进行公开。</p><p translation-origin=\"off\">This demo uses dummy data for <code>model</code> and <code>powers</code>.\nIn a real app, you would inject a data service to get and save real data, or expose these properties as inputs and outputs.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">该应用启用了表单功能，并注册了已创建的表单组件。</p><p translation-origin=\"off\">The application enables the Forms feature and registers the created form component.</p>\n\n<code-example header=\"src/app/app.module.ts\" language=\"typescript\" path=\"forms/src/app/app.module.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\nimport { <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a> } from '@angular/common';\nimport { <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a> } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { HeroFormComponent } from './hero-form/hero-form.component';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [\n    <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a>,\n    <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>,\n    <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a>\n  ],\n  declarations: [\n    AppComponent,\n    HeroFormComponent\n  ],\n  providers: [],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">该表单显示在根组件模板定义的应用布局中。</p><p translation-origin=\"off\">The form is displayed in the application layout defined by the root component's template.</p>\n\n<code-example header=\"src/app/app.component.html\" language=\"html\" path=\"forms/src/app/app.component.html\">\n&lt;app-hero-form&gt;&lt;/app-hero-form&gt;\n\n\n</code-example>\n<p translation-result=\"on\">初始模板定义了一个带有两个表单组和一个提交按钮的表单布局。表单组对应于 Hero 数据模型的两个属性：name 和 alterEgo。每个组都有一个标签和一个用户输入框。</p><p translation-origin=\"off\">The initial template defines the layout for a form with two form groups and a submit button.\nThe form groups correspond to two properties of the Hero data model, name and alterEgo.\nEach group has a label and a box for user input.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><strong>Name</strong> <code>&lt;input&gt;</code> 控件元素中包含了 HTML5 的 <code>required</code> 属性</p><p translation-origin=\"off\">The <strong>Name</strong> <code>&lt;input&gt;</code> control element has the HTML5 <code>required</code> attribute</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><strong>Alter Ego</strong> <code>&lt;input&gt;</code> 没有控件元素，因为 <code>alterEgo</code> 是可选的</p><p translation-origin=\"off\">The <strong>Alter Ego</strong> <code>&lt;input&gt;</code> control element does not because <code>alterEgo</code> is optional</p>\n\n</li>\n</ul>\n<p translation-result=\"on\"><strong>Submit</strong> 按钮里面有一些用于样式化的类。此时，表单布局全都是纯 HTML5，没有绑定或指令。</p><p translation-origin=\"off\">The <strong>Submit</strong> button has some classes on it for styling.\nAt this point, the form  layout is all plain HTML5, with no bindings or directives.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">范例表单使用的是 <a href=\"https://getbootstrap.com/css\">Twitter Bootstrap 中的</a>一些样式类：<code>container</code>，<code>form-group</code>，<code>form-control</code> 和 <code>btn</code>。要使用这些样式，就要在该应用的样式表中导入该库。</p><p translation-origin=\"off\">The sample form uses some style classes from <a href=\"https://getbootstrap.com/css\">Twitter Bootstrap</a>: <code>container</code>, <code>form-group</code>, <code>form-control</code>, and <code>btn</code>.\nTo use these styles, the application's style sheet imports the library.</p>\n\n<code-example header=\"src/styles.css\" path=\"forms/src/styles.1.css\">\n@import url('https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css');\n\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">这份表单让英雄申请人从管理局批准过的固定清单中选出一项超能力。预定义 <code>powers</code> 列表是数据模型的一部分，在 <code>HeroFormComponent</code> 内部维护。Angular 的<a href=\"api/common/NgForOf\" title=\"API 参考\">NgForOf 指令</a>会遍历这些数据值，以填充这个 <code>&lt;select&gt;</code> 元素。</p><p translation-origin=\"off\">The form makes the hero applicant choose one superpower from a fixed list of agency-approved powers.\nThe predefined list of <code>powers</code> is part of the data model, maintained internally in <code>HeroFormComponent</code>.\nThe Angular <a href=\"api/common/NgForOf\" title=\"API reference\">NgForOf directive</a> iterates over the data values to populate the <code>&lt;select&gt;</code> element.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (powers)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"powers\">\n&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"power\"&gt;Hero Power&lt;/label&gt;\n  &lt;select class=\"form-control\" id=\"power\" required&gt;\n    &lt;option *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let pow of powers\" [value]=\"pow\"&gt;{{pow}}&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n\n\n</code-example>\n</li>\n</ol>\n<p translation-result=\"on\">如果你现在正在运行该应用，你会看到选择控件中的超能力列表。由于尚未将这些 input 元素绑定到数据值或事件，因此它们仍然是空白的，没有任何行为。</p><p translation-origin=\"off\">If you run the application right now, you see the list of powers in the selection control.\nThe input elements are not yet bound to data values or events, so they are still blank and have no behavior.</p>\n\n<div class=\"lightbox\">\n<img alt=\"Early form with no binding\" src=\"generated/images/guide/forms/hero-form-3.png\" width=\"473\" height=\"294\">\n</div>\n<p><a id=\"ngModel\"></a></p>\n<h2 id=\"bind-input-controls-to-data-properties\" translation-result=\"on\">把输入控件绑定到数据属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#bind-input-controls-to-data-properties\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Bind input controls to data properties<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#bind-input-controls-to-data-properties\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">下一步是使用双向数据绑定把输入控件绑定到相应的 <code>Hero</code> 属性，这样它们就可以通过更新数据模型来响应用户的输入，并通过更新显示来响应数据中的程序化变更。</p><p translation-origin=\"off\">The next step is to bind the input controls to the corresponding <code>Hero</code> properties with two-way data binding, so that they respond to user input by updating the data model, and also respond to programmatic changes in the data by updating the display.</p>\n\n<p translation-result=\"on\">该 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 指令是由 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> 声明的，它能让你把模板驱动表单中的控件绑定到数据模型中的属性。当你使用双向数据绑定的语法 <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> 引入该指令时，Angular 就可以跟踪控件的值和用户交互，并保持视图与模型的同步。</p><p translation-origin=\"off\">The <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> directive declared in the <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> lets you bind controls in your template-driven form to properties in your data model.\nWhen you include the directive using the  syntax for two-way data binding, <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code>, Angular can track the value and user interaction of the control and keep the view synced with the model.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">编辑模板 <code>hero-form.component.html</code>。</p><p translation-origin=\"off\">Edit the template file <code>hero-form.component.html</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">找到 <strong>Name</strong> 标签旁边的 <code>&lt;input&gt;</code> 标记。</p><p translation-origin=\"off\">Find the <code>&lt;input&gt;</code> tag next to the <strong>Name</strong> label.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">使用双向数据绑定语法 <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"...\"</code> 添加 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 指令。</p><p translation-origin=\"off\">Add the <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> directive, using two-way data binding syntax <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"...\"</code>.</p>\n\n</li>\n</ol>\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"ngModelName-1\">\n&lt;input type=\"text\" class=\"form-control\" id=\"name\"\n       required\n       [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.name\" name=\"name\"&gt;\nTODO: remove this: {{model.name}}\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">这个例子中在每个 input 标记后面都有一个临时的诊断插值 <code>{{model.name}}</code>，以显示相应属性的当前数据值。本提醒是为了让你在观察完这个双向数据绑定后删除这些诊断行。</p><p translation-origin=\"off\">This example has a temporary diagnostic interpolation after each input tag, <code>{{model.name}}</code>, to show the current data value of the corresponding property.\nThe comment reminds you to remove the diagnostic lines when you have finished observing the two-way data binding at work.</p>\n\n</div>\n<p><a id=\"ngForm\"></a></p>\n<h3 id=\"access-the-overall-form-status\" translation-result=\"on\">访问表单的整体状态<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#access-the-overall-form-status\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Access the overall form status<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#access-the-overall-form-status\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">当你导入了 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> 时，Angular 会自动为模板中的 <code>&lt;form&gt;</code> 标签创建并附加一个 <a href=\"api/forms/NgForm\" title=\"NgForm 的 API 参考\">NgForm</a> 指令。（因为 <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> 定义了一个能匹配 <code>&lt;form&gt;</code> 元素的选择器 <code>form</code>）。</p><p translation-origin=\"off\">When you imported the <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> in your component, Angular automatically created and attached an <a href=\"api/forms/NgForm\" title=\"API reference for NgForm\">NgForm</a> directive to the <code>&lt;form&gt;</code> tag in the template (because <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> has the selector <code>form</code> that matches <code>&lt;form&gt;</code> elements).</p>\n\n<p translation-result=\"on\">要访问 <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> 和表单的整体状态，<a href=\"guide/template-reference-variables\">就要声明一个模板引用变量</a>。</p><p translation-origin=\"off\">To get access to the <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> and the overall form status, declare a <a href=\"guide/template-reference-variables\">template reference variable</a>.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">编辑模板 <code>hero-form.component.html</code>。</p><p translation-origin=\"off\">Edit the template file <code>hero-form.component.html</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">为 <code>&lt;form&gt;</code> 标签添加模板引用变量 <code>#heroForm</code>，并把它的值设置如下。</p><p translation-origin=\"off\">Update the <code>&lt;form&gt;</code> tag with a template reference variable, <code>#heroForm</code>, and set its value as follows.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"template-variable\">\n&lt;form #heroForm=\"<a href=\"api/forms/NgForm\" class=\"code-anchor\">ngForm</a>\"&gt;\n\n</code-example>\n<p translation-result=\"on\">模板变量 <code>heroForm</code> 现在是对 <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> 指令实例的引用，该指令实例管理整个表单。</p><p translation-origin=\"off\">The <code>heroForm</code> template variable  is now a reference to the <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> directive instance that governs the form as a whole.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">运行该应用。</p><p translation-origin=\"off\">Run the app.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">开始在 <strong>Name</strong> 输入框中输入。</p><p translation-origin=\"off\">Start typing in the <strong>Name</strong> input box.</p>\n\n<p translation-result=\"on\">在添加和删除字符时，你可以看到它们从数据模型中出现和消失。比如：</p><p translation-origin=\"off\">As you add and delete characters, you can see them appear and disappear from the data model.\nFor example:</p>\n\n<div class=\"lightbox\">\n<img alt=\"ngModel in action\" src=\"generated/images/guide/forms/ng-model-in-action.png\" width=\"500\" height=\"74\">\n</div>\n<p translation-result=\"on\">用来显示插值的诊断行证明了这些值确实从输入框流向了模型，然后再返回。</p><p translation-origin=\"off\">The diagnostic line that shows interpolated values demonstrates that values are really flowing from the input box to the model and back again.</p>\n\n</li>\n</ol>\n<h3 id=\"naming-control-elements\" translation-result=\"on\">为控件元素命名<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#naming-control-elements\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Naming control elements<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#naming-control-elements\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">在元素上使用 <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> 时，必须为该元素定义一个 <code>name</code> 属性。Angular 会用这个指定的名字来把这个元素注册到父 <code>&lt;form&gt;</code> 元素上的 <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> 指令中。</p><p translation-origin=\"off\">When you use <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> on an element, you must define a <code>name</code> attribute for that element.\nAngular uses the assigned name to register the element with the <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> directive attached to the parent <code>&lt;form&gt;</code> element.</p>\n\n<p translation-result=\"on\">这个例子中为 <code>&lt;input&gt;</code> 元素添加了一个 <code>name</code> 属性，并把它的值设置为 “name”，用来表示英雄的名字。任何唯一的值都可以用，但最好用描述性的名称。</p><p translation-origin=\"off\">The example added a <code>name</code> attribute to the <code>&lt;input&gt;</code> element and set it to \"name\",\nwhich makes sense for the hero's name.\nAny unique value will do, but using a descriptive name is helpful.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">为<strong>Alter Ego</strong>和<strong>Hero Power</strong>添加类似的 <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> 绑定和 <code>name</code> 属性。</p><p translation-origin=\"off\">Add similar <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> bindings and <code>name</code> attributes to <strong>Alter Ego</strong> and <strong>Hero Power</strong>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">你现在可以移除显示插值的诊断消息了。</p><p translation-origin=\"off\">You can now remove the diagnostic messages that show interpolated values.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">为了确认双向数据绑定适用于整个英雄模型，请向组件的模板顶部添加一个使用 <a href=\"api/common/JsonPipe\"><code>json</code></a> 管道的新文本绑定，这会将数据序列化为字符串。</p><p translation-origin=\"off\">To confirm that two-way data binding works for the entire hero model, add a new text binding with the <a href=\"api/common/JsonPipe\"><code>json</code></a> pipe at the top to the component's template, which serializes the data to a string.</p>\n\n<p translation-result=\"on\">表单模板修改完毕后，应如下所示：</p><p translation-origin=\"off\">After these revisions, the form template should look like the following:</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"ngModel-2\">\n{{ model | json }}\n&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"name\"&gt;Name&lt;/label&gt;\n  &lt;input type=\"text\" class=\"form-control\" id=\"name\"\n         required\n         [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.name\" name=\"name\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"alterEgo\"&gt;Alter Ego&lt;/label&gt;\n  &lt;input type=\"text\"  class=\"form-control\" id=\"alterEgo\"\n         [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.alterEgo\" name=\"alterEgo\"&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"power\"&gt;Hero Power&lt;/label&gt;\n  &lt;select class=\"form-control\"  id=\"power\"\n          required\n          [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.power\" name=\"power\"&gt;\n    &lt;option *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let pow of powers\" [value]=\"pow\"&gt;{{pow}}&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n\n\n</code-example>\n<ul>\n<li>\n<p translation-result=\"on\">注意，每个 <code>&lt;input&gt;</code> 元素都有一个 <code>id</code> 属性。<code>&lt;label&gt;</code> 元素的 <code>for</code> 属性用它来把标签匹配到输入控件。这是一个<a href=\"https://developer.mozilla.org/docs/Web/HTML/Element/label\">标准的 HTML 特性</a>。</p><p translation-origin=\"off\">Notice that each <code>&lt;input&gt;</code> element has an <code>id</code> property.\nThis is used by the <code>&lt;label&gt;</code> element's <code>for</code> attribute to match the label to its input control.\nThis is a <a href=\"https://developer.mozilla.org/docs/Web/HTML/Element/label\">standard HTML feature</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">每个 <code>&lt;input&gt;</code> 元素都有一个必需的 <code>name</code> 属性，Angular 用它来注册表单中的控件。</p><p translation-origin=\"off\">Each <code>&lt;input&gt;</code> element also has the required <code>name</code> property that Angular uses to register the control with the form.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">如果你现在运行该应用并更改英雄模型的每个属性，该表单可能会显示如下：</p><p translation-origin=\"off\">If you run the application now and change every hero model property, the form might display like this:</p>\n\n<div class=\"lightbox\">\n<img alt=\"ngModel in action\" src=\"generated/images/guide/forms/ng-model-in-action-2.png\" width=\"515\" height=\"377\">\n</div>\n<p translation-result=\"on\">通过表单顶部的诊断行可以确认所有的更改都已反映在模型中。</p><p translation-origin=\"off\">The diagnostic near the top of the form confirms that all of your changes are reflected in the model.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">你已经观察到了这种效果，可以删除 <code>{{ model | json }}</code> 的文本绑定了。</p><p translation-origin=\"off\">When you have observed the effects, you can delete the <code>{{ model | json }}</code> text binding.</p>\n\n</li>\n</ol>\n<h2 id=\"track-form-states\" translation-result=\"on\">跟踪表单状态<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#track-form-states\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Track form states<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#track-form-states\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">提交表单后，Angular 会将 <code>ng-submitted</code> 类应用于 <code>form</code> 元素。此类可用于在提交后更改表单的样式。</p><p translation-origin=\"off\">Angular applies the <code>ng-submitted</code> class to <code>form</code> elements after the form has been submitted. This class can be used to change the form's style after it has been submitted.</p>\n\n<h2 id=\"track-control-states\" translation-result=\"on\">跟踪控件状态<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#track-control-states\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Track control states<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#track-control-states\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">将 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">NgModel</a></code> 指令添加到某个控件上时也会将一些描述其状态的类名添加上去。这些类可用于根据控件的状态更改控件的样式。</p><p translation-origin=\"off\">Adding the <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">NgModel</a></code> directive to a control adds class names to the control that describe its state.\nThese classes can be used to change a control's style based on its state.</p>\n\n<p translation-result=\"on\">下表描述了 Angular 根据控件状态应用的类名。</p><p translation-origin=\"off\">The following table describes the class names that Angular applies based on the control's state.</p>\n\n<table>\n<thead>\n<tr>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">状态</nt-wrapper><nt-wrapper translation-origin=\"off\">States</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">为 true 时的类名</nt-wrapper><nt-wrapper translation-origin=\"off\">Class if true</nt-wrapper></th>\n<th align=\"left\"><nt-wrapper translation-result=\"on\">为 false 时的类名</nt-wrapper><nt-wrapper translation-origin=\"off\">Class if false</nt-wrapper></th>\n</tr>\n</thead>\n<tbody>\n\n<tr>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">该控件已被访问过。</nt-wrapper><nt-wrapper translation-origin=\"off\">The control has been visited.</nt-wrapper></td>\n<td align=\"left\"><code>ng-touched</code></td>\n<td align=\"left\"><code>ng-untouched</code></td>\n</tr>\n\n<tr>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">控件的值已被更改。</nt-wrapper><nt-wrapper translation-origin=\"off\">The control's value has changed.</nt-wrapper></td>\n<td align=\"left\"><code>ng-dirty</code></td>\n<td align=\"left\"><code>ng-pristine</code></td>\n</tr>\n\n<tr>\n<td align=\"left\"><nt-wrapper translation-result=\"on\">控件的值是有效的。</nt-wrapper><nt-wrapper translation-origin=\"off\">The control's value is valid.</nt-wrapper></td>\n<td align=\"left\"><code>ng-valid</code></td>\n<td align=\"left\"><code>ng-invalid</code></td>\n</tr>\n\n</tbody>\n</table>\n<p translation-result=\"on\">Angular 还会在提交时将 <code>ng-submitted</code> 类应用于 <code>form</code> 元素，但不会应用于此 <code>form</code> 元素中的控件。</p><p translation-origin=\"off\">Angular also applies the <code>ng-submitted</code> class to <code>form</code> elements upon submission,\nbut not to the controls inside the <code>form</code> element.</p>\n\n<p translation-result=\"on\">你可以用这些 CSS 类来根据控件的状态定义其样式。</p><p translation-origin=\"off\">You use these CSS classes to define the styles for your control based on its status.</p>\n\n<h3 id=\"observe-control-states\" translation-result=\"on\">观察控件状态<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#observe-control-states\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Observe control states<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#observe-control-states\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要想知道框架是如何添加和移除这些类的，请打开浏览器的开发者工具，检查代表英雄名字的 <code>&lt;input&gt;</code>。</p><p translation-origin=\"off\">To see how the classes are added and removed by the framework, open the browser's developer tools and inspect the <code>&lt;input&gt;</code> element that represents the hero name.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">使用浏览器的开发者工具，找到与 “<strong>Name</strong>” 输入框对应的 <code>&lt;input&gt;</code> 元素。除了 “form-control” 类之外，你还可以看到该元素有多个 CSS 类。</p><p translation-origin=\"off\">Using your browser's developer tools, find the  <code>&lt;input&gt;</code> element that corresponds to the <strong>Name</strong> input box.\nYou can see that the element has multiple CSS classes in addition to \"form-control\".</p>\n\n</li>\n<li>\n<p translation-result=\"on\">当你第一次启动它的时候，这些类表明它是一个有效的值，该值在初始化或重置之后还没有改变过，并且在该控件自初始化或重置后也没有被访问过。</p><p translation-origin=\"off\">When you first bring it up, the classes indicate that it has a valid value, that the value has not been changed since initialization or reset, and that the control has not been visited since initialization or reset.</p>\n\n<code-example format=\"html\" language=\"html\">\n\n&lt;input … class=\"form-control ng-untouched ng-pristine ng-valid\" …&gt;\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\"><strong>在 Name</strong> <code>&lt;input&gt;</code> 框中执行以下操作，看看会出现哪些类。</p><p translation-origin=\"off\">Take the following actions on the <strong>Name</strong> <code>&lt;input&gt;</code> box, and observe which classes appear.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">查看，但不要碰它。这些类表明它没有被碰过、还是最初的值，并且有效。</p><p translation-origin=\"off\">Look but don't touch.\nThe classes indicate that it is untouched, pristine, and valid.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在 <strong>Name</strong> 框内单击，然后单击它外部。该控件现在已被访问过，该元素具有 <code>ng-touched</code> 类，取代了 <code>ng-untouched</code> 类。</p><p translation-origin=\"off\">Click inside the name box, then click outside it.\nThe control has now been visited, and the element has the <code>ng-touched</code> class instead of the <code>ng-untouched</code> class.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在名字的末尾添加斜杠。现在它被碰过，而且是脏的（变化过）。</p><p translation-origin=\"off\">Add slashes to the end of the name.\nIt is now touched and dirty.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">删掉这个名字。这会使该值无效，所以 <code>ng-invalid</code> 类会取代 <code>ng-valid</code> 类。</p><p translation-origin=\"off\">Erase the name.\nThis makes the value invalid, so the <code>ng-invalid</code> class replaces the <code>ng-valid</code> class.</p>\n\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"create-visual-feedback-for-states\" translation-result=\"on\">为状态创建视觉反馈<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#create-visual-feedback-for-states\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Create visual feedback for states<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#create-visual-feedback-for-states\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">注意 <code>ng-valid</code> / <code>ng-invalid</code> 这两个类，因为你想在值无效时发出强烈的视觉信号。你还要标记必填字段。</p><p translation-origin=\"off\">The <code>ng-valid</code>/<code>ng-invalid</code> pair is particularly interesting, because you want to send a\nstrong visual signal when the values are invalid.\nYou also want to mark required fields.</p>\n\n<p translation-result=\"on\">你可以在输入框的左侧用彩条标记必填字段和无效数据：</p><p translation-origin=\"off\">You can mark required fields and invalid data at the same time with a colored bar\non the left of the input box:</p>\n\n<div class=\"lightbox\">\n<img alt=\"Invalid Form\" src=\"generated/images/guide/forms/validity-required-indicator.png\" width=\"600\" height=\"171\">\n</div>\n<p translation-result=\"on\">要想用这种方式修改外观，请执行以下步骤。</p><p translation-origin=\"off\">To change the appearance in this way, take the following steps.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">为 <code>ng-*</code> CSS 类添加一些定义。</p><p translation-origin=\"off\">Add definitions for the <code>ng-*</code> CSS classes.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">把这些类定义添加到一个新的 <code>forms.css</code> 文件中。</p><p translation-origin=\"off\">Add these class definitions to a new <code>forms.css</code> file.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">把这个新文件添加到项目中，作为 <code>index.html</code> 的兄弟：</p><p translation-origin=\"off\">Add the new file to the project as a sibling to <code>index.html</code>:</p>\n\n<code-example header=\"src/assets/forms.css\" language=\"css\" path=\"forms/src/assets/forms.css\">\n.ng-valid[required], .ng-valid.required  {\n  border-left: 5px solid #42A948; /* green */\n}\n\n.ng-invalid:not(form)  {\n  border-left: 5px solid #a94442; /* red */\n}\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">在 <code>index.html</code> 文件中，更新 <code>&lt;head&gt;</code> 标签以包含新的样式表。</p><p translation-origin=\"off\">In the <code>index.html</code> file, update the <code>&lt;head&gt;</code> tag to include the new style sheet.</p>\n\n<code-example header=\"src/index.html (styles)\" path=\"forms/src/index.html\" region=\"styles\">\n&lt;link rel=\"stylesheet\" href=\"assets/forms.css\"&gt;\n\n</code-example>\n</li>\n</ol>\n<h3 id=\"show-and-hide-validation-error-messages\" translation-result=\"on\">显示和隐藏验证错误信息<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#show-and-hide-validation-error-messages\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Show and hide validation error messages<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#show-and-hide-validation-error-messages\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\"><strong>Name</strong> 输入框是必填的，清除它就会把彩条变成红色。这表明有些东西是错的，但是用户并不知道要怎么做或该做什么。你可以通过查看和响应控件的状态来提供有用的信息。</p><p translation-origin=\"off\">The <strong>Name</strong> input box is required and clearing it turns the bar red.\nThat indicates that something is wrong, but the user doesn't know what is wrong or what to do about it.\nYou can provide a helpful message by checking for and responding to the control's state.</p>\n\n<p translation-result=\"on\">当用户删除该名字时，该表单应如下所示：</p><p translation-origin=\"off\">When the user deletes the name, the form should look like this:</p>\n\n<div class=\"lightbox\">\n<img alt=\"Name required\" src=\"generated/images/guide/forms/name-required-error.png\" width=\"400\" height=\"108\">\n</div>\n<p translation-result=\"on\"><strong>Hero Power</strong> 选择框也是必填的，但它不需要这样的错误处理，因为选择框已经把选择限制在有效值范围内。</p><p translation-origin=\"off\">The <strong>Hero Power</strong> select box is also required, but it doesn't need this kind of error handling because the selection box already constrains the selection to valid values.</p>\n\n<p translation-result=\"on\">要在适当的时候定义和显示错误信息，请执行以下步骤。</p><p translation-origin=\"off\">To define and show an error message when appropriate, take the following steps.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">使用模板引用变量扩展 <code>&lt;input&gt;</code> 标签，你可以用来从模板中访问输入框的 Angular 控件。在这个例子中，该变量是 <code>#name=\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"</code>。</p><p translation-origin=\"off\">Extend the <code>&lt;input&gt;</code> tag with a template reference variable that you can use to access the input box's Angular control from within the template.\nIn the example, the variable is <code>#name=\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"</code>.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">模板引用变量（<code>#name</code>）设置为 <code>\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"</code>，因为 \"ngModel\" 是 <a href=\"api/core/Directive#exportAs\"><code>NgModel.exportAs</code></a> 属性的值。这个属性告诉 Angular 如何把引用变量和指令链接起来。</p><p translation-origin=\"off\">The template reference variable (<code>#name</code>) is set to <code>\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"</code> because that is the value of the <a href=\"api/core/Directive#exportAs\"><code>NgModel.exportAs</code></a> property.\nThis property tells Angular how to link a reference variable to a directive.</p>\n\n</div>\n</li>\n<li>\n<p translation-result=\"on\">添加一个包含合适错误信息 <code>&lt;div&gt;</code>。</p><p translation-origin=\"off\">Add a <code>&lt;div&gt;</code> that contains a suitable error message.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">通过把 <code>name</code> 控件的属性绑定到 <code>&lt;div&gt;</code> 元素的 <code>hidden</code> 属性来显示或隐藏错误信息。</p><p translation-origin=\"off\">Show or hide the error message by binding properties of the <code>name</code> control to the message <code>&lt;div&gt;</code> element's <code>hidden</code> property.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (hidden-error-msg)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"hidden-error-msg\">\n&lt;div [hidden]=\"name.valid || name.pristine\"\n     class=\"alert alert-danger\"&gt;\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">为 <code>name</code> 输入框添加一个有条件的错误信息，如下例所示。</p><p translation-origin=\"off\">Add a conditional error message to the <code>name</code> input box, as in the following example.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"name-with-error-msg\">\n&lt;label for=\"name\"&gt;Name&lt;/label&gt;\n&lt;input type=\"text\" class=\"form-control\" id=\"name\"\n       required\n       [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.name\" name=\"name\"\n       #name=\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"&gt;\n&lt;div [hidden]=\"name.valid || name.pristine\"\n     class=\"alert alert-danger\"&gt;\n  Name is required\n&lt;/div&gt;\n\n</code-example>\n</li>\n</ol>\n<div class=\"callout is-helpful\">\n<header ng-should-translate=\"\" translation-result=\"on\">关于 \"pristine\"（原始）状态的说明</header><header ng-should-translate=\"\" translation-origin=\"off\">Illustrating the \"pristine\" state</header>\n\n<p translation-result=\"on\">在这个例子中，当控件是有效的（valid）或者是<em>原始的</em>（pristine）时，你会隐藏这些消息。原始表示该用户在此表单中显示的值尚未更改过。如果你忽略了 <code>pristine</code> 状态，那么只有当值有效时才会隐藏这些消息。如果你把一个新的（空白）英雄或一个无效的英雄传给这个组件，你会立刻看到错误信息，而这时候你还没有做过任何事情。</p><p translation-origin=\"off\">In this example, you hide the message when the control is either valid or <em>pristine</em>.\nPristine means the user hasn't changed the value since it was displayed in this form.\nIf you ignore the <code>pristine</code> state, you would hide the message only when the value is valid.\nIf you arrive in this component with a new, blank hero or an invalid hero, you'll see the error message immediately, before you've done anything.</p>\n\n<p translation-result=\"on\">你可能希望只有在用户做出无效更改时，才显示该消息。因此当 <code>pristine</code> 状态时，隐藏这条消息就可以满足这个目标。当你在下一步中为表单添加一个新的英雄时，就会看到这个选择有多重要。</p><p translation-origin=\"off\">You might want the message to display only when the user makes an invalid change.\nHiding the message while the control is in the <code>pristine</code> state achieves that goal.\nYou'll see the significance of this choice when you add a new hero to the form in the next step.</p>\n\n</div>\n<h2 id=\"add-a-new-hero\" translation-result=\"on\">添加一个新英雄<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#add-a-new-hero\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Add a new hero<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#add-a-new-hero\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">本练习通过添加模型数据，展示了如何响应原生 HTML 按钮单击事件。要让表单用户添加一个新的英雄，就要添加一个能响应 click 事件的 <strong>New Hero</strong> 按钮。</p><p translation-origin=\"off\">This exercise shows how you can respond to a native HTML button-click event by adding to the model data.\nTo let form users add a new hero, you will add a <strong>New Hero</strong> button that responds to a click event.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">在模板中，把 “New Hero” 这个 <code>&lt;button&gt;</code> 元素放在表单底部。</p><p translation-origin=\"off\">In the template, place a \"New Hero\" <code>&lt;button&gt;</code> element at the bottom of the form.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在组件文件中，把创建英雄的方法添加到英雄数据模型中。</p><p translation-origin=\"off\">In the component file, add the hero-creation method to the hero data model.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.ts (New Hero method)\" path=\"forms/src/app/hero-form/hero-form.component.ts\" region=\"new-hero\">\nnewHero() {\n  this.model = new Hero(42, '', '');\n}\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">把按钮的 click 事件绑定到一个创建英雄的方法 <code>newHero()</code> 上。</p><p translation-origin=\"off\">Bind the button's click event to a hero-creation method, <code>newHero()</code>.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (New Hero button)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"new-hero-button-no-reset\">\n&lt;button type=\"button\" class=\"btn btn-default\" (click)=\"newHero()\"&gt;New Hero&lt;/button&gt;\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">再次运行该应用，单击 <strong>New Hero</strong> 按钮。</p><p translation-origin=\"off\">Run the application again and click the <strong>New Hero</strong> button.</p>\n\n<p translation-result=\"on\">表单会清空，输入框左侧的<em>必填</em>栏会显示红色，说明 <code>name</code> 和 <code>power</code> 属性无效。请注意，错误消息是隐藏的。这是因为表单处于原始状态。你还没有改过任何东西。</p><p translation-origin=\"off\">The form clears, and the <em>required</em> bars to the left of the input box are red, indicating invalid <code>name</code> and <code>power</code> properties.\nNotice that the error messages are hidden.\nThis is because the form is pristine; you haven't changed anything yet.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">输入一个名字，然后再次点击 <strong>New Hero</strong>。</p><p translation-origin=\"off\">Enter a name and click <strong>New Hero</strong> again.</p>\n\n<p translation-result=\"on\">现在，该应用会显示一条错误信息 <code>Name is required</code>，因为该输入框不再是原始状态。表单会记住你在单击 <strong>New Hero</strong> 之前输入过一个名字。</p><p translation-origin=\"off\">Now the application displays a <code>Name is required</code> error message, because the input box is no longer pristine.\nThe form remembers that you entered a name before clicking <strong>New Hero</strong>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">要恢复表单控件的原始状态，可以在调用 <code>newHero()</code> 方法之后强制调用表单的 <code>reset()</code> 方法以清除所有标志。</p><p translation-origin=\"off\">To restore the pristine state of the form controls, clear all of the flags imperatively by calling the form's <code>reset()</code> method after calling the <code>newHero()</code> method.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (Reset the form)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"new-hero-button-form-reset\">\n&lt;button type=\"button\" class=\"btn btn-default\" (click)=\"newHero(); heroForm.reset()\"&gt;New Hero&lt;/button&gt;\n\n</code-example>\n<p translation-result=\"on\">现在单击 <strong>New Hero</strong> 会重置表单及其控件标志。</p><p translation-origin=\"off\">Now clicking <strong>New Hero</strong> resets both the form and its control flags.</p>\n\n</li>\n</ol>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">关于使用事件绑定监听 DOM 事件和更新相应组件属性的更多信息，参阅<a href=\"guide/user-input\">“用户输入”指南。</a>。</p><p translation-origin=\"off\">See the <a href=\"guide/user-input\">User Input</a> guide for more information about listening for DOM events with an event binding and updating a corresponding component property.</p>\n\n</div>\n<h2 id=\"submit-the-form-with-ngsubmit\" translation-result=\"on\">使用 <code>ngSubmit</code> 提交表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#submit-the-form-with-ngsubmit\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Submit the form with <code>ngSubmit</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#submit-the-form-with-ngsubmit\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">用户应该可以在填写之后提交这个表单。表单底部的 <strong>Submit</strong> 按钮本身没有任何作用，但由于它的类型（<code>type=\"submit\"</code>），它会触发一个表单提交事件。要响应此事件，请执行以下步骤。</p><p translation-origin=\"off\">The user should be able to submit this form after filling it in.\nThe <strong>Submit</strong> button at the bottom of the form does nothing on its own, but it does trigger a form-submit event because of its type (<code>type=\"submit\"</code>).\nTo respond to this event, take the following steps.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">把表单的 <a href=\"api/forms/NgForm#properties\"><code>ngSubmit</code></a> 事件属性绑定到一个 hero-form 组件的 <code>onSubmit()</code> 方法中。</p><p translation-origin=\"off\">Bind the form's <a href=\"api/forms/NgForm#properties\"><code>ngSubmit</code></a> event property to the hero-form component's <code>onSubmit()</code> method.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (ngSubmit)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"ngSubmit\">\n&lt;form (ngSubmit)=\"onSubmit()\" #heroForm=\"<a href=\"api/forms/NgForm\" class=\"code-anchor\">ngForm</a>\"&gt;\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">使用模板引用变量 <code>#heroForm</code> 访问包含 <strong>Submit</strong> 按钮的表单，并创建一个事件绑定。你可以把表示它整体有效性的 form 属性绑定到 <strong>Submit</strong> 按钮的 <code>disabled</code> 属性上。</p><p translation-origin=\"off\">Use the template reference variable, <code>#heroForm</code> to access the form that contains the <strong>Submit</strong> button and create an event binding.\nYou will bind the form property that indicates its overall validity to the <strong>Submit</strong> button's <code>disabled</code> property.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (submit-button)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"submit-button\">\n&lt;button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!heroForm.form.valid\"&gt;Submit&lt;/button&gt;\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">运行该应用。注意，该按钮已启用 - 虽然它还没有做任何有用的事情。</p><p translation-origin=\"off\">Run the application.\nNotice that the button is enabled —although it doesn't do anything useful yet.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">删除<strong>名称</strong>值。这违反了“必需”规则，因此会显示错误消息，并注意它还会禁用“<strong>提交”</strong>按钮。</p><p translation-origin=\"off\">Delete the <strong>Name</strong> value.\nThis violates the \"required\" rule, so it displays the error message —and notice that it also disables the <strong>Submit</strong> button.</p>\n\n<p translation-result=\"on\">你不必把按钮的启用状态明确地关联表单的有效性上。当 <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> 在增强的表单元素上定义模板引用变量时，会自动执行此操作，然后在按钮控件中引用该变量。</p><p translation-origin=\"off\">You didn't have to explicitly wire the button's enabled state to the form's validity.\nThe <code><a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a></code> did this automatically when you defined a template reference variable on the enhanced form element, then referred to that variable in the button control.</p>\n\n</li>\n</ol>\n<h3 id=\"respond-to-form-submission\" translation-result=\"on\">响应表单提交<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#respond-to-form-submission\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\">Respond to form submission<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#respond-to-form-submission\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要展示对表单提交的响应，你可以隐藏数据输入区域并就地显示其它内容。</p><p translation-origin=\"off\">To show a response to form submission, you can hide the data entry area and display something else in its place.</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">把整个表单包裹进一个 <code>&lt;div&gt;</code> 中并把它的 <code>hidden</code> 属性绑定到 <code>HeroFormComponent.submitted</code> 属性上。</p><p translation-origin=\"off\">Wrap the entire form in a <code>&lt;div&gt;</code> and bind its <code>hidden</code> property to the <code>HeroFormComponent.submitted</code> property.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"edit-div\">\n&lt;div [hidden]=\"submitted\"&gt;\n  &lt;h1&gt;Hero <a href=\"api/forms/Form\" class=\"code-anchor\">Form</a>&lt;/h1&gt;\n  &lt;form (ngSubmit)=\"onSubmit()\" #heroForm=\"<a href=\"api/forms/NgForm\" class=\"code-anchor\">ngForm</a>\"&gt;\n\n     &lt;!-- ... all of the form ... --&gt;\n\n  &lt;/form&gt;\n&lt;/div&gt;\n\n</code-example>\n<ul>\n<li>\n<p translation-result=\"on\">主表单从一开始就是可见的，因为在提交之前，它的 <code>submitted</code> 属性都是 false，正如 <code>HeroFormComponent</code> 中的这个片段所显示的：</p><p translation-origin=\"off\">The main form is visible from the start because the <code>submitted</code> property is false until you submit the form, as this fragment from the <code>HeroFormComponent</code> shows:</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.ts (submitted)\" path=\"forms/src/app/hero-form/hero-form.component.ts\" region=\"submitted\">\nsubmitted = false;\n\nonSubmit() { this.submitted = true; }\n\n</code-example>\n</li>\n<li>\n<p translation-result=\"on\">点击 <strong>Submit</strong> 按钮后，<code>submitted</code> 标志就变为 <code>true</code>，表单就会消失。</p><p translation-origin=\"off\">When you click the <strong>Submit</strong> button, the <code>submitted</code> flag becomes true and the form disappears.</p>\n\n</li>\n</ul>\n</li>\n<li>\n<p translation-result=\"on\">要在表单处于已提交状态时显示其它内容，请在新的 <code>&lt;div&gt;</code> 包装器下添加以下 HTML。</p><p translation-origin=\"off\">To show something else while the form is in the submitted state, add the following HTML below the new <code>&lt;div&gt;</code> wrapper.</p>\n\n<code-example header=\"src/app/hero-form/hero-form.component.html (excerpt)\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"submitted\">\n&lt;div [hidden]=\"!submitted\"&gt;\n  &lt;h2&gt;You submitted the following:&lt;/h2&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-xs-3\"&gt;Name&lt;/div&gt;\n    &lt;div class=\"col-xs-9\"&gt;{{ model.name }}&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-xs-3\"&gt;Alter Ego&lt;/div&gt;\n    &lt;div class=\"col-xs-9\"&gt;{{ model.alterEgo }}&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-xs-3\"&gt;Power&lt;/div&gt;\n    &lt;div class=\"col-xs-9\"&gt;{{ model.power }}&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;br&gt;\n  &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"submitted=false\"&gt;Edit&lt;/button&gt;\n&lt;/div&gt;\n\n</code-example>\n<p translation-result=\"on\">这个 <code>&lt;div&gt;</code>（用于显示带插值绑定的只读英雄）只在组件处于已提交状态时才会出现。</p><p translation-origin=\"off\">This <code>&lt;div&gt;</code>, which shows a read-only hero with interpolation bindings, appears only while the component is in the submitted state.</p>\n\n<p translation-result=\"on\">另外还显示了一个 <em>Edit</em> 按钮，它的 click 事件绑定到了一个清除 <code>submitted</code> 标志的表达式。</p><p translation-origin=\"off\">The alternative display includes an <em>Edit</em> button whose click event is bound to an expression that clears the <code>submitted</code> flag.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">单击 <em>Edit</em> 按钮，将显示切换回可编辑的表单。</p><p translation-origin=\"off\">Click the <em>Edit</em> button to switch the display back to the editable form.</p>\n\n</li>\n</ol>\n<h2 id=\"summary\" translation-result=\"on\">总结<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#summary\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\">Summary<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/forms#summary\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">本页讨论的 Angular 表单利用了下列框架特性来支持数据修改，验证等工作。</p><p translation-origin=\"off\">The Angular form discussed in this page takes advantage of the following\nframework features to provide support for data modification, validation, and more.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">一个 Angular HTML 表单模板</p><p translation-origin=\"off\">An Angular HTML form template</p>\n\n</li>\n<li>\n<p translation-result=\"on\">带 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> 装饰器的表单组件类</p><p translation-origin=\"off\">A form component class with a <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> decorator</p>\n\n</li>\n<li>\n<p translation-result=\"on\">绑定到 <code><a href=\"api/forms/NgForm#ngSubmit\" class=\"code-anchor\">NgForm.ngSubmit</a></code> 事件属性来处理表单提交</p><p translation-origin=\"off\">Handling form submission by binding to the <code><a href=\"api/forms/NgForm#ngSubmit\" class=\"code-anchor\">NgForm.ngSubmit</a></code> event property</p>\n\n</li>\n<li>\n<p translation-result=\"on\">模板引用变量，比如 <code>#heroForm</code> 和 <code>#name</code></p><p translation-origin=\"off\">Template-reference variables such as <code>#heroForm</code> and <code>#name</code></p>\n\n</li>\n<li>\n<p translation-result=\"on\">双向数据绑定的 <code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> 语法</p><p translation-origin=\"off\"><code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]</code> syntax for two-way data binding</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>name</code> 属性的用途是验证和表单元素的变更跟踪</p><p translation-origin=\"off\">The use of <code>name</code> attributes for validation and form-element change tracking</p>\n\n</li>\n<li>\n<p translation-result=\"on\">输入控件上的引用变量的 <code>valid</code> 属性会表明控件是有效的还是应该显示错误消息</p><p translation-origin=\"off\">The reference variable's <code>valid</code> property on input controls indicates whether a control is valid or should show error messages</p>\n\n</li>\n<li>\n<p translation-result=\"on\">用 <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> 的有效性来控制 <strong>Submit</strong> 按钮的启用状态</p><p translation-origin=\"off\">Controlling the <strong>Submit</strong> button's enabled state by binding to <code><a href=\"api/forms/NgForm\" class=\"code-anchor\">NgForm</a></code> validity</p>\n\n</li>\n<li>\n<p translation-result=\"on\">自定义 CSS 类，向用户提供有关无效控件的视觉反馈</p><p translation-origin=\"off\">Custom CSS classes that provide visual feedback to users about controls that are not valid</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">这里是该应用最终版本的代码：</p><p translation-origin=\"off\">Here's the code for the final version of the application:</p>\n\n<code-tabs>\n    <code-pane header=\"hero-form/hero-form.component.ts\" path=\"forms/src/app/hero-form/hero-form.component.ts\" region=\"final\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\nimport { Hero } from '../hero';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-hero-form',\n  templateUrl: './hero-form.component.html',\n  styleUrls: ['./hero-form.component.css']\n})\nexport class HeroFormComponent {\n\n  powers = ['Really Smart', 'Super Flexible',\n            'Super Hot', 'Weather Changer'];\n\n  model = new Hero(18, 'Dr. IQ', this.powers[0], 'Chuck Overstreet');\n\n  submitted = false;\n\n  onSubmit() { this.submitted = true; }\n\n  newHero() {\n    this.model = new Hero(42, '', '');\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"hero-form/hero-form.component.html\" path=\"forms/src/app/hero-form/hero-form.component.html\" region=\"final\">\n&lt;div class=\"container\"&gt;\n  &lt;div [hidden]=\"submitted\"&gt;\n    &lt;h1&gt;Hero <a href=\"api/forms/Form\" class=\"code-anchor\">Form</a>&lt;/h1&gt;\n    &lt;form (ngSubmit)=\"onSubmit()\" #heroForm=\"<a href=\"api/forms/NgForm\" class=\"code-anchor\">ngForm</a>\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"name\"&gt;Name&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"name\"\n               required\n               [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.name\" name=\"name\"\n               #name=\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"&gt;\n        &lt;div [hidden]=\"name.valid || name.pristine\"\n             class=\"alert alert-danger\"&gt;\n          Name is required\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"alterEgo\"&gt;Alter Ego&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" id=\"alterEgo\"\n               [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.alterEgo\" name=\"alterEgo\"&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"power\"&gt;Hero Power&lt;/label&gt;\n        &lt;select class=\"form-control\" id=\"power\"\n                required\n                [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"model.power\" name=\"power\"\n                #power=\"<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>\"&gt;\n          &lt;option *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let pow of powers\" [value]=\"pow\"&gt;{{pow}}&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;div [hidden]=\"power.valid || power.pristine\" class=\"alert alert-danger\"&gt;\n          Power is required\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;button type=\"submit\" class=\"btn btn-success\" [disabled]=\"!heroForm.form.valid\"&gt;Submit&lt;/button&gt;\n      &lt;button type=\"button\" class=\"btn btn-default\" (click)=\"newHero(); heroForm.reset()\"&gt;New Hero&lt;/button&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n\n  &lt;div [hidden]=\"!submitted\"&gt;\n    &lt;h2&gt;You submitted the following:&lt;/h2&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-xs-3\"&gt;Name&lt;/div&gt;\n      &lt;div class=\"col-xs-9\"&gt;{{ model.name }}&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-xs-3\"&gt;Alter Ego&lt;/div&gt;\n      &lt;div class=\"col-xs-9\"&gt;{{ model.alterEgo }}&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-xs-3\"&gt;Power&lt;/div&gt;\n      &lt;div class=\"col-xs-9\"&gt;{{ model.power }}&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;br&gt;\n    &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"submitted=false\"&gt;Edit&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n</code-pane>\n    <code-pane header=\"hero.ts\" path=\"forms/src/app/hero.ts\">\nexport class Hero {\n\n  constructor(\n    public id: number,\n    public name: string,\n    public power: string,\n    public alterEgo?: string\n  ) {  }\n\n}\n\n\n</code-pane>\n    <code-pane header=\"app.module.ts\" path=\"forms/src/app/app.module.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\nimport { <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a> } from '@angular/common';\nimport { <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a> } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { HeroFormComponent } from './hero-form/hero-form.component';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [\n    <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a>,\n    <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>,\n    <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a>\n  ],\n  declarations: [\n    AppComponent,\n    HeroFormComponent\n  ],\n  providers: [],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n</code-pane>\n    <code-pane header=\"app.component.html\" path=\"forms/src/app/app.component.html\">\n&lt;app-hero-form&gt;&lt;/app-hero-form&gt;\n\n\n</code-pane>\n    <code-pane header=\"app.component.ts\" path=\"forms/src/app/app.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent { }\n\n\n</code-pane>\n    <code-pane header=\"main.ts\" path=\"forms/src/main.ts\">\nimport { <a href=\"api/platform-browser-dynamic/platformBrowserDynamic\" class=\"code-anchor\">platformBrowserDynamic</a> } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n<a href=\"api/platform-browser-dynamic/platformBrowserDynamic\" class=\"code-anchor\">platformBrowserDynamic</a>().bootstrapModule(AppModule)\n  .catch(err =&gt; console.error(err));\n\n\n</code-pane>\n    <code-pane header=\"forms.css\" path=\"forms/src/assets/forms.css\">\n.ng-valid[required], .ng-valid.required  {\n  border-left: 5px solid #42A948; /* green */\n}\n\n.ng-invalid:not(form)  {\n  border-left: 5px solid #a94442; /* red */\n}\n\n</code-pane>\n</code-tabs>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间： 2/28/2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/architecture-components\n - guide/built-in-directives\n - guide/example-apps-list\n - guide/form-validation\n - guide/forms-overview\n - guide/glossary\n - guide/npm-packages\n - guide/reactive-forms\n - guide/typed-forms\n-->\n<!-- links from this doc:\n - api/common/CommonModule\n - api/common/JsonPipe\n - api/common/NgFor\n - api/common/NgForOf\n - api/core/Component\n - api/core/Directive#exportAs\n - api/core/NgModule\n - api/forms/Form\n - api/forms/FormGroup\n - api/forms/FormsModule\n - api/forms/NgForm\n - api/forms/NgForm#ngSubmit\n - api/forms/NgForm#properties\n - api/forms/NgModel\n - api/forms/NgModelGroup\n - api/platform-browser-dynamic/platformBrowserDynamic\n - api/platform-browser/BrowserModule\n - guide/architecture\n - guide/architecture-components#data-binding\n - guide/forms#access-the-overall-form-status\n - guide/forms#add-a-new-hero\n - guide/forms#bind-input-controls-to-data-properties\n - guide/forms#build-a-template-driven-form\n - guide/forms#build-the-form\n - guide/forms#building-a-template-driven-form\n - guide/forms#create-visual-feedback-for-states\n - guide/forms#naming-control-elements\n - guide/forms#objectives\n - guide/forms#observe-control-states\n - guide/forms#prerequisites\n - guide/forms#respond-to-form-submission\n - guide/forms#show-and-hide-validation-error-messages\n - guide/forms#step-overview\n - guide/forms#submit-the-form-with-ngsubmit\n - guide/forms#summary\n - guide/forms#the-sample-application\n - guide/forms#track-control-states\n - guide/forms#track-form-states\n - guide/forms#为控件元素命名\n - guide/forms#为状态创建视觉反馈\n - guide/forms#使用-ngsubmit-提交表单\n - guide/forms#前提条件\n - guide/forms#响应表单提交\n - guide/forms#建立表单\n - guide/forms#总结\n - guide/forms#把输入控件绑定到数据属性\n - guide/forms#显示和隐藏验证错误信息\n - guide/forms#构建一个模板驱动表单\n - guide/forms#构建模板驱动表单\n - guide/forms#步骤概述\n - guide/forms#添加一个新英雄\n - guide/forms#目标\n - guide/forms#范例应用\n - guide/forms#观察控件状态\n - guide/forms#访问表单的整体状态\n - guide/forms#跟踪控件状态\n - guide/forms#跟踪表单状态\n - guide/forms-overview\n - guide/glossary#template\n - guide/template-reference-variables\n - guide/template-syntax\n - guide/user-input\n - tutorial\n - https://developer.mozilla.org/docs/Web/HTML/Element/label\n - https://getbootstrap.com/css\n - https://github.com/angular/angular-cn/edit/cn/aio/content/guide/forms.md?message=docs%3A%20请简述你的修改...\n - https://www.typescriptlang.org/\n-->"}