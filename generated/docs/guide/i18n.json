{
  "id": "guide/i18n",
  "title": "Localizing your app",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular-cn/edit/aio/aio/content/guide/i18n.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"localizing-your-app\" translation-result=\"on\">应用本地化<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#localizing-your-app\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"localizing-your-app\">Localizing your app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#localizing-your-app\"><i class=\"material-icons\">link</i></a></h1>\n\n\n<a id=\"angular-i18n\"></a>\n<p translation-result=\"on\"><em>国际化</em>（i18n）是一个过程，用于对你的应用进行设计和准备以便在全球不同地区使用。<em>本地化</em>是指为不同的本地环境构建应用版本的过程，包括提取用于翻译成不同语言的文本，以及格式化特定本地环境的数据。</p><p translation-origin=\"off\"><em>Internationalization</em> (i18n) is the process of designing and preparing your app to be usable in different locales around the world.\n<em>Localization</em> is the process of building versions of your app for different locales, including extracting text for translation into different languages, and formatting data for particular locales.</p>\n\n<p translation-result=\"on\"><em>本地环境（locale）</em>用于标识某个区域（例如某个国家/地区），人们会在该区域内使用特定的语言或语言变体。本地环境决定了日期、时间、数字和货币的格式和解析方式，以及各种测量单位和时区、语言、国家/地区的翻译名称。</p><p translation-origin=\"off\">A <em>locale</em> identifies a region (such as a country) in which people speak a particular language or language variant. The locale determines the formatting and parsing of dates, times, numbers, and currencies as well as measurement units and the translated names for time zones, languages, and countries.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">要为所有目标本地环境创建一个与之相适应的用户界面，并考虑到不同语言中的间距差异。欲知详情，请参阅<a href=\"https://marketfinder.thinkwithgoogle.com/intl/en_us/guide/how-to-approach-i18n/#overview\" title=\"如何实现国际化\">如何实现国际化</a> 。</p><p translation-origin=\"off\">Create an adaptable user interface for all of your target locales that takes into consideration the differences in spacing for different languages. For details, see <a href=\"https://marketfinder.thinkwithgoogle.com/intl/en_us/guide/how-to-approach-i18n/#overview\" title=\"How to approach internationalization\">How to approach internationalization</a>.</p>\n\n</div>\n<p translation-result=\"on\">使用 Angular 来国际化你的应用：</p><p translation-origin=\"off\">Use Angular to internationalize your app:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">使用内置管道来以本地格式显示日期、数字、百分比和货币。</p><p translation-origin=\"off\">Use built-in pipes to display dates, numbers, percentages, and currencies in a local format.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">标记出组件模板中要翻译的文字。</p><p translation-origin=\"off\">Mark text in component templates for translation.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">标记出要翻译的表达式的复数形式。</p><p translation-origin=\"off\">Mark plural forms of expressions for translation.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">标记出要翻译的备用文字。</p><p translation-origin=\"off\">Mark alternate text for translation.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">在为国际用户准备好应用之后，通过执行以下任务，来用 <a href=\"cli\">Angular CLI</a> 本地化你的应用：</p><p translation-origin=\"off\">After preparing your app for an international audience, use the <a href=\"cli\">Angular CLI</a> to  localize your app by performing the following tasks:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">用 CLI 命令把标记过的文本提取到<em>源语言</em>文件中。</p><p translation-origin=\"off\">Use the CLI to extract marked text to a <em>source language</em> file.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">把这个文件为每种语言复制一份，并把这些<em>翻译文件</em>发给翻译人员或翻译服务。</p><p translation-origin=\"off\">Make a copy of this file for each language, and send these <em>translation files</em> to a translator or service.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在为一个或多个本地环境构建应用时，使用 CLI 来合并这些翻译完成的文件。</p><p translation-origin=\"off\">Use the CLI to merge the finished translation files when building your app for one or more locales.</p>\n\n</li>\n</ul>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">  要探索本指南中使用的法语翻译示例应用，请参阅<live-example></live-example>。</p><p translation-origin=\"off\">  To explore the sample app with French translations used in this guide, see the <live-example></live-example>.</p>\n\n</div>\n<h2 id=\"prerequisites\" translation-result=\"on\">先决条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#prerequisites\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"prerequisites\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要准备翻译你的应用，你应该对这些内容有一个基本的了解：</p><p translation-origin=\"off\">To prepare your app for translations, you should have a basic understanding of the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/glossary#template\" title=\"模板的定义\">模板</a></p><p translation-origin=\"off\"><a href=\"guide/glossary#template\" title=\"Definition of a template\">Templates</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/glossary#component\" title=\"组件的定义\">组件</a></p><p translation-origin=\"off\"><a href=\"guide/glossary#component\" title=\"Definition of a component\">Components</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\">用来管理 Angular 开发周期的 <a href=\"guide/glossary#command-line-interface-cli\" title=\"CLI 的定义\">Angular CLI</a> 命令行工具</p><p translation-origin=\"off\"><a href=\"guide/glossary#command-line-interface-cli\" title=\"Definition of CLI\">Angular CLI</a> command-line tool for managing the Angular development cycle</p>\n\n</li>\n<li>\n<p translation-result=\"on\">翻译文件中要用到的<a href=\"https://www.w3.org/XML/\" title=\"W3C：可扩展标记语言（XML）\">可扩展标记语言（XML）</a></p><p translation-origin=\"off\"><a href=\"https://www.w3.org/XML/\" title=\"W3C: Extensible Markup Language (XML)\">Extensible Markup Language (XML)</a> used for translation files</p>\n\n</li>\n</ul>\n<h2 id=\"steps-to-localize-your-app\" translation-result=\"on\">应用本地化的步骤<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#steps-to-localize-your-app\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"steps-to-localize-your-app\">Steps to localize your app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#steps-to-localize-your-app\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要本地化你的应用，请执行以下常规步骤：</p><p translation-origin=\"off\">To localize your app, follow these general steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#setting-up-cli\">添加 localize 包</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#setting-up-cli\">Add the localize package</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#setting-up-locale\">按 ID 引用本地环境</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#setting-up-locale\">Refer to locales by ID</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#i18n-pipes\">根据本地环境格式化数据</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#i18n-pipes\">Format data based on locale</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#Template-translations\">准备翻译模板</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#Template-translations\">Prepare templates for translations</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#ng-xi18n\">使用翻译文件</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#ng-xi18n\">Work with translation files</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#merge\">把翻译合并到应用中</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#merge\">Merge translations into the app</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#deploy-locales\">部署多个本地环境</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#deploy-locales\">Deploy multiple locales</a>.</p>\n\n</li>\n</ol>\n<p translation-result=\"on\">按照这些步骤进行操作时，可以<a href=\"guide/i18n#app-pre-translation\">浏览已翻译的示例应用</a> 。</p><p translation-origin=\"off\">While following these steps, you can <a href=\"guide/i18n#app-pre-translation\">explore the translated example app</a>.</p>\n\n<p translation-result=\"on\">以下是特殊情况下可能用到的一些可选实践：</p><p translation-origin=\"off\">The following are optional practices that may be required in special cases:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">如果你需要设置 <a href=\"https://angular.io/api/core/LOCALE_ID\" title=\"LOCALE_ID 的 API 参考\">LOCALE_ID</a> 令牌，请<a href=\"guide/i18n#set-source-manually\">手动设置源本地环境</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#set-source-manually\">Set the source locale manually</a> if you need to set the <a href=\"https://angular.io/api/core/LOCALE_ID\" title=\"API reference for LOCALE_ID\">LOCALE_ID</a> token.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#import-locale\">为其他本地化数据导入本地化数据的全局变体</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#import-locale\">Import global variants of the locale data</a> for extra locale data.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">如果你要对翻译的匹配方式有更多的控制权，可以<a href=\"guide/i18n#custom-id\">使用自定义 ID 来管理</a>。</p><p translation-origin=\"off\"><a href=\"guide/i18n#custom-id\">Manage marked text with custom IDs</a> if you require more control over matching translations.</p>\n\n</li>\n</ul>\n<a id=\"setting-up-cli\"></a>\n<a id=\"add-localize\"></a>\n<h2 id=\"add-the-localize-package\" translation-result=\"on\">添加 localize 包<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#add-the-localize-package\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"add-the-localize-package\">Add the localize package<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#add-the-localize-package\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要利用 Angular 的本地化特性，可以用 Angular CLI 把 <code>@angular/localize</code> 包添加到你的项目中：</p><p translation-origin=\"off\">To take advantage of Angular's localization features, use the Angular CLI to add the <code>@angular/localize</code> package to your project:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng add @angular/localize\n</code-example>\n<p translation-result=\"on\">这个命令会更新你的项目的 <code>package.json</code> 和 <code>polyfills.ts</code> 文件，以导入 <code>@angular/localize</code> 包。</p><p translation-origin=\"off\">This command updates your project's <code>package.json</code> and <code>polyfills.ts</code> files to import the <code>@angular/localize</code> package.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">有关 <code>package.json</code> 和 polyfill 包的更多信息，请参阅<a href=\"https://angular.io/guide/npm-packages\">工作空间的 npm 依赖项</a> 。</p><p translation-origin=\"off\">For more information about <code>package.json</code> and polyfill packages, see <a href=\"https://angular.io/guide/npm-packages\">Workspace npm dependencies</a>.</p>\n\n</div>\n<p translation-result=\"on\">如果没有安装 <code>@angular/localize</code>，那么当你试图构建本地化版本的应用时，Angular CLI 就可能会产生错误。</p><p translation-origin=\"off\">If <code>@angular/localize</code> is not installed, the Angular CLI may generate an error when you try to build a localized version of your app.</p>\n\n<a id=\"setting-up-locale\"></a>\n<a id=\"setting-up-the-locale-of-your-app\"></a>\n<h2 id=\"refer-to-locales-by-id\" translation-result=\"on\">按 ID 引用本地环境<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#refer-to-locales-by-id\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"refer-to-locales-by-id\">Refer to locales by ID<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#refer-to-locales-by-id\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">使用 Unicode <em>本地环境标识符</em>（ID）来引用本地环境，该<em>标识符</em>用于指定语言、国家/地区以及其他变体或细分的可选代码。</p><p translation-origin=\"off\">Refer to a locale using the Unicode <em>locale identifier</em> (ID), which specifies the language, country, and an optional code for further variants or subdivisions.</p>\n\n<div class=\"callout is-helpful\">\n<header translation-result=\"on\">Unicode 本地环境标识符</header><header translation-origin=\"off\">Unicode locale identifiers</header>\n\n<ul>\n<li>\n<p translation-result=\"on\">要获取语言代码列表，请参见 <a href=\"https://www.loc.gov/standards/iso639-2/\" title=\"ISO 639-2 注册机构\">ISO 639-2</a> 。</p><p translation-origin=\"off\">For a list of language codes, see <a href=\"https://www.loc.gov/standards/iso639-2/\" title=\"ISO 639-2 Registration Authority\">ISO 639-2</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">  ID 要符合 Unicode 通用本地化数据仓库（Common Locale Data Repository CLDR）。有关 Unicode 本地环境标识符的更多信息，请参见 <a href=\"http://cldr.unicode.org/core-spec#Unicode_Language_and_Locale_Identifiers\" title=\"CLDR  -  Unicode 公共本地化数据存储库\">CLDR 核心规范</a> 。</p><p translation-origin=\"off\">IDs conform to the Unicode Common Locale Data Repository (CLDR).\nFor more information about Unicode locale identifiers, see the <a href=\"http://cldr.unicode.org/core-spec#Unicode_Language_and_Locale_Identifiers\" title=\"CLDR - Unicode Common Locale Data Repository\">CLDR core specification</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">CLDR 和 Angular 的标识符都基于 <a href=\"http://www.rfc-editor.org/rfc/bcp/bcp47.txt\" title=\"用于识别语言的 BCP47 标签\">BCP47</a> 。</p><p translation-origin=\"off\">CLDR and Angular base their identifiers on <a href=\"http://www.rfc-editor.org/rfc/bcp/bcp47.txt\" title=\"BCP47 Tags for Identifying Languages\">BCP47 tags</a>.</p>\n\n</li>\n</ul>\n</div>\n<p translation-result=\"on\">该 ID 由一个语言标识符组成，例如 <code>en</code> 表示英文， <code>fr</code> 表示法语，后跟短划线（<code>-</code>）和本地环境扩展，比如 <code>US</code> 代表美国，<code>CA</code> 代表加拿大。比如，<code>en-US</code> 是指美国英语区，<code>fr-CA</code> 是指加拿大法语区。Angular 使用这种 ID 来查找对应的本地化数据。</p><p translation-origin=\"off\">The ID consists of a language identifier, such as <code>en</code> for English or <code>fr</code> for French, followed by a dash (<code>-</code>) and a locale extension, such as <code>US</code> for the United States or <code>CA</code> for Canada.\nFor example, <code>en-US</code> refers to English in the United States, and <code>fr-CA</code> refers to French in Canada.\nAngular uses this ID to find the correct corresponding locale data.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">许多国家/地区（比如法国和加拿大）都使用相同的语言（法语，标识为 <code>fr</code>），但在语法、标点符号、货币格式、十进制数字格式和日期格式方面都有所不同。在本地化你的应用时，可以使用更具体的本地环境 ID，例如加拿大法语区（ <code>fr-CA</code> ）。</p><p translation-origin=\"off\">Many countries, such as France and Canada, use the same language (French, identified as <code>fr</code>) but differ in grammar, punctuation, and formats for currency, decimal numbers, and dates.\nUse a more specific locale ID, such as French for Canada (<code>fr-CA</code>), when localizing your app.</p>\n\n</div>\n<p translation-result=\"on\">Angular 默认使用 <code>en-US</code>（美国英语）作为应用的源本地环境。</p><p translation-origin=\"off\">Angular by default uses <code>en-US</code> (English in the United States) as your app's source locale.</p>\n\n<p translation-result=\"on\"><a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Angular 存储库中的常用语言环节\">Angular 的代码仓库中</a>包含常见的本地环境。你可以通过在应用的<a href=\"guide/workspace-config\" title=\"Angular 工作空间配置\">工作区配置</a>文件 <code>angular.json</code> 中的 <code>sourceLocale</code> 字段中设置源本地环境来为此构建更改应用的源本地环境。构建过程（在本指南的<a href=\"guide/i18n#merge\">把翻译合并到应用程序</a>中描述）会使用应用中的 <code>angular.json</code> 文件来自动设置 <a href=\"api/core/LOCALE_ID\" title=\"LOCALE_ID 的 API 参考\"><code>LOCALE_ID</code></a> 令牌并加载本地化数据。</p><p translation-origin=\"off\">The <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Common locales in the Angular repository\">Angular repository</a> includes common locales.\nYou can change your app's source locale for the build by setting the source locale in the <code>sourceLocale</code> field of your app's <a href=\"guide/workspace-config\" title=\"Angular workspace configuration\">workspace configuration</a> file (<code>angular.json</code>).\nThe build process (described in <a href=\"guide/i18n#merge\">Merge translations into the app</a> in this guide) uses your app's <code>angular.json</code> file to automatically set the <a href=\"api/core/LOCALE_ID\" title=\"API reference for LOCALE_ID\"><code>LOCALE_ID</code></a> token and load the locale data.</p>\n\n<a id=\"i18n-pipes\"></a>\n<h2 id=\"format-data-based-on-locale\" translation-result=\"on\">根据本地环境格式化数据<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#format-data-based-on-locale\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"format-data-based-on-locale\">Format data based on locale<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#format-data-based-on-locale\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">Angular 提供了下列内置数据转换<a href=\"guide/glossary#pipe\" title=\"管道的定义\">管道</a> ，它们根据本地化的规则使用 <a href=\"api/core/LOCALE_ID\" title=\"LOCALE_ID 的 API 参考\"><code>LOCALE_ID</code></a> 令牌来格式化数据：</p><p translation-origin=\"off\">Angular provides the following built-in data transformation <a href=\"guide/glossary#pipe\" title=\"Definition of a pipe\">pipes</a> that use the <a href=\"api/core/LOCALE_ID\" title=\"API reference for LOCALE_ID\"><code>LOCALE_ID</code></a> token to format data according to the locale's rules:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"api/common/DatePipe\"><code>DatePipe</code></a>：格式化日期值。</p><p translation-origin=\"off\"><a href=\"api/common/DatePipe\"><code>DatePipe</code></a>: Formats a date value.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"api/common/CurrencyPipe\"><code>CurrencyPipe</code></a>：把数字转换成货币字符串。</p><p translation-origin=\"off\"><a href=\"api/common/CurrencyPipe\"><code>CurrencyPipe</code></a>: Transforms a number to a currency string.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"/api/common/DecimalPipe\"><code>DecimalPipe</code></a>：把数字转换成十进制数的字符串。</p><p translation-origin=\"off\"><a href=\"/api/common/DecimalPipe\"><code>DecimalPipe</code></a>: Transforms a number into a decimal number string.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"api/common/PercentPipe\"><code>PercentPipe</code></a>：把数字转换成百分比字符串。</p><p translation-origin=\"off\"><a href=\"api/common/PercentPipe\"><code>PercentPipe</code></a>: Transforms a number to a percentage string.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">例如，<code>{{today | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a>}}</code> 使用 <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> 以 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 中指定的本地化格式来显示当前日期。</p><p translation-origin=\"off\">For example, <code>{{today | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a>}}</code> uses <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> to display the current date in the format for the locale in <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code>.</p>\n\n<p translation-result=\"on\">要覆盖 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 的值， 请添加 <code>locale</code> 参数。例如，要强制该货币使用 <code>en-US</code> 而不管你为 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 设置的是哪种本地环境，请使用如下格式：<code>{{amount | <a href=\"api/common/CurrencyPipe\" class=\"code-anchor\">currency</a> : 'en-US'}}</code>。</p><p translation-origin=\"off\">To override the value of <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code>, add the <code>locale</code> parameter.\nFor example, to force the currency to use <code>en-US</code> no matter which language-locale you set for <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code>, use this form: <code>{{amount | <a href=\"api/common/CurrencyPipe\" class=\"code-anchor\">currency</a> : 'en-US'}}</code>.</p>\n\n<a id=\"Template-translations\"></a>\n<h2 id=\"prepare-templates-for-translations\" translation-result=\"on\">准备翻译模板<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#prepare-templates-for-translations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"prepare-templates-for-translations\">Prepare templates for translations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#prepare-templates-for-translations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要翻译你的应用模板，就要用 Angular 的 <code>i18n</code> 属性标记出文本、属性和其他元素来为翻译人员或翻译服务准备出文本。请遵循以下常规步骤：</p><p translation-origin=\"off\">To translate your app's templates, you need to prepare the text for a translator or translation service by marking text, attributes, and other elements with the Angular <code>i18n</code> attribute.\nFollow these general steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#i18n-attribute\">标记要翻译的文本</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#i18n-attribute\">Mark text for translations</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#help-translator\">添加有用的描述和含义</a>，以便为翻译人员提供额外的信息或背景信息。</p><p translation-origin=\"off\"><a href=\"guide/i18n#help-translator\">Add helpful descriptions and meanings</a> to help the translator with additional information or context.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#no-element\">翻译不显示的文本</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#no-element\">Translate text not for display</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#translate-attributes\">标记要翻译的元素属性</a> ，比如图像的 <code>title</code> 属性。</p><p translation-origin=\"off\"><a href=\"guide/i18n#translate-attributes\">Mark element attributes for translations</a>, such as an image's <code>title</code> attribute.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#plurals-alternates\">标记复数形式和替换形式以便翻译</a>，以符合不同语言的复数规则和语法结构。</p><p translation-origin=\"off\"><a href=\"guide/i18n#plurals-alternates\">Mark plurals and alternates for translation</a> in order to comply with the pluralization rules and grammatical constructions of different languages.</p>\n\n</li>\n</ol>\n<a id=\"i18n-attribute\"></a>\n<h3 id=\"mark-text-for-translations\" translation-result=\"on\">标记要翻译的文本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-text-for-translations\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"mark-text-for-translations\">Mark text for translations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-text-for-translations\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">使用 <code>i18n</code> 属性在组件模板中标记静态文本消息以进行翻译。把它放到每个带有要翻译的静态文本的元素标签上。</p><p translation-origin=\"off\">Mark the static text messages in your component templates for translation using the <code>i18n</code> attribute.\nPlace it on every element tag with fixed text to be translated.</p>\n\n<p translation-result=\"on\">比如，下面的 <code>&#x3C;h1></code> 标签会显示一个简单的英文问候语 “Hello i18n！”。</p><p translation-origin=\"off\">For example, the following <code>&#x3C;h1></code> tag displays a simple English language greeting, \"Hello i18n!\"</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"greeting\" header=\"src/app/app.component.html\">\n&#x3C;h1>Hello i18n!&#x3C;/h1>\n\n</code-example>\n<p translation-result=\"on\">要把这个问候语标记为要翻译的，请把 <code>i18n</code> 属性添加到 <code>&#x3C;h1></code> 标签上。</p><p translation-origin=\"off\">To mark the greeting for translation, add the <code>i18n</code> attribute to the <code>&#x3C;h1></code> tag.</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute\" header=\"src/app/app.component.html\">\n&#x3C;h1 i18n>Hello i18n!&#x3C;/h1>\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\"><code>i18n</code> 是一个自定义属性，Angular 的工具和编译器都认识它。编译完成后，编译器会删除它。它并不是 Angular 中的指令。</p><p translation-origin=\"off\"><code>i18n</code> is a custom attribute, recognized by Angular tools and compilers.\nAfter translation, the compiler removes it. It is not an Angular directive.</p>\n\n</div>\n<a id=\"help-translator\"></a>\n<h3 id=\"add-helpful-descriptions-and-meanings\" translation-result=\"on\">添加有用的描述和含义<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#add-helpful-descriptions-and-meanings\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"add-helpful-descriptions-and-meanings\">Add helpful descriptions and meanings<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#add-helpful-descriptions-and-meanings\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要准确翻译文本信息，翻译人员可能需要额外的信息或上下文。把此文本信息的<em>描述</em>添加为 <code>i18n</code> 属性的值，如下例所示：</p><p translation-origin=\"off\">To translate a text message accurately, the translator may need additional information or context.\nAdd a <em>description</em> of the text message as the value of the <code>i18n</code> attribute, as shown in the following example:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute-desc\" header=\"src/app/app.component.html\">\n&#x3C;h1 i18n=\"An introduction header for this sample\">Hello i18n!&#x3C;/h1>\n\n</code-example>\n<p translation-result=\"on\">翻译人员可能还需要知道该特定应用上下文中，这段文本的意义或意图，以便像其它具有相同含义的文本一样翻译它。用带<em>含义</em>的 <code>i18n</code> 属性值开头，并用 <code>|</code> 字符把它和<em>描述</em>分隔开。</p><p translation-origin=\"off\">The translator may also need to know the meaning or intent of the text message within this particular app context, in order to translate it the same way as other text with the same meaning.\nStart the <code>i18n</code> attribute value with the <em>meaning</em> and\nseparate it from the <em>description</em> with the <code>|</code> character: <code>&#x3C;meaning>|&#x3C;description></code>.</p>\n\n<p translation-result=\"on\">例如，你可以添加这样的含义：<code>&#x3C;h1></code> 标签是一个站点标头，它在用作标题时和从另一段文本中引用时都要翻译成一样的：</p><p translation-origin=\"off\">For example, you can add the meaning that this <code>&#x3C;h1></code> tag is a site header that needs to be translated the same way not only when used as a header, but also when referred to from another section of text:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute-meaning\" header=\"src/app/app.component.html\">\n&#x3C;h1 i18n=\"site header|An introduction header for this sample\">Hello i18n!&#x3C;/h1>\n\n</code-example>\n<p translation-result=\"on\">其结果是，任何标有 <code>site header</code> 的文字，都会翻译成完全相同的结果。</p><p translation-origin=\"off\">As a result, any text marked with <code>site header</code> as the <em>meaning</em> is translated exactly the same way.</p>\n\n<a id=\"transaction-unit-ids\"></a>\n<div class=\"callout is-helpful\">\n<header translation-result=\"on\">含义（meaning）如何控制文本的提取和合并</header><header translation-origin=\"off\">How meanings control text extraction and merging</header>\n\n<p translation-result=\"on\">Angular 提取工具（在本指南的<a href=\"guide/i18n#ng-xi18n\">“使用翻译文件”</a>中讲解）会为模板中的每个 <code>i18n</code> 属性生成一个翻译单元条目。它会根据其<em>含义</em>和<em>描述</em>为每个翻译单元分配一个唯一的 ID。</p><p translation-origin=\"off\">The Angular extraction tool (described in <a href=\"guide/i18n#ng-xi18n\">Work with translation files</a> in this guide) generates a translation unit entry for each <code>i18n</code>\nattribute in a template.\nIt assigns each translation unit a unique ID based on the <em>meaning</em> and <em>description</em>.</p>\n\n<p translation-result=\"on\">要用不同的 ID 提取具有不同<em>含义</em>的文本元素。例如，如果单词 “right” 出现在一个地方时表示正确（比如：\"You are right\"），而在另一个地方的含义是方向（比如：\"Turn right\"），那么这个词的翻译就会有所不同，并且会作为不同的翻译条目合并回应用。</p><p translation-origin=\"off\">The same text elements with different <em>meanings</em> are extracted with separate IDs.\nFor example, if the word \"right\" appears with the meaning <code>correct</code> (as in \"You are right\") in one place, and with the meaning <code>direction</code> (as in \"Turn right\") in another place, the word is translated differently and merged back into the app as different translation entries.</p>\n\n<p translation-result=\"on\">如果相同的文本元素具有不同的<em>描述</em>但<em>含义</em>相同，那么它们只会被提取一次，只有一个 ID。只要出现了相同的文本元素，就会把这个翻译条目合并回应用。</p><p translation-origin=\"off\">If the same text elements have different <em>descriptions</em> but the same <em>meaning</em>, they are extracted only once, with only one ID. That one translation entry is merged back into the app wherever the same text elements appear.</p>\n\n</div>\n<a id=\"no-element\"></a>\n<h3 id=\"translate-text-not-for-display\" translation-result=\"on\">翻译不显示的文字<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-text-not-for-display\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"translate-text-not-for-display\">Translate text not for display<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-text-not-for-display\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">虽然也可以使用 <code>&#x3C;span></code> 标签来翻译未显示的文本，但这样你就会创建一个新的 DOM 元素。要避免这种情况，请把它放在 <code>&#x3C;ng-container></code> 元素中，该元素会被转换成一个不显示的 HTML 注释，如下例所示：</p><p translation-origin=\"off\">While you can translate non-displayed text using a <code>&#x3C;span></code> tag, you are creating a new DOM element. To avoid doing so, wrap the text in an <code>&#x3C;ng-container></code> element, which is transformed into a non-displayed HTML comment as shown in this example:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-ng-container\">\n&#x3C;ng-container i18n>I don't output any element&#x3C;/ng-container>\n\n</code-example>\n<a id=\"translate-attributes\"></a>\n<h3 id=\"mark-element-attributes-for-translations\" translation-result=\"on\">标记要翻译的元素属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-element-attributes-for-translations\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"mark-element-attributes-for-translations\">Mark element attributes for translations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-element-attributes-for-translations\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\"><code>title</code> 等 HTML 属性包含要与模板中的其它显示文本一起翻译的文本。下面的代码展示了一个带 <code>title</code> 属性的图片：</p><p translation-origin=\"off\">HTML attributes such as <code>title</code> include text that should be translated along with the rest of the displayed text in the template.\nThe following example shows an image with a <code>title</code> attribute:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-title\" header=\"src/app/app.component.html\">\n&#x3C;img [src]=\"logo\" title=\"Angular logo\">\n\n</code-example>\n<p translation-result=\"on\">为了标记出要翻译的属性，就要为它添加一个 <code>i18n-</code><em>属性名</em> 属性。下面的例子展示了如何通过添加 <code>i18n-title</code> 在 <code>img</code> 标签上标记出 <code>title</code> 属性：</p><p translation-origin=\"off\">To mark an attribute for translation, add <code>i18n-</code><em>attribute</em> in which <em>attribute</em> is the attribute to translate.\nThe following example shows how to mark the\n<code>title</code> attribute on the <code>img</code> tag by adding <code>i18n-title</code>:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-title-translate\" header=\"src/app/app.component.html\">\n&#x3C;img [src]=\"logo\" i18n-title title=\"Angular logo\" />\n\n</code-example>\n<p translation-result=\"on\">你可以对任意元素的任何属性添加 <code>i18n-</code><em>属性名</em> 属性。你也可以用 <code>i18n-</code><em>属性名</em><code>=\"&#x3C;meaning>|&#x3C;description>@@&#x3C;id>\"</code> 语法来为它指定含义、描述和自定义 ID。</p><p translation-origin=\"off\">You can use <code>i18n-</code><em>attribute</em> with any attribute of any element.\nYou also can assign a meaning, description, and custom ID with the <code>i18n-</code><em>attribute</em><code>=\"&#x3C;meaning>|&#x3C;description>@@&#x3C;id>\"</code> syntax.</p>\n\n<a id=\"plurals-alternates\"></a>\n<h3 id=\"mark-plurals-and-alternates-for-translation\" translation-result=\"on\">标记复数形式和替换形式以便翻译<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-plurals-and-alternates-for-translation\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"mark-plurals-and-alternates-for-translation\">Mark plurals and alternates for translation<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-plurals-and-alternates-for-translation\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">不同的语言有不同的复数规则和语法结构，这会让翻译变得困难。要简化翻译，可以使用带有正则表达式的 Unicode 国际化组件（International Components for Unicode ICU）子句，比如 <code>plural</code> 标出要用的复数形式，用 <code>select</code> 标出候选的备用文字。</p><p translation-origin=\"off\">Different languages have different pluralization rules and grammatical constructions that can make translation difficult.\nTo simplify translation, use International Components for Unicode (ICU) clauses with regular expressions, such as <code>plural</code> to mark the uses of plural numbers, and <code>select</code> to mark alternate text choices.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">ICU 条款遵循 <a href=\"http://cldr.unicode.org/index/cldr-spec/plural-rules\" title=\"多元化规则\">CLDR 复数规则</a>中指定的 <a href=\"http://userguide.icu-project.org/formatparse/messages\" title=\"ICU 消息格式\">ICU 消息格式</a> 。</p><p translation-origin=\"off\">The ICU clauses adhere to the <a href=\"http://userguide.icu-project.org/formatparse/messages\" title=\"ICU Message Format\">ICU Message Format</a> specified in the <a href=\"http://cldr.unicode.org/index/cldr-spec/plural-rules\" title=\"Pluralization Rules\">CLDR pluralization rules</a>.</p>\n\n</div>\n<a id=\"plural-ICU\"></a>\n<h4 id=\"mark-plurals\" translation-result=\"on\">标出复数形式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-plurals\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"mark-plurals\">Mark plurals<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-plurals\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">使用 <code>plural</code> 子句来标出那些在逐字翻译时可能用不到的表达式。</p><p translation-origin=\"off\">Use the <code>plural</code> clause to mark expressions that may not be meaningful if translated word-for-word.</p>\n\n<p translation-result=\"on\">比如，如果你想用英文显示 “updated x minutes ago”，你可能需要显示 “just now”、“one minute ago” 或 “ <em>x</em> minutes ago”（ <em>x</em>为实际数字）。在其他语言中这种基数规则可能不同。下面的代码演示了如何使用 <code>plural</code> 子句来表达这三个选项：</p><p translation-origin=\"off\">For example, if you want to display \"updated x minutes ago\" in English, you may want to display \"just now\", \"one minute ago\", or \"<em>x</em> minutes ago\" (with <em>x</em> as the actual number).\nOther languages might express this cardinality differently.\nThe following example shows how to use a <code>plural</code> clause to express these three options:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-plural\" header=\"src/app/app.component.html\">\n&#x3C;span i18n>Updated {minutes, plural, =0 {just now} =1 {one minute ago} other {{{minutes}} minutes ago}}&#x3C;/span>\n\n</code-example>\n<p translation-result=\"on\">在上面的例子中：</p><p translation-origin=\"off\">In the above example:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">第一个参数 <code>minutes</code> ，被绑定到组件的属性（ <code>minutes</code> ），它决定了分钟数。</p><p translation-origin=\"off\">The first parameter, <code>minutes</code>, is bound to the component property (<code>minutes</code>), which determines the number of minutes.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">第二个参数把它标识为 <code>plural</code> 翻译类型。</p><p translation-origin=\"off\">The second parameter identifies this as a <code>plural</code> translation type.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">第三个参数定义了复数分类模式以及与之匹配的值：</p><p translation-origin=\"off\">The third parameter defines a pattern of pluralization categories and their matching values:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">零分钟时，使用 <code>=0 {just now}</code> 。</p><p translation-origin=\"off\">For zero minutes, use <code>=0 {just now}</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">一分钟后，使用 <code>=1 {one minute}</code> 。</p><p translation-origin=\"off\">For one minute, use <code>=1 {one minute}</code>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">  对于任何无法匹配的基数，使用 <code>other {{{minutes}} minutes ago}</code> 。你还可以使用表达式中带有 <code>plural</code> 子句的 HTML 标记和<a href=\"guide/glossary#interpolation\" title=\"插值的定义\">插值</a> ，比如 <code>{{{minutes}}</code>。</p><p translation-origin=\"off\">For any unmatched cardinality, use <code>other {{{minutes}} minutes ago}</code>.\nYou can use HTML markup and <a href=\"guide/glossary#interpolation\" title=\"Definition of interpolation\">interpolations</a> such as <code>{{{minutes}}</code> with the <code>plural</code> clause in expressions.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">在复数类别后面，把默认文本（英文）放在花括号（<code>{}</code>）中。</p><p translation-origin=\"off\">After the pluralization category, put the default text (English) within braces (<code>{}</code>).</p>\n\n</li>\n</ul>\n</li>\n</ul>\n<p translation-result=\"on\">复数类别包括（取决于语言）：</p><p translation-origin=\"off\">Pluralization categories include (depending on the language):</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>=0</code>（或任何其他数字）</p><p translation-origin=\"off\"><code>=0</code> (or any other number)</p>\n\n</li>\n<li>\n<p><code>zero</code></p>\n</li>\n<li>\n<p><code>one</code></p>\n</li>\n<li>\n<p><code>two</code></p>\n</li>\n<li>\n<p><code>few</code></p>\n</li>\n<li>\n<p><code>many</code></p>\n</li>\n<li>\n<p><code>other</code></p>\n</li>\n</ul>\n<div class=\"callout is-important\">\n<header translation-result=\"on\">本地环境可能不支持某些复数类别</header><header translation-origin=\"off\">Locales may not support some pluralization categories</header>\n\n<p translation-result=\"on\">很多本地环境都不支持某些复数类别。例如，默认本地环境（ <code>en-US</code> ）和其他本地环境（例如 <code>es</code> ）都有非常简单的 <code>plural()</code> 函数，它们不支持这 <code>few</code> 类别。 <a href=\"https://github.com/angular/angular/blob/ecffc3557fe1bff9718c01277498e877ca44588d/packages/core/src/i18n/locale_en.ts#L15-L18\">en-US</a> 的 <code>plural()</code> 函数实例如下：</p><p translation-origin=\"off\">Many locales don't support some of the pluralization categories.\nFor example, the default locale (<code>en-US</code>) and other locales (such as <code>es</code>) have very simple <code>plural()</code> functions that don't support the <code>few</code> category.\nThe following shows the <a href=\"https://github.com/angular/angular/blob/ecffc3557fe1bff9718c01277498e877ca44588d/packages/core/src/i18n/locale_en.ts#L15-L18\">en-US</a> <code>plural()</code> function:</p>\n\n<code-example>\nfunction plural(n: number): number {\n  let i = Math.floor(Math.abs(n)), v = n.toString().replace(/^[^.]*\\.?/, '').length;\n  if (i === 1 &#x26;&#x26; v === 0) return 1;\n  return 5;\n}\n</code-example>\n<p translation-result=\"on\">该函数只返回 1（<code>one</code>）或 5（<code>other</code>）。这个 <code>few</code> 类别永远不会匹配。如果所有复数类别都不匹配，Angular 就会尝试匹配 <code>other</code> 类别。<code>other</code> 用作缺失类别的标准后备。</p><p translation-origin=\"off\">The function will only ever return 1 (<code>one</code>) or 5 (<code>other</code>).\nThe <code>few</code> category will never match.\nIf none of the pluralization categories match, Angular will try to match <code>other</code>.\nUse <code>other</code> as the standard fallback for a missing category.</p>\n\n<p translation-result=\"on\">有关复数类别的详细信息，请参阅 “CLDR - Unicode 公共本地化数据存储库”中的<a href=\"http://cldr.unicode.org/index/cldr-spec/plural-rules#TOC-Choosing-Plural-Category-Names\">选择复数类别名称</a> 。</p><p translation-origin=\"off\">For more information about pluralization categories, see <a href=\"http://cldr.unicode.org/index/cldr-spec/plural-rules#TOC-Choosing-Plural-Category-Names\">Choosing plural category names</a> in the CLDR - Unicode Common Locale Data Repository.</p>\n\n</div>\n<a id=\"select-ICU\"></a>\n<a id=\"nesting-ICUS\"></a>\n<h3 id=\"mark-alternates-and-nested-expressions\" translation-result=\"on\">标记替代表达式和嵌套表达式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-alternates-and-nested-expressions\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"mark-alternates-and-nested-expressions\">Mark alternates and nested expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#mark-alternates-and-nested-expressions\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">如果需要根据变量的值来显示备用文本，你需要翻译所有的备用项。</p><p translation-origin=\"off\">If you need to display alternate text depending on the value of a variable, you\nneed to translate all of the alternates.</p>\n\n<p translation-result=\"on\"><code>select</code> 子句类似于 <code>plural</code> 子句，它会根据你定义的字符串值来标记出备用文本的可选值。例如，组件模板中的下列子句绑定了组件的 <code>gender</code> 属性，该属性输出以下字符串值之一：“male”、“female” 或 “other”。该子句将这些值映射成适当的翻译：</p><p translation-origin=\"off\">The <code>select</code> clause, similar to the <code>plural</code> clause, marks choices for alternate text based on your defined string values.\nFor example, the following clause in the component template binds to the component's <code>gender</code> property, which outputs one of the following string values: \"male\", \"female\" or \"other\".\nThe clause maps those values to the appropriate translations:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-select\" header=\"src/app/app.component.html\">\n&#x3C;span i18n>The author is {gender, select, male {male} female {female} other {other}}&#x3C;/span>\n\n</code-example>\n<p translation-result=\"on\">你还可以把不同的子句嵌套在一起，比如下例中的 <code>plural</code> 和 <code>select</code> 子句：</p><p translation-origin=\"off\">You can also nest different clauses together, such as the <code>plural</code> and <code>select</code> clauses in the following example:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-nested\" header=\"src/app/app.component.html\">\n&#x3C;span i18n>Updated: {minutes, plural,\n  =0 {just now}\n  =1 {one minute ago}\n  other {{{minutes}} minutes ago by {gender, select, male {male} female {female} other {other}}}}\n&#x3C;/span>\n\n</code-example>\n<a id=\"ng-xi18n\"></a>\n<a id=\"ng-xi18n-options\"></a>\n<a id=\"translate\"></a>\n<h2 id=\"work-with-translation-files\" translation-result=\"on\">使用翻译文件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#work-with-translation-files\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"work-with-translation-files\">Work with translation files<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#work-with-translation-files\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">在准备好要翻译的模板后，使用 Angular CLI 的 <code>xi18n</code> 命令把模板中标记过的文本提取到<em>源语言</em>文件中。所谓标记过的文本包括标有 <code>i18n</code> 的文本和标有 <code>i18n-</code><em>属性名</em> 的属性，如前一节中所描述。请执行以下步骤：</p><p translation-origin=\"off\">After preparing a template for translation, use the Angular CLI <code>xi18n</code> command to extract the marked text in the template into a <em>source language</em> file.\nThe marked text includes text marked with <code>i18n</code> and attributes marked with <code>i18n-</code><em>attribute</em> as described in the previous section.\nFollow these steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">   <a href=\"guide/i18n#create-source\">提取源语言文件</a> 。你可以选择更改位置、格式和名称。</p><p translation-origin=\"off\"><a href=\"guide/i18n#create-source\">Extract the source language file</a>.\nYou can optionally change the location, format, and name.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">通过复制源语言文件，可以<a href=\"guide/i18n#localization-folder\">为每种语言创建一个翻译文件</a>。</p><p translation-origin=\"off\"><a href=\"guide/i18n#localization-folder\">Create a translation file for each language</a> by copying the source language file.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/i18n#translate-text-nodes\">翻译每个翻译文件</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#translate-text-nodes\">Translate each translation file</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">单独<a href=\"guide/i18n#translate-plural-select\">翻译复数形式和替代表达式</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#translate-plural-select\">Translate plurals and alternate expressions</a> separately.</p>\n\n</li>\n</ol>\n<a id=\"create-source\"></a>\n<h3 id=\"extract-the-source-language-file\" translation-result=\"on\">提取源语言文件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#extract-the-source-language-file\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"extract-the-source-language-file\">Extract the source language file<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#extract-the-source-language-file\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要提取源语言文件，请打开终端窗口，切换到应用项目的根目录，执行以下 CLI 命令：</p><p translation-origin=\"off\">To extract the source language file, open a terminal window, change to the root directory of your app project, and run the following CLI command:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng xi18n\n</code-example>\n<p translation-result=\"on\"><code>xi18n</code> 命令使用 <a href=\"https://en.wikipedia.org/wiki/XLIFF\" title=\"关于 XLIFF 的维基百科页面\">XML 本地化交换文件格式（XLIFF 版本 1.2）</a>在项目的根目录下创建一个名为 <code>messages.xlf</code> 的源语言文件。</p><p translation-origin=\"off\">The <code>xi18n</code> command creates a source language file named <code>messages.xlf</code> in your project's root directory using the <a href=\"https://en.wikipedia.org/wiki/XLIFF\" title=\"Wikipedia page about XLIFF\">XML Localization Interchange File Format (XLIFF, version 1.2)</a>.</p>\n\n<p translation-result=\"on\">使用下列 <code>xi18n</code> 命令可以改变源语言文件的位置、格式和文件名：</p><p translation-origin=\"off\">Use the following <code>xi18n</code> command options to change the source language file location, format, and file name:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>--output-path</code>：改变位置。</p><p translation-origin=\"off\"><code>--output-path</code>: Change the location.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>--format</code>：改变格式。</p><p translation-origin=\"off\"><code>--format</code>: Change the format.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>--outFile</code>：改变文件名。</p><p translation-origin=\"off\"><code>--outFile</code>: Change the file name.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">注意：<code>--i18n-locale</code> 选项已弃用。 Angular 9 会使用应用的<a href=\"guide/workspace-config\" title=\"Angular 工作空间配置\">工作空间配置</a>文件（ <code>angular.json</code> ）中<a href=\"guide/workspace-config\" title=\"Angular 工作空间配置\">配置</a>的源本地环境。</p><p translation-origin=\"off\">Note: The <code>--i18n-locale</code> option is deprecated.\nAngular 9 uses the source locale configured in your app's <a href=\"guide/workspace-config\" title=\"Angular workspace configuration\">workspace configuration</a> file (<code>angular.json</code>).</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">ng xi18n 提取机制使用的是 ViewEngine 编译器，它无法处理 Ivy 编译器可以处理的一些代码语法。这个问题的解决方案目前正在开发中。要跟踪修复进度或做出贡献，请参阅 <a href=\"https://github.com/angular/angular/pull/32912\">PR 32912</a> 。</p><p translation-origin=\"off\">The ng xi18n extraction mechanism uses the ViewEngine compiler, which is not able to cope with some code syntax that the Ivy compiler can handle. A fix for this issue is currently under development. To follow or contribute to this fix see <a href=\"https://github.com/angular/angular/pull/32912\">PR 32912</a>.</p>\n\n</div>\n<h4 id=\"change-the-source-language-file-location\" translation-result=\"on\">修改源语言文件的位置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-location\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"change-the-source-language-file-location\">Change the source language file location<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-location\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">要把文件创建在 <code>src/locale</code> 目录下，请把输出路径指定为一个选项，如下例所示：</p><p translation-origin=\"off\">To create a file in the <code>src/locale</code> directory, specify the output path as an option, as shown in the following example:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng xi18n --output-path src/locale\n</code-example>\n<a id=\"other-formats\"></a>\n<h4 id=\"change-the-source-language-file-format\" translation-result=\"on\">修改源语言文件格式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-format\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"change-the-source-language-file-format\">Change the source language file format<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-format\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\"><code>xi18n</code> 命令可以用三种翻译格式读写文件：</p><p translation-origin=\"off\">The <code>xi18n</code> command can read and write files in three translation formats:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">XLIFF 1.2（默认）</p><p translation-origin=\"off\">XLIFF 1.2 (default)</p>\n\n</li>\n<li>\n<p>XLIFF 2</p>\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"http://cldr.unicode.org/development/development-process/design-proposals/xmb\">XML 消息包（XMB）</a></p><p translation-origin=\"off\"><a href=\"http://cldr.unicode.org/development/development-process/design-proposals/xmb\">XML Message Bundle (XMB)</a></p>\n\n</li>\n</ul>\n<p translation-result=\"on\">使用 <code>--format</code> 命令选项显式指定转换格式，如下例所示：</p><p translation-origin=\"off\">Specify the translation format explicitly with the <code>--format</code> command option, as shown in the following examples:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\nng xi18n  --format=xlf\nng xi18n  --format=xlf2\nng xi18n  --format=xmb\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">  XLIFF 文件使用扩展名 <code>.xlf</code>。 XMB 格式生成 <code>.xmb</code> 源语言文件，但使用 <code>.xtb</code>（XML Translation Bundle：XTB）翻译文件。</p><p translation-origin=\"off\">  XLIFF files use the extension <code>.xlf</code>.\nThe XMB format generates <code>.xmb</code> source language files but uses<code>.xtb</code> (XML Translation Bundle: XTB) translation files.</p>\n\n</div>\n<h4 id=\"change-the-source-language-file-name\" translation-result=\"on\">修改源语言文件名<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-name\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"change-the-source-language-file-name\">Change the source language file name<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#change-the-source-language-file-name\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">要更改提取工具生成的源语言文件的名称，请使用 <code>--outFile</code> 命令选项：</p><p translation-origin=\"off\">To change the name of the source language file generated by the extraction tool, use\nthe <code>--outFile</code> command option:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng xi18n --out-file source.xlf\n</code-example>\n<a id=\"localization-folder\"></a>\n<h3 id=\"create-a-translation-file-for-each-language\" translation-result=\"on\">为每种语言创建一个翻译文件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#create-a-translation-file-for-each-language\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"create-a-translation-file-for-each-language\">Create a translation file for each language<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#create-a-translation-file-for-each-language\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\"><code>ng xi18n</code> 命令（不带选项时）会在项目的 <code>src</code> 文件夹下生成一个名为 <code>messages.xlf</code> 的源语言文件。通过复制源语言文件为每种语言创建一个<em>翻译</em>文件。为了避免混淆这么多翻译文件，你应该把这些语言的翻译文件整理到 <code>src/</code> 下的一个专用 <code>locale</code> 文件夹中。这些文件使用与相关的本地环境匹配的扩展名，例如 <code>messages.fr.xlf</code> 。</p><p translation-origin=\"off\">The <code>ng xi18n</code> command (with no options) generates a source language file named <code>messages.xlf</code> in the project <code>src</code> folder.\nCreate <em>translation</em> files for each language by copying the source language file.\nTo avoid confusion with multiple translations, you should organize the language translation files by locale in a dedicated <code>locale</code> folder under <code>src/</code>.\nUse a filename extension that matches the associated locale, such as <code>messages.fr.xlf</code>.</p>\n\n<p translation-result=\"on\">例如，要创建法语翻译文件，请按照下列步骤操作：</p><p translation-origin=\"off\">For example, to create a French translation file, follow these steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">复制一下 <code>messages.xlf</code> 源语言文件。</p><p translation-origin=\"off\">Make a copy of the <code>messages.xlf</code> source language file.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">把这份副本放在 <code>src/locale</code> 文件夹中。</p><p translation-origin=\"off\">Put the copy in the <code>src/locale</code> folder.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">   把该副本重命名为 <code>messages.fr.xlf</code> 以便进行法语（ <code>fr</code> ）翻译。把这个翻译文件发给翻译人员。</p><p translation-origin=\"off\">Rename the copy to <code>messages.fr.xlf</code> for the French language (<code>fr</code>) translation.\nSend this translation file to the translator.</p>\n\n</li>\n</ol>\n<p translation-result=\"on\">针对要添加到应用中的每种语言，重复上述步骤。</p><p translation-origin=\"off\">Repeat the above steps for each language you want to add to your app.</p>\n\n<a id=\"translate-text-nodes\"></a>\n<h3 id=\"translate-each-translation-file\" translation-result=\"on\">翻译各个翻译文件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-each-translation-file\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"translate-each-translation-file\">Translate each translation file<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-each-translation-file\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">除非你能流利的说那种语言并且有时间编辑这些翻译文件，否则很可能要把每个翻译文件都发给翻译人员，翻译人员会使用 XLIFF 文件编辑器来创建和编辑翻译。</p><p translation-origin=\"off\">Unless you are fluent in the language and have the time to edit translations, you would likely send each translation file to a translator, who would then use an XLIFF file editor to create and edit the translation.</p>\n\n<p translation-result=\"on\">要演示这个过程，请参阅<live-example></live-example>中的 <code>messages.fr.xlf</code> 文件，它包含法语翻译，无需特殊的 XLIFF 编辑器或法语知识，即可编辑。请执行以下步骤：</p><p translation-origin=\"off\">To demonstrate this process, see the <code>messages.fr.xlf</code> file in the <live-example></live-example>, which includes a French translation you can edit without a special XLIFF editor or knowledge of French.\nFollow these steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">打开 <code>messages.fr.xlf</code> 并找到第一个 <code>&#x3C;trans-unit></code> 元素。这是一个<em>翻译单元</em> ，也叫做<em>文本节点</em>，代表对之前标记过 <code>i18n</code> 属性的 <code>&#x3C;h1></code> 标签的翻译：</p><p translation-origin=\"off\">Open <code>messages.fr.xlf</code> and find the first <code>&#x3C;trans-unit></code> element. This is a <em>translation unit</em>, also known as a <em>text node</em>, representing the translation of the <code>&#x3C;h1></code> greeting tag that was previously marked with the <code>i18n</code> attribute:</p>\n\n</li>\n</ol>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-hello-before\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n  &#x3C;source>Hello i18n!&#x3C;/source>\n  &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n  &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\"><code>id=\"introductionHeader\"\"</code> 是一个<a href=\"guide/i18n#custom-id\" title=\"用自定义 ID 管理带标记的文本\">自定义 ID</a> ，但在源 HTML 中没有 <code>@@</code> 前缀。</p><p translation-origin=\"off\">The <code>id=\"introductionHeader\"\"</code> is a <a href=\"guide/i18n#custom-id\" title=\"Manage marked text with custom IDs\">custom ID</a>, but without the <code>@@</code> prefix required in the source HTML.</p>\n\n</blockquote>\n<ol start=\"2\">\n<li>\n<p translation-result=\"on\">在文本节点中复制 <code>&#x3C;source>...&#x3C;/source></code> 元素，把它重命名为 <code>target</code> 元素，然后用法语文本替换它的内容：</p><p translation-origin=\"off\">Duplicate the <code>&#x3C;source>...&#x3C;/source></code> element in the text node, rename it <code>target</code>, and then replace its content with the French text:</p>\n\n</li>\n</ol>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-hello\" header=\"src/locale/messages.fr.xlf (trans-unit, after translation)\">\n&#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n  &#x3C;source>Hello i18n!&#x3C;/source>\n  &#x3C;target>Bonjour i18n !&#x3C;/target>\n  &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n  &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\">在更复杂的翻译中，以前讲过的<a href=\"guide/i18n#help-translator\" title=\"添加有用的描述和含义\">描述(description)和含义(meaning)</a>中提供的信息和上下文可以帮助你选择合适的单词进行翻译。</p><p translation-origin=\"off\">In a more complex translation, the information and context in the <a href=\"guide/i18n#help-translator\" title=\"Add helpful descriptions and meanings\">description and meaning elements</a> described previously would help you choose the right words for translation.</p>\n\n</blockquote>\n<ol start=\"3\">\n<li>\n<p translation-result=\"on\">翻译其他文本节点的方式与下例所示相同：</p><p translation-origin=\"off\">Translate the other text nodes the same way as shown in the following example:</p>\n\n</li>\n</ol>\n<blockquote>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-other-nodes\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3\" datatype=\"html\">\n  &#x3C;source>I don&#x26;apos;t output any element&#x3C;/source>\n  &#x3C;target>Je n'affiche aucun élément&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"701174153757adf13e7c24a248c8a873ac9f5193\" datatype=\"html\">\n  &#x3C;source>Angular logo&#x3C;/source>\n  &#x3C;target>Logo d'Angular&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n</blockquote>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">  不要更改翻译单元的 ID。每个 <code>id</code> 都是由 Angular 生成的，取决于模板文本的内容及其指定的含义。如果你改变了文本或含义，那么 <code>id</code> 就会改变。有关管理文本更新和 ID 的更多信息，请参阅上一节的<a href=\"guide/i18n#custom-id\" title=\"用自定义 ID 管理带标记的文本\">自定义 ID</a> 。</p><p translation-origin=\"off\">  Don't change the IDs for translation units.\nEach <code>id</code> is generated by Angular and depends on the content of the template text and its assigned meaning.\nIf you change either the text or the meaning, then the <code>id</code> changes.\nFor more about managing text updates and IDs, see the previous section on <a href=\"guide/i18n#custom-id\" title=\"Manage marked text with custom IDs\">custom IDs</a>.</p>\n\n</div>\n<a id=\"translate-plural-select\"></a>\n<h3 id=\"translate-plurals-and-alternate-expressions\" translation-result=\"on\">翻译复数和替代表达式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-plurals-and-alternate-expressions\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"translate-plurals-and-alternate-expressions\">Translate plurals and alternate expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-plurals-and-alternate-expressions\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\"><a href=\"guide/i18n#plurals-alternates\" title=\"标记复数形式和替换形式以进行翻译\"><code>plural</code> 和 <code>select</code></a>的<a href=\"guide/i18n#plurals-alternates\" title=\"标记复数形式和替换形式以进行翻译\"><code>plural</code> ICU 表达式</a>作为附加信息被提取出来，因此你必须单独翻译它们。</p><p translation-origin=\"off\">The <a href=\"guide/i18n#plurals-alternates\" title=\"Mark plurals and alternates for translation\"><code>plural</code> and <code>select</code> ICU expressions</a> are extracted as additional messages, so you must translate them separately.</p>\n\n<a id=\"translate-plural\"></a>\n<a id=\"translate-plural\"></a>\n<h4 id=\"translate-plurals\" translation-result=\"on\">翻译复数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-plurals\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"translate-plurals\">Translate plurals<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-plurals\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">要翻译 <code>plural</code> ，请把它的 ICU 格式匹配值翻译成下面的例子：</p><p translation-origin=\"off\">To translate a <code>plural</code>, translate its ICU format match values as shown in the following example:</p>\n\n<ul>\n<li>\n<p><code>just now</code></p>\n<p><code>just now</code></p>\n</li>\n<li>\n<p><code>one minute ago</code></p>\n<p><code>one minute ago</code></p>\n</li>\n<li>\n<p><code>&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago</code></p>\n<p><code>&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago</code></p>\n</li>\n</ul>\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-plural\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"5a134dee893586d02bffc9611056b9cadf9abfad\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\">你可以根据需要为每种语言添加或移除多个 case。</p><p translation-origin=\"off\">You can add or remove plural cases as needed for each language.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">对于语言复数规则，参见<a href=\"http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html\" title=\"CLDR 图表用于查看 Common Locale Data Repository 数据\">CLDR 复数规则</a> 。</p><p translation-origin=\"off\">For language plural rules, see\n<a href=\"http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html\" title=\"CLDR Charts to view the Common Locale Data Repository data\">CLDR plural rules</a>.</p>\n\n</div>\n<a id=\"translate-select\"></a>\n<a id=\"translate-select\"></a>\n<h4 id=\"translate-alternate-expressions\" translation-result=\"on\">翻译替代表达式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-alternate-expressions\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"translate-alternate-expressions\">Translate alternate expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-alternate-expressions\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">Angular 还提供了另一种 <code>select</code> ICU（Unicode 国际化组件）表达式作为单独的翻译单元。下图显示了组件模板中的一个 <code>select</code> ICU 表达式：</p><p translation-origin=\"off\">Angular also extracts alternate <code>select</code> ICU expressions as separate translation units.\nThe following shows a <code>select</code> ICU expression in the component template:</p>\n\n<code-example path=\"i18n/src/app/app.component.html\" region=\"i18n-select\" header=\"src/app/app.component.html\">\n&#x3C;span i18n>The author is {gender, select, male {male} female {female} other {other}}&#x3C;/span>\n\n</code-example>\n<p translation-result=\"on\">在这个例子中，Angular 把此表达式提取成了两个翻译单元。第一个单元包含 <code>select</code> 子句外的文本，并使用了一个 <code>select</code> 占位符（ <code>&#x3C;x id=\"ICU\"></code> ）：</p><p translation-origin=\"off\">In this example, Angular extracts the expression into two translation units. The first contains the text outside of the <code>select</code> clause, and uses a placeholder for <code>select</code> (<code>&#x3C;x id=\"ICU\"></code>):</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-select-1\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"f99f34ac9bd4606345071bd813858dec29f3b7d1\" datatype=\"html\">\n  &#x3C;source>The author is &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>L'auteur est &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">在翻译文本时，你可以根据需要移动这个占位符，但不能删除它。如果你删除了占位符，这个 ICU 表达式就不会出现在翻译后的应用中。</p><p translation-origin=\"off\">When translating the text, you can move the placeholder if necessary, but don't remove it.\nIf you remove the placeholder, the ICU expression will not appear in your translated app.</p>\n\n</div>\n<p translation-result=\"on\">第二个翻译单元包含 <code>select</code> 子句：</p><p translation-origin=\"off\">The second translation unit contains the <code>select</code> clause:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-select-2\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"eff74b75ab7364b6fa888f1cbfae901aaaf02295\" datatype=\"html\">\n  &#x3C;source>{VAR_SELECT, select, male {male} female {female} other {other} }&#x3C;/source>\n  &#x3C;target>{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\">下面的例子展示了翻译过的翻译单元：</p><p translation-origin=\"off\">The following example shows both translation units after translating:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translated-select\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"f99f34ac9bd4606345071bd813858dec29f3b7d1\" datatype=\"html\">\n  &#x3C;source>The author is &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>L'auteur est &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"eff74b75ab7364b6fa888f1cbfae901aaaf02295\" datatype=\"html\">\n  &#x3C;source>{VAR_SELECT, select, male {male} female {female} other {other} }&#x3C;/source>\n  &#x3C;target>{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<a id=\"translate-nested\"></a>\n<h4 id=\"translate-nested-expressions\" translation-result=\"on\">翻译嵌套表达式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-nested-expressions\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"translate-nested-expressions\">Translate nested expressions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#translate-nested-expressions\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">Angular 对嵌套表达式的处理方式和替代表达式一样，会把它提取成两个翻译单元。第一个包含嵌套表达式外部的文本：</p><p translation-origin=\"off\">Angular treats a nested expression in the same manner as an alternate expression, extracting it into two translation units. The first contains the text outside of the nested expression:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested-1\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c\" datatype=\"html\">\n  &#x3C;source>Updated: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>Mis à jour: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\">第二个翻译单元包含完整的嵌套表达式：</p><p translation-origin=\"off\">The second translation unit contains the complete nested expression:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested-2\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"7151c2e67748b726f0864fc443861d45df21d706\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<p translation-result=\"on\">下面的例子展示了翻译后的翻译单元：</p><p translation-origin=\"off\">The following example shows both translation units after translating:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" region=\"translate-nested\" header=\"src/locale/messages.fr.xlf (trans-unit)\">\n&#x3C;trans-unit id=\"972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c\" datatype=\"html\">\n  &#x3C;source>Updated: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/source>\n  &#x3C;target>Mis à jour: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/target>\n&#x3C;/trans-unit>\n&#x3C;trans-unit id=\"7151c2e67748b726f0864fc443861d45df21d706\" datatype=\"html\">\n  &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&#x3C;/source>\n  &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&#x3C;/target>\n&#x3C;/trans-unit>\n\n</code-example>\n<a id=\"merge\"></a>\n<a id=\"merge-aot\"></a>\n<h2 id=\"merge-translations-into-the-app\" translation-result=\"on\">把翻译合并到应用中<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#merge-translations-into-the-app\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"merge-translations-into-the-app\">Merge translations into the app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#merge-translations-into-the-app\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要把已完成的译文合并到应用中，请使用 <a href=\"guide/glossary#command-line-interface-cli\" title=\"CLI 的定义\">Angular CLI</a> 为每个本地环境构建应用的可分发副本。构建过程中会用翻译文本替换原始文本，并为应用的每个可分发副本设置 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 令牌。它还会加载并注册本地化数据。</p><p translation-origin=\"off\">To merge the completed translations into the app, use the <a href=\"guide/glossary#command-line-interface-cli\" title=\"Definition of CLI\">Angular CLI</a> to build a copy of the app's distributable files for each locale.\nThe build process replaces the original text with translated text, and sets the <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> token for each distributable copy of the app.\nIt also loads and registers the locale data.</p>\n\n<p translation-result=\"on\">合并之后，你可以使用服务器端的语言检测功能或使用不同的子目录来为应用的每个可分发副本架设服务，就像下一章中<a href=\"guide/i18n#deploy-locales\">部署多个本地环境</a>部分描述的那样。</p><p translation-origin=\"off\">After merging, you can serve each distributable copy of the app using server-side language detection or different subdirectories, as described in the next section about <a href=\"guide/i18n#deploy-locales\">deploying multiple locales</a>.</p>\n\n<p translation-result=\"on\">此构建过程会用<a href=\"guide/glossary#ahead-of-time-aot-compilation\">预先（AOT）编译</a>来生成一个小巧、快速、可立即运行的应用。在 Angular 9 的 Ivy 中，AOT 默认用于开发版本和生产版本，并且需要 AOT 来对组件模板进行本地化。</p><p translation-origin=\"off\">The build process uses <a href=\"guide/glossary#ahead-of-time-aot-compilation\">ahead-of-time (AOT) compilation</a> to produce a small, fast,\nready-to-run app. With Ivy in Angular version 9, AOT is used by default for both\ndevelopment and production builds, and AOT is required to localize component templates.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">有关构建过程的详细解说，请参阅<a href=\"guide/build\" title=\"构建和提供 Angular 应用\">构建和提供 Angular 应用</a>。这个构建过程可用于 <code>.xlf</code> 格式的翻译文件或 Angular 能理解的其它格式，比如 <code>.xtb</code> 。</p><p translation-origin=\"off\">For a detailed explanation the build process, see <a href=\"guide/build\" title=\"Building and serving Angular apps\">Building and serving Angular apps</a>.\nThis build process works for translation files in the <code>.xlf</code> format or in another format that Angular understands, such as <code>.xtb</code>.</p>\n\n</div>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">在使用 JIT 模式时，Ivy 不支持合并 i18n 的翻译。如果你<a href=\"guide/ivy#opting-out-of-ivy-in-version-9\">禁用了 Ivy</a> 并正在使用 JIT 模式，请参阅<a href=\"https://v8.angular.io/guide/i18n#merge-with-the-jit-compiler\" title=\"与 JIT 编译器合并\">合并 JIT 编译器</a> 。</p><p translation-origin=\"off\">Ivy does not support merging i18n translations when using JIT mode.\nIf you <a href=\"guide/ivy#opting-out-of-ivy-in-version-9\">disable Ivy</a> and are using JIT mode, see <a href=\"https://v8.angular.io/guide/i18n#merge-with-the-jit-compiler\" title=\"Merge with the JIT compiler\">merging with the JIT compiler</a>.</p>\n\n</div>\n<p translation-result=\"on\">要为每个本地环境构建应用的一个可分发副本，请在项目工作空间配置文件 <a href=\"guide/workspace-config\" title=\"Angular 工作空间配置\"><code>angular.json</code></a> 中的<a href=\"guide/i18n#localize-config\">构建配置</a>中<a href=\"guide/i18n#localize-config\">定义本地环境</a>。这个方法通过放弃为每个本地环境执行完整构建的需求，缩短了构建过程。</p><p translation-origin=\"off\">To build a separate distributable copy of the app for each locale, <a href=\"guide/i18n#localize-config\">define the locales in the build configuration</a> in your project's workspace configuration file <a href=\"guide/workspace-config\" title=\"Angular workspace configuration\"><code>angular.json</code></a>.\nThis method shortens the build process by removing the requirement to perform a full app build for each locale.</p>\n\n<p translation-result=\"on\">然后，你可以使用 <code>angular.json</code> 中的 <code>\"localize\"</code> 选项<a href=\"guide/i18n#localize-generate\">为每个本地环境生成一个应用版本</a> 。您也可以使用 Angular CLI <a href=\"/cli/build\" title=\"ng build 的 CLI 引用\"><code>build</code></a>命令及其 <code>--localize</code> 选项来<a href=\"guide/i18n#localize-build-command\">进行命令行构建</a>。</p><p translation-origin=\"off\">You can then <a href=\"guide/i18n#localize-generate\">generate app versions for each locale</a> using the <code>\"localize\"</code> option in <code>angular.json</code>. You can also <a href=\"guide/i18n#localize-build-command\">build from the command line</a> using the Angular CLI <a href=\"/cli/build\" title=\"CLI reference for ng build\"><code>build</code></a> command with the <code>--localize</code> option.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">你也可以选择<a href=\"guide/i18n#localize-build-one-locale\">只针对一种本地环境来应用的特定构建选项</a>配置自定义本地环境。</p><p translation-origin=\"off\">You can optionally <a href=\"guide/i18n#localize-build-one-locale\">apply specific build options for just one locale</a> for a custom locale configuration.</p>\n\n</div>\n<a id=\"localize-config\"></a>\n<h3 id=\"define-locales-in-the-build-configuration\" translation-result=\"on\">在构建配置中定义本地环境<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#define-locales-in-the-build-configuration\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"define-locales-in-the-build-configuration\">Define locales in the build configuration<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#define-locales-in-the-build-configuration\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">在应用的构建配置（ <a href=\"guide/workspace-config\" title=\"Angular 工作空间配置\"><code>angular.json</code></a> ）中使用 <code>i18n</code> 项目选项来定义项目的本地环境。它下面的子选项用于标识源语言，并告诉编译器要在哪里找到该项目支持的各种翻译：</p><p translation-origin=\"off\">Use the <code>i18n</code> project option in your app's build configuration file (<a href=\"guide/workspace-config\" title=\"Angular workspace configuration\"><code>angular.json</code></a>) to define locales for a project.\nThe following sub-options identify the source language and tell the compiler where to find supported translations for the project:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>sourceLocale</code>：你在应用源代码中使用的本地环境（默认为 <code>en-US</code> ）</p><p translation-origin=\"off\"><code>sourceLocale</code>: The locale you use within the app source code (<code>en-US</code> by default)</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>locales</code>：本地环境标识符到翻译文件的映射表</p><p translation-origin=\"off\"><code>locales</code>: A map of locale identifiers to translation files</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">例如，下面的 <code>angular.json</code> 文件片段把源本地环境设置为 <code>en-US</code> 并提供了到 <code>fr</code>（法语）本地环境翻译文件的路径：</p><p translation-origin=\"off\">For example, the following excerpt of an <code>angular.json</code> file sets the source locale to <code>en-US</code> and provides the path to the <code>fr</code> (French) locale translation file:</p>\n\n<code-example language=\"json\" header=\"angular.json\">\n...\n\"projects\": {\n  \"angular.io-example\": {\n    ...\n    \"i18n\": {\n      \"sourceLocale\": \"en-US\",\n      \"locales\": {\n        \"fr\": \"src/locale/messages.fr.xlf\"\n      }\n    },\n    \"architect\": {\n    ...\n    }\n}\n</code-example>\n<a id=\"localize-generate\"></a>\n<h3 id=\"generate-app-versions-for-each-locale\" translation-result=\"on\">为每种本地环境生成一个应用版本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#generate-app-versions-for-each-locale\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"generate-app-versions-for-each-locale\">Generate app versions for each locale<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#generate-app-versions-for-each-locale\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要在构建配置中使用你的本地环境定义，请使用 <code>angular.json</code> 的 <code>\"localize\"</code> 选项告诉 CLI 要为此构建配置生成哪些本地环境：</p><p translation-origin=\"off\">To use your locale definition in the build configuration, use the <code>\"localize\"</code> option in <code>angular.json</code> to tell the CLI which locales to generate for the build configuration:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">对于以前在构建配置中定义的<em>所有</em>本地环境，<em>都要</em>把 <code>\"localize\"</code> 设置为 <code>true</code>。</p><p translation-origin=\"off\">Set <code>\"localize\"</code> to <code>true</code> for <em>all</em> the locales previously defined in the build configuration.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">将 <code>\"localize\"</code> 设置为预定义的本地环境标识符子集的数组，来要求只构建那些本地环境版本。</p><p translation-origin=\"off\">Set <code>\"localize\"</code> to an array of a subset of the previously-defined locale identifiers to build only those locale versions.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">将 <code>\"localize\"</code> 设置为 <code>false</code> 表示禁用本地化，不生成任何特定于本地环境的版本。</p><p translation-origin=\"off\">Set <code>\"localize\"</code> to <code>false</code> to disable localization and not generate any locale-specific versions.</p>\n\n</li>\n</ul>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">注意：本地化组件模板需要进行<a href=\"guide/glossary#ahead-of-time-aot-compilation\">预先（AOT）编译</a>。如果更改了此设置，请将 <code>\"aot\"</code> 设置为 <code>true</code>，以便使用 AOT。</p><p translation-origin=\"off\">Note: <a href=\"guide/glossary#ahead-of-time-aot-compilation\">Ahead-of-time (AOT) compilation</a> is required to localize component templates.\nIf you changed this setting, set <code>\"aot\"</code> to <code>true</code> in order to use AOT.</p>\n\n</div>\n<p translation-result=\"on\">下面的例子展示了在 <code>angular.json</code> 中把 <code>\"localize\"</code> 选项设为 <code>true</code>，以便在构建配置中定义所有的本地环境：</p><p translation-origin=\"off\">The following example shows the <code>\"localize\"</code> option set to <code>true</code> in <code>angular.json</code> so that all locales defined in the build configuration are built:</p>\n\n<code-example language=\"json\" header=\"angular.json\">\n\"build\": {\n  \"builder\": \"@angular-devkit/build-angular:browser\",\n  \"options\": {\n    \"localize\": true,\n    \"aot\": true,\n    ...\n</code-example>\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\">由于 i18n 的部署复杂性以及最小化重建时间的需要，开发服务器一次只支持一个本地环境的本地化。如果定义了多个本地环境，那么当使用 <code>ng serve</code> 时，把 <code>\"localize\"</code> 选项设置为 <code>true</code> 就会导致错误。如果你想针对特定的本地环境（比如 <code>fr</code> ）进行开发，只要把这个选项设置为特定的本地环境（比如 <code>\"localize\": [\"fr\"]</code>）就可以了。</p><p translation-origin=\"off\">Due to the deployment complexities of i18n and the need to minimize rebuild time, the development server only supports localizing a single locale at a time.\nSetting the <code>\"localize\"</code> option to <code>true</code> will cause an error when using <code>ng serve</code> if more than one locale is defined.\nSetting the option to a specific locale, such as <code>\"localize\": [\"fr\"]</code>, can work if you want to develop against a specific locale (such as <code>fr</code>).</p>\n\n</div>\n<p translation-result=\"on\">CLI 会加载并注册本地化数据，把生成的每个版本都放在一个特定本地环境的目录下，以保证它与其它本地版本分开，并把这些目录放在所配置的 <code>outputPath</code> 中。对于应用的每个变体， <code>html</code> 元素的 <code>lang</code> 属性都会设置为这个本地环境。 CLI 还会通过在所配置的 <code>baseHref</code> 上添加本地环境，来为每个版本的应用调整 HTML 的 base HREF。</p><p translation-origin=\"off\">The CLI loads and registers the locale data, places each generated version in a locale-specific directory to keep it separate from other locale versions, and puts the directories within the configured <code>outputPath</code> for the project.\nFor each application variant the <code>lang</code> attribute of the <code>html</code> element is set to the locale.\nThe CLI also adjusts the HTML base HREF for each version of the app by adding the locale to the configured <code>baseHref</code>.</p>\n\n<p translation-result=\"on\">你可以把 <code>\"localize\"</code> 属性设置为所有配置都能有效继承（或可覆盖）的共享配置。</p><p translation-origin=\"off\">You can set the <code>\"localize\"</code> property as a shared configuration that all the configurations effectively inherit (or can override).</p>\n\n<a id=\"localize-build-command\"></a>\n<h3 id=\"build-from-the-command-line\" translation-result=\"on\">从命令行构建<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#build-from-the-command-line\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"build-from-the-command-line\">Build from the command line<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#build-from-the-command-line\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">你还可以将 <code>--localize</code> 选项与 <a href=\"/cli/build\" title=\"ng build 的 CLI 参考手册\"><code>ng build</code></a> 命令和现有的 <code>production</code> 配置一起使用。 CLI 会构建在构建配置中定义的所有本地环境，类似于把 <code>\"localize\"</code> 选项设置为 <code>true</code> ，如上一节所述。</p><p translation-origin=\"off\">You can also use the <code>--localize</code> option with the <a href=\"/cli/build\" title=\"CLI reference for ng build\"><code>ng build</code></a> command and your existing <code>production</code> configuration.\nThe CLI builds all locales defined in the build configuration, which is similar to setting the <code>\"localize\"</code> option to <code>true</code> as described in the previous section.</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng build --prod --localize\n</code-example>\n<a id=\"localize-build-one-locale\"></a>\n<h3 id=\"apply-specific-build-options-for-just-one-locale\" translation-result=\"on\">只针对一种本地环境应用特定的构建选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#apply-specific-build-options-for-just-one-locale\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"apply-specific-build-options-for-just-one-locale\">Apply specific build options for just one locale<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#apply-specific-build-options-for-just-one-locale\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">要想只为一个本地环境应用特定的构建选项，你可以通过指定一个本地环境来创建一个特定于本地环境的自定义配置，如下例所示：</p><p translation-origin=\"off\">To apply specific build options to only one locale, you can create a custom locale-specific configuration by specifying a single locale as shown in the following example:</p>\n\n<code-example language=\"json\" header=\"angular.json\">\n\"build\": {\n  ...\n  \"configurations\": {\n    ...\n    \"fr\": {\n      \"localize\": [\"fr\"],\n      \"main\": \"src/main.fr.ts\",\n      ...\n    }\n  }\n},\n\"serve\": {\n  ...\n  \"configurations\": {\n    ...\n    \"fr\": {\n      \"browserTarget\": \"*project-name*:build:fr\"\n    }\n  }\n}\n</code-example>\n<p translation-result=\"on\">然后，你可以将此配置文件传给 <code>ng serve</code> 或 <code>ng build</code> 命令。下面展示了如何在本指南的例子中使用该语言文件启动开发服务器：</p><p translation-origin=\"off\">You can then pass this configuration to the <code>ng serve</code> or <code>ng build</code> commands.\nThe following shows how to serve the French language file created in the example for this guide:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng serve --configuration=fr\n</code-example>\n<div class=\"alert is-important\">\n<p translation-result=\"on\">你可以使用 CLI 开发服务器（ <code>ng serve</code> ），但只能使用一个本地环境。</p><p translation-origin=\"off\">You can use the CLI development server (<code>ng serve</code>), but only with a single locale.</p>\n\n</div>\n<p translation-result=\"on\">对于生产环境构建，你可以通过配置组合来执行这两种配置：</p><p translation-origin=\"off\">For production builds, you can use configuration composition to execute both configurations:</p>\n\n<code-example language=\"sh\" class=\"code-shell\">\n  ng build --configuration=production,fr\n</code-example>\n<code-example language=\"json\" header=\"angular.json\">\n...\n\"architect\": {\n  \"build\": {\n    \"builder\": \"@angular-devkit/build-angular:browser\",\n    \"options\": { ... },\n    \"configurations\": {\n      \"fr\": {\n        \"localize\": [\"fr\"],\n      }\n    }\n  },\n  ...\n  \"serve\": {\n    \"builder\": \"@angular-devkit/build-angular:dev-server\",\n    \"options\": {\n      \"browserTarget\": \"my-project:build\"\n    },\n    \"configurations\": {\n      \"production\": {\n        \"browserTarget\": \"my-project:build:production\"\n      },\n      \"fr\": {\n        \"browserTarget\": \"my-project:build:fr\"\n      }\n    }\n  }\n}\n</code-example>\n<a id=\"missing-translation\"></a>\n<h3 id=\"report-missing-translations\" translation-result=\"on\">报告遗漏的翻译<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#report-missing-translations\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"report-missing-translations\">Report missing translations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#report-missing-translations\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">如果缺少某个翻译，那么编译就会成功，但会生成一条警告，比如 <code>Missing translation for message \"foo\"</code>。你可以配置 Angular 编译器所生成的警告级别：</p><p translation-origin=\"off\">When a translation is missing, the build succeeds but generates a warning such as\n<code>Missing translation for message \"foo\"</code>. You can configure the level of warning that is generated by the Angular compiler:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>error</code>：抛出一个错误。如果你正在使用 AOT 编译，那么构建就会失败。如果你正在使用 JIT 编译，该应用将无法加载。</p><p translation-origin=\"off\"><code>error</code>: Throw an error. If you are using AOT compilation, the build will fail.\nIf you are using JIT compilation, the app will fail to load.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>warning</code>（默认值）：在控制台或 shell 中显示 <code>Missing translation</code> 警告。</p><p translation-origin=\"off\"><code>warning</code> (default): Show a <code>Missing translation</code> warning in the console or shell.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>ignore</code>：什么都不做</p><p translation-origin=\"off\"><code>ignore</code>: Do nothing.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">在 Angular CLI 配置文件（ <code>angular.json</code> ）中 <code>build</code> 下的 <code>options</code> 部分指定警告级别。下面的代码展示了如何把警告级别设置为 <code>error</code> ：</p><p translation-origin=\"off\">Specify the warning level in the <code>options</code> section for the <code>build</code> target of your Angular CLI configuration file (<code>angular.json</code>). The following example shows how to set the warning level to <code>error</code>:</p>\n\n<code-example language=\"json\" header=\"angular.json\">\n\"options\": {\n  ...\n  \"i18nMissingTranslation\": \"error\"\n}\n</code-example>\n<a id=\"deploy-locales\"></a>\n<h2 id=\"deploy-multiple-locales\" translation-result=\"on\">部署多个本地环境<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#deploy-multiple-locales\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"deploy-multiple-locales\">Deploy multiple locales<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#deploy-multiple-locales\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">如果 <code>myapp</code> 是那个包含应用分发文件的目录，那么你通常可以在每个本地化目录中为不同的本地环境提供不同的版本，比如 <code>myapp/fr</code>（法语版）和 <code>myapp.com/es</code>（西班牙语版）。</p><p translation-origin=\"off\">If <code>myapp</code> is the directory containing your app's distributable files, you would typically make available different versions for different locales in locale directories such as <code>myapp/fr</code> for the French version and <code>myapp.com/es</code> for the Spanish version.</p>\n\n<p translation-result=\"on\">带有 <code>href</code> 属性的 HTML <code>base</code> 标签为相对链接指定了基址 URI 或 URL。如果你把 <code>angular.json</code> 中的 <code>\"localize\"</code> 选项设置为 <code>true</code> 或者设置了一个本地环境 ID 的数组，那么 CLI 就会通过把该本地环境 ID 添加到已配置的 <code>\"baseHref\"</code> 中来为每个应用版本修正 <code>base href</code>。你可以在工作区的配置文件（<code>angular.json</code> ）中为每个本地环境指定 <code>\"baseHref\"</code>，比如下面的例子中，这个 <code>\"baseHref\"</code> 被设置为空字符串：</p><p translation-origin=\"off\">The HTML <code>base</code> tag with the <code>href</code> attribute specifies the base URI, or URL, for relative links. If you set the <code>\"localize\"</code> option in <code>angular.json</code> to <code>true</code> or to an array of locale IDs, the CLI adjusts the base <code>href</code> for each version of the app by adding the locale to the configured <code>\"baseHref\"</code>. You can specify the <code>\"baseHref\"</code> for each locale in your workspace configuration file (<code>angular.json</code>), as shown in the following example, which sets <code>\"baseHref\"</code> to an empty string:</p>\n\n<code-example language=\"json\" header=\"angular.json\">\n...\n\"projects\": {\n  \"angular.io-example\": {\n    ...\n    \"i18n\": {\n      \"sourceLocale\": \"en-US\",\n      \"locales\": {\n        \"fr\": \"src/locale/messages.fr.xlf\"\n        \"baseHref\": \"\"\n      }\n    },\n    \"architect\": {\n    ...\n    }\n}\n</code-example>\n<p translation-result=\"on\">您也可以在编译时使用 CLI 的 <code>--baseHref</code> 选项与 <a href=\"cli/build\" title=\"ng build 的 CLI 引用\"><code>ng build</code></a> 声明 <code>base href</code>。</p><p translation-origin=\"off\">You can also use the CLI <code>--baseHref</code> option with <a href=\"cli/build\" title=\"CLI reference for ng build\"><code>ng build</code></a> to declare the base <code>href</code> at compile time.</p>\n\n<p translation-result=\"on\">如何配置托管多种本地环境的服务器超出了本指南的范围。关于如何将应用部署到远程服务器的详细信息，请参见<a href=\"guide/deployment\" title=\"部署指南\">部署</a>指南。</p><p translation-origin=\"off\">Configuring servers for hosting multiple locales is outside the scope of this guide.\nFor details on how to deploy apps to a remote server, see <a href=\"guide/deployment\" title=\"Deployment guide\">Deployment</a>.</p>\n\n<a id=\"app-pre-translation\"></a>\n<h2 id=\"explore-the-translated-example-app\" translation-result=\"on\">浏览已翻译的范例应用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#explore-the-translated-example-app\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"explore-the-translated-example-app\">Explore the translated example app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#explore-the-translated-example-app\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">下面显示了该应用及其翻译文件的示例：</p><p translation-origin=\"off\">The following tabs show the example app and its translation files:</p>\n\n<code-tabs>\n  <code-pane header=\"src/app/app.component.html\" path=\"i18n/src/app/app.component.html\">\n&#x3C;h1 i18n=\"User welcome|An introduction header for this sample@@introductionHeader\">\n  Hello i18n!\n&#x3C;/h1>\n\n&#x3C;ng-container i18n>I don't output any element&#x3C;/ng-container>\n\n&#x3C;br />\n\n&#x3C;img [src]=\"logo\" i18n-title title=\"Angular logo\" />\n&#x3C;br>\n&#x3C;button (click)=\"inc(1)\">+&#x3C;/button> &#x3C;button (click)=\"inc(-1)\">-&#x3C;/button>\n&#x3C;span i18n>Updated {minutes, plural, =0 {just now} =1 {one minute ago} other {{{minutes}} minutes ago}}&#x3C;/span>\n({{minutes}})\n&#x3C;br>&#x3C;br>\n&#x3C;button (click)=\"male()\">&#x26;#9794;&#x3C;/button> &#x3C;button (click)=\"female()\">&#x26;#9792;&#x3C;/button> &#x3C;button (click)=\"other()\">&#x26;#9895;&#x3C;/button>\n&#x3C;span i18n>The author is {gender, select, male {male} female {female} other {other}}&#x3C;/span>\n&#x3C;br>&#x3C;br>\n&#x3C;span i18n>Updated: {minutes, plural,\n  =0 {just now}\n  =1 {one minute ago}\n  other {{{minutes}} minutes ago by {gender, select, male {male} female {female} other {other}}}}\n&#x3C;/span>\n\n\n</code-pane>\n  <code-pane header=\"src/app/app.component.ts\" path=\"i18n/src/app/app.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  minutes = 0;\n  gender = 'female';\n  fly = true;\n  logo = 'https://angular.io/assets/images/logos/angular/angular.png';\n  inc(i: number) {\n    this.minutes = Math.min(5, Math.max(0, this.minutes + i));\n  }\n  male() { this.gender = 'male'; }\n  female() { this.gender = 'female'; }\n  other() { this.gender = 'other'; }\n}\n\n\n\n</code-pane>\n  <code-pane header=\"src/app/app.module.ts\" path=\"i18n/src/app/app.module.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [ <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n</code-pane>\n  <code-pane header=\"src/main.ts\" path=\"i18n/doc-files/main.1.ts\">\nimport { <a href=\"api/core/enableProdMode\" class=\"code-anchor\">enableProdMode</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser-dynamic/platformBrowserDynamic\" class=\"code-anchor\">platformBrowserDynamic</a> } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  <a href=\"api/core/enableProdMode\" class=\"code-anchor\">enableProdMode</a>();\n}\n\n<a href=\"api/platform-browser-dynamic/platformBrowserDynamic\" class=\"code-anchor\">platformBrowserDynamic</a>().bootstrapModule(AppModule);\n\n\n</code-pane>\n  <code-pane header=\"src/locale/messages.fr.xlf\" path=\"i18n/doc-files/messages.fr.xlf.html\">\n&#x3C;?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n&#x3C;xliff version=\"1.2\" xmlns=\"urn:oasis:names:tc:xliff:document:1.2\">\n  &#x3C;file source-language=\"en\" datatype=\"plaintext\" original=\"ng2.template\">\n    &#x3C;body>\n      &#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n        &#x3C;source>Hello i18n!&#x3C;/source>\n        &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n        &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n        &#x3C;source>Hello i18n!&#x3C;/source>\n        &#x3C;target>Bonjour i18n !&#x3C;/target>\n        &#x3C;note priority=\"1\" from=\"description\">An introduction header for this sample&#x3C;/note>\n        &#x3C;note priority=\"1\" from=\"meaning\">User welcome&#x3C;/note>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3\" datatype=\"html\">\n        &#x3C;source>I don&#x26;apos;t output any element&#x3C;/source>\n        &#x3C;target>Je n'affiche aucun élément&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"701174153757adf13e7c24a248c8a873ac9f5193\" datatype=\"html\">\n        &#x3C;source>Angular logo&#x3C;/source>\n        &#x3C;target>Logo d'Angular&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"5a134dee893586d02bffc9611056b9cadf9abfad\" datatype=\"html\">\n        &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago} }&#x3C;/source>\n        &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes} }&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"f99f34ac9bd4606345071bd813858dec29f3b7d1\" datatype=\"html\">\n        &#x3C;source>The author is &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/source>\n        &#x3C;target>L'auteur est &#x3C;x id=\"ICU\" equiv-text=\"{gender, select, male {...} female {...} other {...}}\"/>&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"eff74b75ab7364b6fa888f1cbfae901aaaf02295\" datatype=\"html\">\n        &#x3C;source>{VAR_SELECT, select, male {male} female {female} other {other} }&#x3C;/source>\n        &#x3C;target>{VAR_SELECT, select, male {un homme} female {une femme} other {autre} }&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"972cb0cf3e442f7b1c00d7dab168ac08d6bdf20c\" datatype=\"html\">\n        &#x3C;source>Updated: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/source>\n        &#x3C;target>Mis à jour: &#x3C;x id=\"ICU\" equiv-text=\"{minutes, plural, =0 {...} =1 {...} other {...}}\"/>&#x3C;/target>\n      &#x3C;/trans-unit>\n      &#x3C;trans-unit id=\"7151c2e67748b726f0864fc443861d45df21d706\" datatype=\"html\">\n        &#x3C;source>{VAR_PLURAL, plural, =0 {just now} =1 {one minute ago} other {&#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes ago by {VAR_SELECT, select, male {male} female {female} other {other} }} }&#x3C;/source>\n        &#x3C;target>{VAR_PLURAL, plural, =0 {à l'instant} =1 {il y a une minute} other {il y a &#x3C;x id=\"INTERPOLATION\" equiv-text=\"{{minutes}}\"/> minutes par {VAR_SELECT, select, male {un homme} female {une femme} other {autre} }} }&#x3C;/target>\n      &#x3C;/trans-unit>\n    &#x3C;/body>\n  &#x3C;/file>\n&#x3C;/xliff>\n\n\n\n</code-pane>\n</code-tabs>\n<h2 id=\"optional-practices\" translation-result=\"on\">可选实践<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#optional-practices\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"optional-practices\">Optional practices<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#optional-practices\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">以下是特殊情况下可能会用到的一些可选实践：</p><p translation-origin=\"off\">The following are optional practices that may be required in special cases:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">通过设置 <a href=\"https://angular.io/api/core/LOCALE_ID\" title=\"LOCALE_ID 的 API 参考\">LOCALE_ID</a> 令牌来<a href=\"guide/i18n#set-source-manually\">手动设置源本地环境</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#set-source-manually\">Set the source locale manually</a> by setting the <a href=\"https://angular.io/api/core/LOCALE_ID\" title=\"API reference for LOCALE_ID\">LOCALE_ID</a> token.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">为其他本地化数据<a href=\"guide/i18n#import-locale\">导入本地化数据的全局变种</a> 。</p><p translation-origin=\"off\"><a href=\"guide/i18n#import-locale\">Import global variants of the locale data</a> for extra locale data.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">如果你想翻译内容的匹配工作有更多的控制权，可以<a href=\"guide/i18n#custom-id\">使用自定义 ID 来管理</a>。</p><p translation-origin=\"off\"><a href=\"guide/i18n#custom-id\">Manage marked text with custom IDs</a> if you require more control over matching translations.</p>\n\n</li>\n</ul>\n<a id=\"set-source-manually\"></a>\n<h3 id=\"set-the-source-locale-manually\" translation-result=\"on\">手动设置源本地环境<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#set-the-source-locale-manually\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"set-the-source-locale-manually\">Set the source locale manually<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#set-the-source-locale-manually\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">Angular 已经包含了 <code>en-US</code> 本地化数据。在使用 <a href=\"cli/build\" title=\"ng build description\"><code>ng build</code></a> 的 <code>--localize</code> 选项时，Angular CLI 会自动包含本地化数据并设置 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 的值。</p><p translation-origin=\"off\">Angular already contains locale data for <code>en-US</code>.\nThe Angular CLI automatically includes the locale data and sets the <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> value when you use the <code>--localize</code> option with <a href=\"cli/build\" title=\"ng build description\"><code>ng build</code></a>.</p>\n\n<p translation-result=\"on\">若要手动将应用的源本地环境设置为自动包含的值以外的本地环境，请执行以下步骤：</p><p translation-origin=\"off\">To manually set an app's source locale to one other than the automatic value, follow these steps:</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">在 <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Angular 存储库中的常用语言环节\">Angular 的代码仓库中</a>查找此本地环境组合的 ID。</p><p translation-origin=\"off\">Look up the ID for the language-locale combination in <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Common locales in the Angular repository\">the Angular repository</a>.</p>\n\n</li>\n<li>\n<p translation-result=\"on\">   设置 <a href=\"api/core/LOCALE_ID\" title=\"LOCALE_ID 的 API 参考\"><code>LOCALE_ID</code></a> 令牌。下面的例子中把 <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> 的值设置为 <code>fr</code>（法语）：</p><p translation-origin=\"off\">Set the <a href=\"api/core/LOCALE_ID\" title=\"API reference for LOCALE_ID\"><code>LOCALE_ID</code></a> token.\nThe following example sets the value of <code><a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a></code> to <code>fr</code> (French):</p>\n\n</li>\n</ol>\n<code-example path=\"i18n/doc-files/app.module.ts\" header=\"src/app/app.module.ts\">\nimport { <a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a>, <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\n\nimport { AppComponent } from '../src/app/app.component';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [ <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> ],\n  declarations: [ AppComponent ],\n  providers: [ { provide: <a href=\"api/core/LOCALE_ID\" class=\"code-anchor\">LOCALE_ID</a>, useValue: 'fr' } ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n</code-example>\n<a id=\"import-locale\"></a>\n<h3 id=\"import-global-variants-of-the-locale-data\" translation-result=\"on\">导入本地化数据的全局变体<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#import-global-variants-of-the-locale-data\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"import-global-variants-of-the-locale-data\">Import global variants of the locale data<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#import-global-variants-of-the-locale-data\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">如果使用带有 <code>--localize</code> 选项的 CLI 命令 <a href=\"cli/build\" title=\"ng build description\"><code>ng build</code></a> 来配置本地环境，Angular 就会自动包含本地化数据。</p><p translation-origin=\"off\">Angular will automatically include locale data if you configure the locale using the <code>--localize</code> option with <a href=\"cli/build\" title=\"ng build description\"><code>ng build</code></a> CLI command.</p>\n\n<p translation-result=\"on\"><a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Angular 存储库中的常用语言环节\">Angular 的代码仓库</a> 中的一些文件（ <code>@angular/common/locales</code> ）包含了你需要的大部分本地化数据，但是一些高级的格式化选项需要提供额外的本地化数据。本地化数据的全局变体可以在 <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales/global\" title=\"Angular 存储库中的全局本地环境变体\"><code>@angular/common/locales/global</code></a> 下找到。下面的例子导入了法语（ <code>fr</code> ）的全局变体：</p><p translation-origin=\"off\">The <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales\" title=\"Common locales in the Angular repository\">Angular repository</a> files (<code>@angular/common/locales</code>) contain most of the locale data that you need, but some advanced formatting options require additional locale data.\nGlobal variants of the locale data are available in <a href=\"https://github.com/angular/angular/tree/master/packages/common/locales/global\" title=\"Global locale variants in the Angular repository\"><code>@angular/common/locales/global</code></a>.\nThe following example imports the global variants for French (<code>fr</code>):</p>\n\n<code-example language=\"javascript\" header=\"app.module.ts\">\nimport '@angular/common/locales/<a href=\"api/core/global\" class=\"code-anchor\">global</a>/fr;\n</code-example>\n<a id=\"custom-id\"></a>\n<h3 id=\"manage-marked-text-with-custom-ids\" translation-result=\"on\">用自定义 ID 管理标记过的文本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#manage-marked-text-with-custom-ids\"><i class=\"material-icons\">link</i></a></h3><h3 translation-origin=\"off\" id=\"manage-marked-text-with-custom-ids\">Manage marked text with custom IDs<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#manage-marked-text-with-custom-ids\"><i class=\"material-icons\">link</i></a></h3>\n\n<p translation-result=\"on\">Angular 的提取器会为模板中的每个 <code>i18n</code> 属性生成一个带翻译单元条目的文件。如前所述（在<a href=\"guide/i18n#transaction-unit-ids\">控制文本的提取和合并方式</a>中），Angular 会为每个翻译单元分配一个唯一的 ID，如下所示：</p><p translation-origin=\"off\">The Angular extractor generates a file with a translation unit entry for each <code>i18n</code>\nattribute in a template.\nAs described previously (in <a href=\"guide/i18n#transaction-unit-ids\">How meanings control text extraction and merging</a>), Angular assigns each translation unit a unique ID such as the following:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" header=\"messages.fr.xlf.html\" region=\"generated-id\">\n&#x3C;trans-unit id=\"ba0cc104d3d69bf669f97b8d96a4c5d8d9559aa3\" datatype=\"html\">\n\n</code-example>\n<p translation-result=\"on\">当你修改要翻译的文本时，提取器会为那个翻译单元生成一个新的 ID。在大多数情况下，对文本的更改也确实需要更改翻译。因此，使用新 ID 会使文本更改与翻译保持同步。</p><p translation-origin=\"off\">When you change the translatable text, the extractor generates a new ID for that translation unit.\nIn most cases a text change would also require a change to the translation.\nTherefore, using a new ID keeps the text change in sync with translations.</p>\n\n<p translation-result=\"on\">但是，某些翻译系统需要 ID 满足特定的格式或语法。为满足这一需求，你可以用<em>自定义</em> ID 来标记文本。虽然大多数开发人员不需要使用自定义 ID，但有些开发人员可能希望使用具有独特语法的 ID 来传递额外的元数据（例如应用中的库、组件或应用范围）。</p><p translation-origin=\"off\">However, some translation systems require a specific form or syntax for the ID.\nTo address this requirement, you can mark text with <em>custom</em> IDs.\nWhile most developers don't need to use custom IDs, some may want to use IDs that have a unique syntax to convey additional metadata (such as the library, component, or area of the app in which the text appears).</p>\n\n<p translation-result=\"on\">使用前缀 <code>@@</code> 可以在 <code>i18n</code> 属性中指定自定义 ID。下面的例子定义了自定义 ID <code>introductionHeader</code> ：</p><p translation-origin=\"off\">Specify a custom ID in the <code>i18n</code> attribute by using the prefix <code>@@</code>.\nThe following example defines the custom ID <code>introductionHeader</code>:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute-solo-id\" header=\"app/app.component.html\">\n&#x3C;h1 i18n=\"@@introductionHeader\">Hello i18n!&#x3C;/h1>\n\n</code-example>\n<p translation-result=\"on\">当你指定一个自定义 ID 时，提取器会生成一个带有自定义 ID 的翻译单元：</p><p translation-origin=\"off\">When you specify a custom ID, the extractor generates a translation unit with the custom ID:</p>\n\n<code-example path=\"i18n/doc-files/messages.fr.xlf.html\" header=\"messages.fr.xlf.html\" region=\"custom-id\">\n&#x3C;trans-unit id=\"introductionHeader\" datatype=\"html\">\n\n</code-example>\n<p translation-result=\"on\">如果改变了文本，提取器就<em>不会</em>修改 ID。因此，您无需采取额外步骤来更新翻译。使用自定义 ID 的一个缺点是，如果你修改了文本，你的翻译可能会与新修改过的源文本不同步。</p><p translation-origin=\"off\">If you change the text, the extractor does <em>not</em> change the ID.\nAs a result, you don't have to take the extra step of updating the translation.\nThe drawback of using custom IDs is that if you change the text, your translation may be out-of-sync with the newly changed source text.</p>\n\n<h4 id=\"use-a-custom-id-with-a-description\" translation-result=\"on\">使用带描述的自定义 ID<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#use-a-custom-id-with-a-description\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"use-a-custom-id-with-a-description\">Use a custom ID with a description<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#use-a-custom-id-with-a-description\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">使用自定义 ID 结合描述和含义可以进一步帮助翻译。下面的例子中就包含一个描述，其后紧跟着自定义 <code>id</code> ：</p><p translation-origin=\"off\">Use a custom ID in combination with a description and a meaning to further help the translator.\nThe following example includes a description, followed by the custom <code>id</code>:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute-id\" header=\"app/app.component.html\">\n&#x3C;h1 i18n=\"An introduction header for this sample@@introductionHeader\">Hello i18n!&#x3C;/h1>\n\n</code-example>\n<p translation-result=\"on\">下面的例子添加了一个含义：</p><p translation-origin=\"off\">The following example adds a meaning:</p>\n\n<code-example path=\"i18n/doc-files/app.component.html\" region=\"i18n-attribute-meaning-and-id\" header=\"app/app.component.html\">\n&#x3C;h1 i18n=\"site header|An introduction header for this sample@@introductionHeader\">Hello i18n!&#x3C;/h1>\n\n</code-example>\n<h4 id=\"define-unique-custom-ids\" translation-result=\"on\">定义唯一的自定义 ID<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#define-unique-custom-ids\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"define-unique-custom-ids\">Define unique custom IDs<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/i18n#define-unique-custom-ids\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">一定要确保定义的自定义 ID 是唯一的。如果对两个不同的文本元素使用了相同的 ID，那么提取工具只会提取出第一个，而 Angular 会使用它的翻译来代替两个原始文本元素。</p><p translation-origin=\"off\">Be sure to define custom IDs that are unique.\nIf you use the same ID for two different text elements, the extraction tool extracts only the first one, and Angular uses its translation in place of both original text elements.</p>\n\n<p translation-result=\"on\">例如，在下面的代码中，为两个不同的文本元素定义了相同的自定义 ID <code>myId</code>：</p><p translation-origin=\"off\">For example, in the following code the same custom ID <code>myId</code> is defined for two different text elements:</p>\n\n<code-example language=\"html\">\n  &#x3C;h3 i18n=\"@@myId\">Hello&#x3C;/h3>\n  &#x3C;!-- ... -->\n  &#x3C;p i18n=\"@@myId\">Good bye&#x3C;/p>\n</code-example>\n<p translation-result=\"on\">下面是它翻译成的法语：</p><p translation-origin=\"off\">The following shows the translation to French:</p>\n\n<code-example language=\"xml\">\n  &#x3C;trans-unit id=\"myId\" datatype=\"html\">\n    &#x3C;source>Hello&#x3C;/source>\n    &#x3C;target <a href=\"api/animations/state\" class=\"code-anchor\">state</a>=\"new\">Bonjour&#x3C;/target>\n  &#x3C;/trans-unit>\n</code-example>\n<p translation-result=\"on\">这两个元素现在都使用了相同的翻译（ <code>Bonjour</code> ），这是因为它们是使用相同的自定义 ID 来定义的：</p><p translation-origin=\"off\">Both elements now use the same translation (<code>Bonjour</code>) because they were defined with the same custom ID:</p>\n\n<code-example language=\"html\">\n  &#x3C;h3>Bonjour&#x3C;/h3>\n  &#x3C;!-- ... -->\n  &#x3C;p>Bonjour&#x3C;/p>\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n - api/common\n - api/common/CurrencyPipe\n - api/common/DatePipe\n - api/common/DecimalPipe\n - api/common/PercentPipe\n - api/common/getLocaleExtraDayPeriodRules\n - api/common/getLocaleExtraDayPeriods\n - api/common/registerLocaleData\n - api/core/DEFAULT_CURRENCY_CODE\n - api/core/LOCALE_ID\n - api/core/MissingTranslationStrategy\n - api/core/TRANSLATIONS\n - api/core/TRANSLATIONS_FORMAT\n - guide/architecture-next-steps\n - guide/ivy\n - guide/workspace-config\n-->\n<!-- links from this doc:\n - /api/common/DecimalPipe\n - /cli/build\n - api/animations/state\n - api/common/CurrencyPipe\n - api/common/DatePipe\n - api/common/PercentPipe\n - api/core/Component\n - api/core/LOCALE_ID\n - api/core/NgModule\n - api/core/enableProdMode\n - api/core/global\n - api/platform-browser-dynamic/platformBrowserDynamic\n - api/platform-browser/BrowserModule\n - cli\n - cli/build\n - guide/build\n - guide/deployment\n - guide/glossary#ahead-of-time-aot-compilation\n - guide/glossary#command-line-interface-cli\n - guide/glossary#component\n - guide/glossary#interpolation\n - guide/glossary#pipe\n - guide/glossary#template\n - guide/i18n#Template-translations\n - guide/i18n#add-helpful-descriptions-and-meanings\n - guide/i18n#add-the-localize-package\n - guide/i18n#app-pre-translation\n - guide/i18n#apply-specific-build-options-for-just-one-locale\n - guide/i18n#build-from-the-command-line\n - guide/i18n#change-the-source-language-file-format\n - guide/i18n#change-the-source-language-file-location\n - guide/i18n#change-the-source-language-file-name\n - guide/i18n#create-a-translation-file-for-each-language\n - guide/i18n#create-source\n - guide/i18n#custom-id\n - guide/i18n#define-locales-in-the-build-configuration\n - guide/i18n#define-unique-custom-ids\n - guide/i18n#deploy-locales\n - guide/i18n#deploy-multiple-locales\n - guide/i18n#explore-the-translated-example-app\n - guide/i18n#extract-the-source-language-file\n - guide/i18n#format-data-based-on-locale\n - guide/i18n#generate-app-versions-for-each-locale\n - guide/i18n#help-translator\n - guide/i18n#i18n-attribute\n - guide/i18n#i18n-pipes\n - guide/i18n#import-global-variants-of-the-locale-data\n - guide/i18n#import-locale\n - guide/i18n#localization-folder\n - guide/i18n#localize-build-command\n - guide/i18n#localize-build-one-locale\n - guide/i18n#localize-config\n - guide/i18n#localize-generate\n - guide/i18n#localizing-your-app\n - guide/i18n#manage-marked-text-with-custom-ids\n - guide/i18n#mark-alternates-and-nested-expressions\n - guide/i18n#mark-element-attributes-for-translations\n - guide/i18n#mark-plurals\n - guide/i18n#mark-plurals-and-alternates-for-translation\n - guide/i18n#mark-text-for-translations\n - guide/i18n#merge\n - guide/i18n#merge-translations-into-the-app\n - guide/i18n#ng-xi18n\n - guide/i18n#no-element\n - guide/i18n#optional-practices\n - guide/i18n#plurals-alternates\n - guide/i18n#prepare-templates-for-translations\n - guide/i18n#prerequisites\n - guide/i18n#refer-to-locales-by-id\n - guide/i18n#report-missing-translations\n - guide/i18n#set-source-manually\n - guide/i18n#set-the-source-locale-manually\n - guide/i18n#setting-up-cli\n - guide/i18n#setting-up-locale\n - guide/i18n#steps-to-localize-your-app\n - guide/i18n#transaction-unit-ids\n - guide/i18n#translate-alternate-expressions\n - guide/i18n#translate-attributes\n - guide/i18n#translate-each-translation-file\n - guide/i18n#translate-nested-expressions\n - guide/i18n#translate-plural-select\n - guide/i18n#translate-plurals\n - guide/i18n#translate-plurals-and-alternate-expressions\n - guide/i18n#translate-text-nodes\n - guide/i18n#translate-text-not-for-display\n - guide/i18n#use-a-custom-id-with-a-description\n - guide/i18n#work-with-translation-files\n - guide/ivy#opting-out-of-ivy-in-version-9\n - guide/workspace-config\n - http://cldr.unicode.org/core-spec#Unicode_Language_and_Locale_Identifiers\n - http://cldr.unicode.org/development/development-process/design-proposals/xmb\n - http://cldr.unicode.org/index/cldr-spec/plural-rules\n - http://cldr.unicode.org/index/cldr-spec/plural-rules#TOC-Choosing-Plural-Category-Names\n - http://userguide.icu-project.org/formatparse/messages\n - http://www.rfc-editor.org/rfc/bcp/bcp47.txt\n - http://www.unicode.org/cldr/charts/latest/supplemental/language_plural_rules.html\n - https://angular.io/api/core/LOCALE_ID\n - https://angular.io/guide/npm-packages\n - https://en.wikipedia.org/wiki/XLIFF\n - https://github.com/angular/angular-cn/edit/aio/aio/content/guide/i18n.md?message=docs%3A%20请简述你的修改...\n - https://github.com/angular/angular/blob/ecffc3557fe1bff9718c01277498e877ca44588d/packages/core/src/i18n/locale_en.ts#L15-L18\n - https://github.com/angular/angular/pull/32912\n - https://github.com/angular/angular/tree/master/packages/common/locales\n - https://github.com/angular/angular/tree/master/packages/common/locales/global\n - https://marketfinder.thinkwithgoogle.com/intl/en_us/guide/how-to-approach-i18n/#overview\n - https://v8.angular.io/guide/i18n#merge-with-the-jit-compiler\n - https://www.loc.gov/standards/iso639-2/\n - https://www.w3.org/XML/\n-->"
}