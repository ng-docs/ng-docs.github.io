{
  "id": "guide/angular-compiler-options",
  "title": "Angular compiler options",
  "contents": "\n\n\n<div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/edit/aio/aio/content/guide/angular-compiler-options.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n</div>\n\n\n<div class=\"content\">\n  <h1 id=\"angular-compiler-options\" translation-result=\"on\">Angular 编译器选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#angular-compiler-options\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"angular-compiler-options\">Angular compiler options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#angular-compiler-options\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">使用 <a href=\"guide/aot-compiler\">AoT 编译</a> 时，可以通过在 <a href=\"guide/typescript-configuration\">TypeScript 配置文件中</a>指定<em>模板</em>编译器选项来控制如何编译应用程序。</p><p translation-origin=\"off\">When you use <a href=\"guide/aot-compiler\">AOT compilation</a>, you can control how your application is compiled by specifying <em>template</em> compiler options in the <a href=\"guide/typescript-configuration\">TypeScript configuration file</a>.</p>\n\n<p translation-result=\"on\">模板选项对象 <code>angularCompilerOptions</code> 和为 TypeScript 编译器提供标准选项的 <code>compilerOptions</code> 对象是兄弟。</p><p translation-origin=\"off\">The template options object, <code>angularCompilerOptions</code>, is a sibling to the <code>compilerOptions</code> object that supplies standard options to the TypeScript compiler.</p>\n\n<code-example language=\"json\" header=\"tsconfig.json\" path=\"angular-compiler-options/tsconfig.json\" region=\"angular-compiler-options\">\n{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    // ...\n  },\n  \"angularCompilerOptions\": {\n    \"enableI18nLegacyMessageIdFormat\": false,\n    \"strictInjectionParameters\": true,\n    // ...\n  }\n}\n\n</code-example>\n<a id=\"tsconfig-extends\"></a>\n<h2 id=\"configuration-inheritance-with-extends\" translation-result=\"on\">用 <code>extends</code> 语法配置继承方式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#configuration-inheritance-with-extends\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"configuration-inheritance-with-extends\">Configuration inheritance with extends<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#configuration-inheritance-with-extends\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">像 TypeScript 编译器一样，Angular 的 AOT 编译器也支持对 TypeScript 配置文件中的 <code>angularCompilerOptions</code> 进行 <code>extends</code>。<code>extends</code> 属性位于顶层，和 <code>compilerOptions</code> 和 <code>angularCompilerOptions</code> 平级。</p><p translation-origin=\"off\">Like the TypeScript compiler, the Angular AOT compiler also supports <code>extends</code> in the <code>angularCompilerOptions</code> section of the TypeScript configuration file.\nThe <code>extends</code> property is at the top level, parallel to <code>compilerOptions</code> and <code>angularCompilerOptions</code>.</p>\n\n<p translation-result=\"on\">使用 <code>extends</code> 属性，TypeScript 配置可以从另一个文件中继承设置。首先从基础文件中加载配置项，然后被继承自它的配置文件中的配置项覆写。</p><p translation-origin=\"off\">A TypeScript configuration can inherit settings from another file using the <code>extends</code> property.\nThe configuration options from the base file are loaded first, then overridden by those in the inheriting configuration file.</p>\n\n<p translation-result=\"on\">比如：</p><p translation-origin=\"off\">For example:</p>\n\n<code-example language=\"json\" header=\"tsconfig.app.json\" path=\"angular-compiler-options/tsconfig.app.json\" region=\"angular-compiler-options-app\">\n{\n    \"extends\": \"./tsconfig.json\",\n    \"compilerOptions\": {\n      \"outDir\": \"./out-tsc/app\",\n    // ...\n    \"angularCompilerOptions\": {\n      \"strictTemplates\": true,\n      \"preserveWhitespaces\": true,\n      // ...\n    },\n  }\n\n</code-example>\n<p translation-result=\"on\">欲知详情，请参阅 <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\">TypeScript 手册</a>。</p><p translation-origin=\"off\">For more information, see the <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\">TypeScript Handbook</a>.</p>\n\n<h2 id=\"template-options\" translation-result=\"on\">模板选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#template-options\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"template-options\">Template options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#template-options\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">以下选项可用于配置 AoT 模板编译器。</p><p translation-origin=\"off\">The following options are available for configuring the AOT template compiler.</p>\n\n<h3 id=\"allowemptycodegenfiles\"><code>allowEmptyCodegenFiles</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#allowemptycodegenfiles\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则生成所有可能的文件 —— 即使它们为空。默认值为 <code>false</code>。Bazel 的构建规则使用它来简化 Bazel 规则跟踪文件依赖性的方式。不要在 Bazel 规则之外使用此选项。</p><p translation-origin=\"off\">When <code>true</code>, generate all possible files even if they are empty. Default is <code>false</code>. Used by the Bazel build rules to simplify how Bazel rules track file dependencies. Do not use this option outside of the Bazel rules.</p>\n\n<h3 id=\"annotationsas\"><code>annotationsAs</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#annotationsas\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">修改 Angular 专有注解的生成方式，以改善摇树优化。非 Angular 注解不受影响。可选值为 <code><a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> fields</code>（默认值）或 <code>decorators</code>。</p><p translation-origin=\"off\">Modifies how Angular-specific annotations are emitted to improve tree-shaking. Non-Angular annotations are not affected. One of <code><a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> fields</code> (the default) or <code>decorators</code>.</p>\n\n<ul>\n<li>\n<p translation-result=\"on\">默认情况下，编译器会用类中的静态字段替换装饰器，这允许像 <a href=\"https://github.com/google/closure-compiler\">Closure 编译器</a>这样的高级摇树器删除未使用的类。</p><p translation-origin=\"off\">By default, the compiler replaces decorators with a static field in the class, which allows advanced tree-shakers like <a href=\"https://github.com/google/closure-compiler\">Closure compiler</a> to remove unused classes.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"><code>decorators</code> 值会将装饰器保留在原处，这将使编译速度更快。TypeScript 会生成对辅助器 <code>__decorate</code> 的调用。使用 <code>--emitDecoratorMetadata</code> 进行运行时反射（但请注意，生成的代码将无法正确摇树）。</p><p translation-origin=\"off\">The <code>decorators</code> value leaves the decorators in place, which makes compilation faster. TypeScript emits calls to the <code>__decorate</code> helper. Use <code>--emitDecoratorMetadata</code> for runtime reflection (but note that the resulting code will not properly tree-shake.</p>\n\n</li>\n</ul>\n<h3 id=\"annotateforclosurecompiler\"><code>annotateForClosureCompiler</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#annotateforclosurecompiler\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则使用 <a href=\"https://github.com/angular/tsickle\">Tsickle</a> 来用 <a href=\"http://usejsdoc.org/\">JSDoc</a> 对生成的 JavaScript 代码进行注解，这些注释是供 <a href=\"https://github.com/google/closure-compiler\">Closure 编译器</a> 使用的。默认值为 <code>false</code>。</p><p translation-origin=\"off\">When <code>true</code>, use <a href=\"https://github.com/angular/tsickle\">Tsickle</a> to annotate the emitted JavaScript with <a href=\"https://jsdoc.app/\">JSDoc</a> comments needed by the\n<a href=\"https://github.com/google/closure-compiler\">Closure Compiler</a>. Default is <code>false</code>.</p>\n\n<h3 id=\"compilationmode\"><code>compilationMode</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#compilationmode\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">指定要使用的编译模式。可以使用以下模式：</p><p translation-origin=\"off\">Specifies the compilation mode to use. The following modes are available:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><code>'full'</code>：根据当前使用的 Angular 版本生成完全 AOT 编译的代码。</p><p translation-origin=\"off\"><code>'full'</code>: generates fully AOT-compiled code according to the version of Angular that is currently being used.</p>\n\n</li>\n<li>\n<p translation-result=\"on\"> <code>'partial'</code>：生成稳定的中间代码，适用于已发布的库。</p><p translation-origin=\"off\"><code>'partial'</code>: generates code in a stable, but intermediate form suitable for a published library.</p>\n\n</li>\n</ul>\n<p translation-result=\"on\">默认值为 <code>'full'</code> 。</p><p translation-origin=\"off\">The default value is <code>'full'</code>.</p>\n\n<h3 id=\"disableexpressionlowering\"><code>disableExpressionLowering</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#disableexpressionlowering\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>（默认值），则转换在注解中使用或允许使用的代码，以允许从模板的工厂模块导入代码。欲知详情，请参阅<a href=\"guide/aot-compiler#metadata-rewriting\">元数据重写</a>。</p><p translation-origin=\"off\">When <code>true</code> (the default), transforms code that is or could be used in an annotation, to allow it to be imported from template factory modules. See <a href=\"guide/aot-compiler#metadata-rewriting\">metadata rewriting</a> for more information.</p>\n\n<p translation-result=\"on\">如果为 <code>false</code>，则禁用此重写，你必须手动进行重写。</p><p translation-origin=\"off\">When <code>false</code>, disables this rewriting, requiring the rewriting to be done manually.</p>\n\n<h3 id=\"disabletypescriptversioncheck\"><code>disableTypeScriptVersionCheck</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#disabletypescriptversioncheck\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则在使用不受支持的 TypeScript 版本时，编译器不会检查 TypeScript 版本，并且不会报错。不建议使用，因为不受支持的 TypeScript 版本可能具有未定义的行为。默认值为 <code>false</code>。</p><p translation-origin=\"off\">When <code>true</code>, the compiler does not check the TypeScript version and does not report an error when an unsupported version of TypeScript is used. Not recommended, as unsupported versions of TypeScript might have undefined behavior. Default is <code>false</code>.</p>\n\n<h3 id=\"enablei18nlegacymessageidformat\"><code>enableI18nLegacyMessageIdFormat</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#enablei18nlegacymessageidformat\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">指示 Angular 模板编译器为模板中用 <code>i18n</code> 属性标出的消息生成旧版 ID。关于为本地化而对消息进行标记的更多信息，请参阅<a href=\"guide/i18n-common-prepare#mark-text-for-translations\" title=\"Mark text for translations - Prepare templates for translations | Angular\">标记要翻译的文本</a></p><p translation-origin=\"off\">Instructs the Angular template compiler to generate legacy ids for messages that are tagged in templates by the <code>i18n</code> attribute.\nSee <a href=\"guide/i18n-common-prepare#mark-text-for-translations\" title=\"Mark text for translations - Prepare templates for translations | Angular\">Mark text for translations</a> for more information about marking messages for localization.</p>\n\n<p translation-result=\"on\">除非你的项目依赖先前已用旧版 ID 生成的翻译，否则请将此选项设置为 <code>false</code>。默认值为 <code>true</code> 。</p><p translation-origin=\"off\">Set this option to <code>false</code> unless your project relies upon translations that were previously generated using legacy IDs. Default is <code>true</code>.</p>\n\n<p translation-result=\"on\">Ivy 之前版本的消息提取工具为所提取的消息 id 生成了多种旧格式。这些消息格式存在许多问题，例如对空白字符的处理和对模板原始 HTML 内部信息的依赖。</p><p translation-origin=\"off\">The pre-Ivy message extraction tooling generated a variety of legacy formats for extracted message IDs.\nThese message formats have a number of issues, such as whitespace handling and reliance upon information inside the original HTML of a template.</p>\n\n<p translation-result=\"on\">新的消息格式对空白字符的改动更宽容，在所有翻译文件格式中都相同，并且可以直接通过调用 <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> 生成。这允许应用程序代码中的 <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> 消息使用与组件模板中 <code>i18n</code> 消息完全相同的 id。</p><p translation-origin=\"off\">The new message format is more resilient to whitespace changes, is the same across all translation file formats, and can be generated directly from calls to <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code>.\nThis allows <code><a href=\"api/localize/init/$localize\" class=\"code-anchor\">$localize</a></code> messages in application code to use the same ID as identical <code>i18n</code> messages in component templates.</p>\n\n<h3 id=\"enableivy\"><code>enableIvy</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#enableivy\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">启用 <a href=\"guide/ivy\">Ivy</a> 编译和渲染管道。从版本 9 开始，默认值为 <code>true</code>。在版本 9 中，你可以<a href=\"guide/ivy#opting-out-of-angular-ivy\">选择不用 Ivy</a> 而是继续使用以前的编译器 View Engine。</p><p translation-origin=\"off\">Enables the <a href=\"guide/ivy\">Ivy</a> compilation and rendering pipeline. Default is <code>true</code>, as of version 9. In version 9, you can <a href=\"guide/ivy#opting-out-of-angular-ivy\">opt out of Ivy</a> to continue using the previous compiler, View Engine.</p>\n\n<p translation-result=\"on\">对于使用 CLI 生成的<em>库</em>项目，<code>prod</code> 配置默认在版本 9 中为 <code>false</code>。</p><p translation-origin=\"off\">For library projects generated with the CLI, the production configuration default is <code>false</code> in version 9.</p>\n\n<h3 id=\"enableresourceinlining\"><code>enableResourceInlining</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#enableresourceinlining\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">当为 <code>true</code> 时，将所有 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> 装饰器中的 <code>templateUrl</code> 和 <code>styleUrls</code> 属性替换为 <code>template</code> 和 <code>styles</code> 属性中的内联内容。</p><p translation-origin=\"off\">When <code>true</code>, replaces the <code>templateUrl</code> and <code>styleUrls</code> property in all <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> decorators with inlined contents in <code>template</code> and <code>styles</code> properties.</p>\n\n<p translation-result=\"on\">启用后，<code>ngc</code> 的 <code>.js</code> 输出不会包含任何惰性加载的模板或样式 URL。</p><p translation-origin=\"off\">When enabled, the <code>.js</code> output of <code>ngc</code> does not include any lazy-loaded template or style URLs.</p>\n\n<p translation-result=\"on\">对于使用 CLI 生成的库项目，dev 配置下默认为 <code>true</code>。</p><p translation-origin=\"off\">For library projects generated with the CLI, the development configuration default is <code>true</code>.</p>\n\n<a id=\"enablelegacytemplate\"></a>\n<h3 id=\"enablelegacytemplate\"><code>enableLegacyTemplate</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#enablelegacytemplate\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则启用 Angular 4.0 中为了避免与同名的 DOM 元素冲突而不推荐使用的 <code>&#x3C;template></code> 元素（推荐改用 <code><a href=\"api/core/ng-template\" class=\"code-anchor\">&#x3C;ng-template></a></code>）。默认值为 <code>false</code>。某些第三方 Angular 库可能需要它。</p><p translation-origin=\"off\">When <code>true</code>, enables use of the <code>&#x3C;template></code> element, which was deprecated in Angular 4.0, in favor of <code><a href=\"api/core/ng-template\" class=\"code-anchor\">&#x3C;ng-template></a></code> (to avoid colliding with the DOM's element of the same name). Default is <code>false</code>. Might be required by some third-party Angular libraries.</p>\n\n<h3 id=\"flatmoduleid\"><code>flatModuleId</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#flatmoduleid\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">用于导入扁平模块的模块 ID（当 <code>flatModuleOutFile</code> 为 <code>true</code> 时）。从扁平模块中导入符号时，模板编译器生成的引用将使用该模块的名称。如果 <code>flatModuleOutFile</code> 为 <code>false</code> 则忽略。</p><p translation-origin=\"off\">The module ID to use for importing a flat module (when <code>flatModuleOutFile</code> is <code>true</code>). References generated by the template compiler use this module name when importing symbols from the flat module. Ignored if <code>flatModuleOutFile</code> is <code>false</code>.</p>\n\n<h3 id=\"flatmoduleoutfile\"><code>flatModuleOutFile</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#flatmoduleoutfile\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">为 <code>true</code> 时，将生成指定文件名和相应扁平模块元数据的扁平模块索引。用于创建像 <code>@angular/core</code> 和 <code>@angular/common</code> 这样打包的扁平模块。使用此选项时，库的 <code>package.json</code> 应引用生成的扁平模块索引而不是库的索引文件。</p><p translation-origin=\"off\">When <code>true</code>, generates a flat module index of the given file name and the corresponding flat module metadata. Use to create flat modules that are packaged similarly to <code>@angular/core</code> and <code>@angular/common</code>. When this option is used, the <code>package.json</code> for the library should refer to the generated flat module index instead of the library index file.</p>\n\n<p translation-result=\"on\">它只会生成一个 <code>.metadata.json</code> 文件，该文件包含从库索引中导出的符号所需的全部元数据。在生成的 <code>.ngfactory.js</code> 文件中，扁平模块索引用于导入符号，这些符号既包括库索引中的公共 API，也包括缩进的内部符号。</p><p translation-origin=\"off\">Produces only one <code>.metadata.json</code> file, which contains all the metadata necessary for symbols exported from the library index. In the generated <code>.ngfactory.js</code> files, the flat module index is used to import symbols that include both the public API from the library index as well as shrowded internal symbols.</p>\n\n<p translation-result=\"on\">默认情况下，<code>files</code> 字段中提供的 <code>.ts</code> 文件会被当做库索引。如果指定了多个 <code>.ts</code> 文件，则使用 <code>libraryIndex</code> 选择要使用的文件。如果提供了多个不带 <code>libraryIndex</code> <code>.ts</code> 文件，则会产生错误。</p><p translation-origin=\"off\">By default the <code>.ts</code> file supplied in the <code>files</code> field is assumed to be the library index.\nIf more than one <code>.ts</code> file is specified, <code>libraryIndex</code> is used to select the file to use.\nIf more than one <code>.ts</code> file is supplied without a <code>libraryIndex</code>, an error is produced.</p>\n\n<p translation-result=\"on\">使用指定的 <code>flatModuleOutFile</code> 名在与库索引 <code>.d.ts</code> 文件相同的位置创建扁平模块索引 <code>.d.ts</code> 和 <code>.js</code>。</p><p translation-origin=\"off\">A flat module index <code>.d.ts</code> and <code>.js</code> is created with the given <code>flatModuleOutFile</code> name in the same location as the library index <code>.d.ts</code> file.</p>\n\n<p translation-result=\"on\">例如，如果一个库使用 <code>public_api.ts</code> 文件作为模块的库索引，则 <code>tsconfig.json</code> 的 <code>files</code> 字段就是 <code>[\"public_api.ts\"]</code>。然后，比如把 <code>flatModuleOutFile</code> 选项设置为 <code>\"index.js\"</code>，这将生成 <code>index.d.ts</code> 和 <code>index.metadata.json</code> 文件。该库的 <code>package.json</code> 的 <code>module</code> 字段中就会是 <code>\"index.js\"</code>，而 <code>typings</code> 字段将是 <code>\"index.d.ts\"</code>。</p><p translation-origin=\"off\">For example, if a library uses the <code>public_api.ts</code> file as the library index of the module, the <code>tsconfig.json</code> <code>files</code> field would be <code>[\"public_api.ts\"]</code>.\nThe <code>flatModuleOutFile</code> option could then be set to (for example) <code>\"index.js\"</code>, which produces <code>index.d.ts</code> and <code>index.metadata.json</code> files.\nThe <code>module</code> field of the library's <code>package.json</code> would be <code>\"index.js\"</code> and the <code>typings</code> field would be <code>\"index.d.ts\"</code>.</p>\n\n<h3 id=\"fulltemplatetypecheck\"><code>fullTemplateTypeCheck</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#fulltemplatetypecheck\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">为 <code>true</code>（推荐）时，会启用模板编译器的<a href=\"guide/aot-compiler#binding-expression-validation\">绑定表达式验证</a>阶段，该阶段使用 TypeScript 来验证绑定表达式。欲知详情，请参阅<a href=\"guide/template-typecheck\">模板类型检查</a>。</p><p translation-origin=\"off\">When <code>true</code> (recommended), enables the <a href=\"guide/aot-compiler#binding-expression-validation\">binding expression validation</a> phase of the template compiler, which uses TypeScript to validate binding expressions. For more information, see <a href=\"guide/template-typecheck\">Template type checking</a>.</p>\n\n<p translation-result=\"on\">默认值为 <code>false</code>，但是当你使用 CLI 命令 <code>ng new --strict</code> 时，默认生成的项目配置中会将其设置为 <code>true</code>。</p><p translation-origin=\"off\">Default is <code>false</code>, but when you use the CLI command <code>ng new --strict</code>, it is set to <code>true</code> in the generated project's configuration.</p>\n\n<div class=\"alert is-important\">\n<p translation-result=\"on\"><code>fullTemplateTypeCheck</code> 选项已经在 Angular 13 中弃用，改为使用 <code>strictTemplates</code> 家族的编译器选项。</p><p translation-origin=\"off\">The <code>fullTemplateTypeCheck</code> option has been deprecated in Angular 13 in favor of the <code>strictTemplates</code> family of compiler options.</p>\n\n</div>\n<h3 id=\"generatecodeforlibraries\"><code>generateCodeForLibraries</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#generatecodeforlibraries\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>（默认值），就会为 <code>.d.ts</code> 和相应的 <code>.metadata.json</code> 生成工厂文件（<code>.ngfactory.js</code> 和 <code>.ngstyle.js</code>）。</p><p translation-origin=\"off\">When <code>true</code> (the default), generates factory files (<code>.ngfactory.js</code> and <code>.ngstyle.js</code>) for <code>.d.ts</code> files with a corresponding <code>.metadata.json</code> file.</p>\n\n<p translation-result=\"on\">如果为 <code>false</code>，则仅为 <code>.ts</code> 文件生成工厂文件。当要使用工厂摘要（summary）时，请这么设置。</p><p translation-origin=\"off\">When <code>false</code>, factory files are generated only for <code>.ts</code> files. Do this when using factory summaries.</p>\n\n<h3 id=\"preservewhitespaces\"><code>preserveWhitespaces</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#preservewhitespaces\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>false</code>（默认值），则从编译的模板中删除空白文本节点，这将生成较小的模板工厂模块。设置为 <code>true</code> 以保留空白文本节点。</p><p translation-origin=\"off\">When <code>false</code> (the default), removes blank text nodes from compiled templates, which results in smaller emitted template factory modules. Set to <code>true</code> to preserve blank text nodes.</p>\n\n<h3 id=\"skipmetadataemit\"><code>skipMetadataEmit</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#skipmetadataemit\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">为 <code>true</code> 时，不生成 <code>.metadata.json</code> 文件。默认值为 <code>false</code>。</p><p translation-origin=\"off\">When <code>true</code>, does not produce <code>.metadata.json</code> files. Default is <code>false</code>.</p>\n\n<p translation-result=\"on\"><code>.metadata.json</code> 文件包含模板编译器从 <code>.ts</code> 文件中获得的信息，该信息未包含在 TypeScript 编译器生成的 <code>.d.ts</code> 文件中。该信息包括注解的内容（例如组件的模板）等，TypeScript 会将该注解的内容发送到 <code>.js</code> 文件中，但不会发送到 <code>.d.ts</code> 文件。</p><p translation-origin=\"off\">The <code>.metadata.json</code> files contain information needed by the template compiler from a <code>.ts</code> file that is not included in the <code>.d.ts</code> file produced by the TypeScript compiler.\nThis information includes, for example, the content of annotations (such as a component's template), which TypeScript emits to the <code>.js</code> file but not to the <code>.d.ts</code> file.</p>\n\n<p translation-result=\"on\">你可以在使用工厂摘要（summary）中将其设置为 <code>true</code>，因为工厂摘要中包括 <code>.metadata.json</code> 文件中信息的副本。</p><p translation-origin=\"off\">You can set to <code>true</code> when using factory summaries, because the factory summaries include a copy of the information that is in the <code>.metadata.json</code> file.</p>\n\n<p translation-result=\"on\">如果要使用 TypeScript 的 <code>--outFile</code> 选项，则设置为 <code>true</code>，因为元数据文件对于这种 TypeScript 输出风格无效。但是，我们不建议将 <code>--outFile</code> 和 Angular 一起使用。请使用打包程序，例如 <a href=\"https://webpack.js.org/\">webpack</a>。</p><p translation-origin=\"off\">Set to <code>true</code> if you are using TypeScript's <code>--outFile</code> option, because the metadata files are not valid for this style of TypeScript output. However, we do not recommend using <code>--outFile</code> with Angular. Use a bundler, such as <a href=\"https://webpack.js.org/\">webpack</a>, instead.</p>\n\n<h3 id=\"skiptemplatecodegen\"><code>skipTemplateCodegen</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#skiptemplatecodegen\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">为 <code>true</code> 时，不生成 <code>.ngfactory.js</code> 和 <code>.ngstyle.js</code> 文件。这将关闭大多数模板编译器，并禁用模板诊断报告。</p><p translation-origin=\"off\">When <code>true</code>, does not emit <code>.ngfactory.js</code> and <code>.ngstyle.js</code> files. This turns off most of the template compiler and disables the reporting of template diagnostics.</p>\n\n<p translation-result=\"on\">可用于指示模板编译器生成 <code>.metadata.json</code> 文件，以使用 <code>npm</code> 软件包进行分发，同时避免产生无法分发至 <code>npm</code> 的 <code>.ngfactory.js</code> 和 <code>.ngstyle.js</code> 文件。</p><p translation-origin=\"off\">Can be used to instruct the template compiler to produce <code>.metadata.json</code> files for distribution with an <code>npm</code> package while avoiding the production of <code>.ngfactory.js</code> and <code>.ngstyle.js</code> files that cannot be distributed to <code>npm</code>.</p>\n\n<p translation-result=\"on\">对于使用 CLI 生成的库项目，dev 配置默认为 <code>true</code>。</p><p translation-origin=\"off\">For library projects generated with the CLI, the development configuration default is <code>true</code>.</p>\n\n<h3 id=\"strictmetadataemit\"><code>strictMetadataEmit</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#strictmetadataemit\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">为 <code>true</code> 时，如果 <code>\"skipMetadataEmit\"</code> 为 <code>false</code> 则向 <code>.metadata.json</code> 文件中报告错误。默认值为 <code>false</code>。只在 <code>\"skipMetadataEmit\"</code> 为 <code>false</code> 且 <code>\"skipTemplateCodegen\"</code> 为 <code>true</code> 时使用。</p><p translation-origin=\"off\">When <code>true</code>, reports an error to the <code>.metadata.json</code> file if <code>\"skipMetadataEmit\"</code> is <code>false</code>.\nDefault is <code>false</code>. Use only when <code>\"skipMetadataEmit\"</code> is <code>false</code> and <code>\"skipTemplateCodegen\"</code> is <code>true</code>.</p>\n\n<p translation-result=\"on\">该选项是为了验证为生成 <code>npm</code> 包而产生的 <code>.metadata.json</code> 文件。这种验证是严格的，并且会报告元数据中的错误，以免当模板编译器使用它时再出错。你可以通过在某个导出符号的注释文档中使用 <code>@dynamic</code> 注解来暂时防止（suppress）该选项报告错误。</p><p translation-origin=\"off\">This option is intended to validate the <code>.metadata.json</code> files emitted for bundling with an <code>npm</code> package. The validation is strict and can emit errors for metadata that would never produce an error when used by the template compiler. You can choose to suppress the error emitted by this option for an exported symbol by including <code>@dynamic</code> in the comment documenting the symbol.</p>\n\n<p translation-result=\"on\"><code>.metadata.json</code> 文件即使包含错误也是有效的。如果这些元数据用来确定注解的内容，则模板编译器会报告这些错误。元数据收集器无法预测哪些符号是为了在注解中使用而设计，因此它会先在元数据中为导出的符号中包含错误节点。然后，如果使用了这些符号，则模板编译器可以使用这些错误节点来报告错误。</p><p translation-origin=\"off\">It is valid for <code>.metadata.json</code> files to contain errors.\nThe template compiler reports these errors if the metadata is used to determine the contents of an annotation.\nThe metadata collector cannot predict the symbols that are designed for use in an annotation, so it preemptively includes error nodes in the metadata for the exported symbols.\nThe template compiler can then use the error nodes to report an error if these symbols are used.</p>\n\n<p translation-result=\"on\">如果库的客户代码打算在注解中使用某个符号，则模板编译器通常不会在客户方用到该符号之前就报错。此选项允许你在库的构建阶段就检测到这些错误，例如用于生成 Angular 库本身时。</p><p translation-origin=\"off\">If the client of a library intends to use a symbol in an annotation, the template compiler does not normally report this until the client uses the symbol.\nThis option allows detection of these errors during the build phase of the library and is used, for example, in producing Angular libraries themselves.</p>\n\n<p translation-result=\"on\">对于使用 CLI 生成的库项目，dev 配置中默认为 <code>true</code>。</p><p translation-origin=\"off\">For library projects generated with the CLI, the development configuration default is <code>true</code>.</p>\n\n<h3 id=\"strictinjectionparameters\"><code>strictInjectionParameters</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#strictinjectionparameters\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>（推荐），则报告所提供的参数的错误，无法确定该参数的注入类型。如果为 <code>false</code>（当前为默认值），则标记为 <code>@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a></code> 但其类型无法解析的类的构造函数参数会产生警告。</p><p translation-origin=\"off\">When <code>true</code> (recommended), reports an error for a supplied parameter whose injection type cannot be determined. When <code>false</code> (currently the default), constructor parameters of classes marked with <code>@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a></code> whose type cannot be resolved produce a warning.</p>\n\n<p translation-result=\"on\">当你使用 CLI 命令 <code>ng new</code> 时，默认生成的项目配置中将其设置为 <code>true</code>。</p><p translation-origin=\"off\">When you use the CLI command <code>ng new --strict</code>, it is set to <code>true</code> in the generated project's configuration.</p>\n\n<h3 id=\"stricttemplates\"><code>strictTemplates</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#stricttemplates\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则在 Angular 9 中启用<a href=\"guide/template-typecheck#strict-mode\">严格的模板类型检查</a>。仅当使用 <a href=\"guide/ivy\">Ivy</a> 时，才能使用严格模式。</p><p translation-origin=\"off\">When <code>true</code>, enables <a href=\"guide/template-typecheck#strict-mode\">strict template type checking</a>. Strict mode is only available when using <a href=\"guide/ivy\">Ivy</a> (Angular version 9 and later).</p>\n\n<p translation-result=\"on\">其它严格性标志允许你启用和禁用特定类型的严格模板类型检查。请参阅<a href=\"guide/template-typecheck#troubleshooting-template-errors\">排除模板错误</a>。</p><p translation-origin=\"off\">Additional strictness flags allow you to enable and disable specific types of strict template type checking. See <a href=\"guide/template-typecheck#troubleshooting-template-errors\">troubleshooting template errors</a>.</p>\n\n<p translation-result=\"on\">当你使用 CLI 命令 <code>ng new --strict</code> 时，默认生成的项目配置中将其设置为 <code>true</code>。</p><p translation-origin=\"off\">When you use the CLI command <code>ng new --strict</code>, it is set to <code>true</code> in the generated project's configuration.</p>\n\n<h3 id=\"trace\"><code>trace</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#trace\"><i class=\"material-icons\">link</i></a></h3>\n<p translation-result=\"on\">如果为 <code>true</code>，则在编译模板时输出额外的信息。默认值为 <code>false</code>。</p><p translation-origin=\"off\">When <code>true</code>, prints extra information while compiling templates. Default is <code>false</code>.</p>\n\n<a id=\"cli-options\"></a>\n<h2 id=\"command-line-options\" translation-result=\"on\">命令行选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#command-line-options\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"command-line-options\">Command Line Options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/angular-compiler-options#command-line-options\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">虽然大多数时候你都会使用 Angular CLI 间接与 Angular 编译器交互，但在调试某些问题时，你可能会发现直接调用 Angular 编译器很有用。你可以使用 <code>@angular/compiler-cli</code> npm 包提供的 <code>ngc</code> 命令从命令行调用编译器。</p><p translation-origin=\"off\">While most of the time you interact with the Angular Compiler indirectly using Angular CLI, when debugging certain issues, you might find it useful to invoke the Angular Compiler directly.\nYou can use the <code>ngc</code> command provided by the <code>@angular/compiler-cli</code> npm package to call the compiler from the command line.</p>\n\n<p translation-result=\"on\"><code>ngc</code> 命令只是 TypeScript 的 <code>tsc</code> 编译器命令的包装器，主要通过<a href=\"guide/angular-compiler-options#angular-compiler-options\">前面部分</a>讲过的 <code>tsconfig.json</code> 配置选项进行配置。</p><p translation-origin=\"off\">The <code>ngc</code> command is just a wrapper around TypeScript's <code>tsc</code> compiler command and is primarily configured via the <code>tsconfig.json</code> configuration options documented in <a href=\"guide/angular-compiler-options#angular-compiler-options\">the previous sections</a>.</p>\n\n<p translation-result=\"on\">除了配置文件，你还可以使用一些 <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\"><code>tsc</code> 命令行选项</a>来配置 <code>ngc</code> 。</p><p translation-origin=\"off\">In addition to the configuration file, you can also use <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\"><code>tsc</code> command line options</a> to configure <code>ngc</code>.</p>\n\n<!-- links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间： 2021/9/15</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/aot-compiler\n - guide/deprecations\n - guide/file-structure\n - guide/language-service\n - guide/strict-mode\n - guide/typescript-configuration\n - guide/updating-to-version-12\n-->\n<!-- links from this doc:\n - api/core/Component\n - api/core/Injectable\n - api/core/ng-template\n - api/localize/init/$localize\n - api/upgrade/static\n - guide/angular-compiler-options#allowemptycodegenfiles\n - guide/angular-compiler-options#angular-compiler-options\n - guide/angular-compiler-options#annotateforclosurecompiler\n - guide/angular-compiler-options#annotationsas\n - guide/angular-compiler-options#command-line-options\n - guide/angular-compiler-options#compilationmode\n - guide/angular-compiler-options#configuration-inheritance-with-extends\n - guide/angular-compiler-options#disableexpressionlowering\n - guide/angular-compiler-options#disabletypescriptversioncheck\n - guide/angular-compiler-options#enablei18nlegacymessageidformat\n - guide/angular-compiler-options#enableivy\n - guide/angular-compiler-options#enablelegacytemplate\n - guide/angular-compiler-options#enableresourceinlining\n - guide/angular-compiler-options#flatmoduleid\n - guide/angular-compiler-options#flatmoduleoutfile\n - guide/angular-compiler-options#fulltemplatetypecheck\n - guide/angular-compiler-options#generatecodeforlibraries\n - guide/angular-compiler-options#preservewhitespaces\n - guide/angular-compiler-options#skipmetadataemit\n - guide/angular-compiler-options#skiptemplatecodegen\n - guide/angular-compiler-options#strictinjectionparameters\n - guide/angular-compiler-options#strictmetadataemit\n - guide/angular-compiler-options#stricttemplates\n - guide/angular-compiler-options#template-options\n - guide/angular-compiler-options#trace\n - guide/aot-compiler\n - guide/aot-compiler#binding-expression-validation\n - guide/aot-compiler#metadata-rewriting\n - guide/i18n-common-prepare#mark-text-for-translations\n - guide/ivy\n - guide/ivy#opting-out-of-angular-ivy\n - guide/template-typecheck\n - guide/template-typecheck#strict-mode\n - guide/template-typecheck#troubleshooting-template-errors\n - guide/typescript-configuration\n - http://usejsdoc.org/\n - https://github.com/angular/tsickle\n - https://github.com/google/closure-compiler\n - https://github.com/ng-docs/angular-cn/edit/aio/aio/content/guide/angular-compiler-options.md?message=docs%3A%20请简述你的修改...\n - https://jsdoc.app/\n - https://webpack.js.org/\n - https://www.typescriptlang.org/docs/handbook/compiler-options.html\n - https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\n-->"
}