{
  "id": "guide/reusable-animations",
  "title": "Reusable animations",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular/edit/aio/aio/content/guide/reusable-animations.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"reusable-animations\" translation-result=\"on\">可复用动画<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#reusable-animations\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"reusable-animations\">Reusable animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#reusable-animations\"><i class=\"material-icons\">link</i></a></h1>\n\n<h4 id=\"prerequisites\" translation-result=\"on\">前提条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#prerequisites\"><i class=\"material-icons\">link</i></a></h4><h4 translation-origin=\"off\" id=\"prerequisites\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#prerequisites\"><i class=\"material-icons\">link</i></a></h4>\n\n<p translation-result=\"on\">对下列概念有基本的理解：</p><p translation-origin=\"off\">A basic understanding of the  following concepts:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/animations\">Angular 动画简介</a></p><p translation-origin=\"off\"><a href=\"guide/animations\">Introduction to Angular animations</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/transition-and-triggers\">转场与触发器</a></p><p translation-origin=\"off\"><a href=\"guide/transition-and-triggers\">Transition and triggers</a></p>\n\n</li>\n</ul>\n<hr>\n<p translation-result=\"on\">Angular 动画库中的 <a href=\"https://angular.cn/api/animations/AnimationOptions\">AnimationOptions</a> 接口让你能创建可以在不同组件之间复用的动画。</p><p translation-origin=\"off\">The <a href=\"https://angular.io/api/animations/AnimationOptions\">AnimationOptions</a> interface in Angular animations enables you to create animations that you can reuse across different components.</p>\n\n<h2 id=\"creating-reusable-animations\" translation-result=\"on\">创建可复用动画<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#creating-reusable-animations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"creating-reusable-animations\">Creating reusable animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#creating-reusable-animations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">要想创建可复用的动画，请使用 <a href=\"https://angular.cn/api/animations/animation\"><code>animation()</code></a> 方法来在独立的 <code>.ts</code> 文件中定义动画，并把该动画的定义声明为一个导出的 <code>const</code> 变量。然后你就可以在应用的组件代码中通过 <a href=\"https://angular.cn/api/animations/useAnimation\"><code>useAnimation()</code></a> 来导入并复用它了。</p><p translation-origin=\"off\">To create a reusable animation, use the <a href=\"https://angular.io/api/animations/animation\"><code>animation()</code></a> method to define an animation in a separate <code>.ts</code> file and declare this animation definition as a <code>const</code> export variable. You can then import and reuse this animation in any of your app components using the <a href=\"https://angular.io/api/animations/useAnimation\"><code>useAnimation()</code></a> API.</p>\n\n<code-example path=\"animations/src/app/animations.ts\" header=\"src/app/animations.ts\" region=\"reusable\" language=\"typescript\" linenums=\"false\">\nimport {\n  <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>, <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>, <a href=\"api/animations/animateChild\" class=\"code-anchor\">animateChild</a>, <a href=\"api/animations/group\" class=\"code-anchor\">group</a>,\n  <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>, <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>, <a href=\"api/animations/query\" class=\"code-anchor\">query</a>\n} from '@angular/animations';\n\nexport const transAnimation = <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>([\n  <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({\n    height: '{{ height }}',\n    opacity: '{{ opacity }}',\n    backgroundColor: '{{ backgroundColor }}'\n  }),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>('{{ time }}')\n]);\n\n</code-example>\n<p translation-result=\"on\">在上面的代码片段中，通过把 <code>transAnimation</code> 声明为一个导出的变量，就让它变成了可复用的。</p><p translation-origin=\"off\">In the above code snippet, <code>transAnimation</code> is made reusable by declaring it as an export variable.</p>\n\n<div class=\"alert is-helpful\">\n<p translation-result=\"on\"><strong>注意：</strong><code>height</code>、<code>opacity</code>、<code>backgroundColor</code> 和 <code>time</code> 这几个输入项会在运行期间被替换掉。 </p><p translation-origin=\"off\"><strong>Note:</strong> The <code>height</code>, <code>opacity</code>, <code>backgroundColor</code>, and <code>time</code> inputs are replaced during runtime.</p>\n\n</div>\n<p translation-result=\"on\">你可以在组件类中导入这个可复用的 <code>transAnimation</code> 变量，并通过 <code><a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>()</code> 方法来复用它。代码如下：</p><p translation-origin=\"off\">You can import the reusable <code>transAnimation</code> variable in your component class and reuse it using the <code><a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>()</code> method as shown below.</p>\n\n<code-example path=\"animations/src/app/open-close.component.3.ts\" header=\"src/app/open-close.component.ts\" region=\"reusable\" language=\"typescript\" linenums=\"false\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>, <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>, <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>, <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a> } from '@angular/animations';\nimport { transAnimation } from './animations';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n    <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('openClose', [\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('open => closed', [\n        <a href=\"api/animations/useAnimation\" class=\"code-anchor\">useAnimation</a>(transAnimation, {\n          params: {\n            height: 0,\n            opacity: 1,\n            backgroundColor: 'red',\n            time: '1s'\n          }\n        })\n      ])\n    ])\n  ],\n})\n\n</code-example>\n<h2 id=\"more-on-angular-animations\" translation-result=\"on\">关于 Angular 动画的更多知识<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#more-on-angular-animations\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"more-on-angular-animations\">More on Angular animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/reusable-animations#more-on-angular-animations\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">你可能还对下列内容感兴趣：</p><p translation-origin=\"off\">You may also be interested in the following:</p>\n\n<ul>\n<li>\n<p translation-result=\"on\"><a href=\"guide/animations\">Angular 动画简介</a></p><p translation-origin=\"off\"><a href=\"guide/animations\">Introduction to Angular animations</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/transition-and-triggers\">转场与触发器</a></p><p translation-origin=\"off\"><a href=\"guide/transition-and-triggers\">Transition and triggers</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/complex-animation-sequences\">复杂动画序列</a></p><p translation-origin=\"off\"><a href=\"guide/complex-animation-sequences\">Complex animation Sequences</a></p>\n\n</li>\n<li>\n<p translation-result=\"on\"><a href=\"guide/route-animations\">路由转场动画</a></p><p translation-origin=\"off\"><a href=\"guide/route-animations\">Route transition animations</a></p>\n\n</li>\n</ul>\n\n</div>\n\n<!-- links to this doc:\n - guide/animations\n - guide/complex-animation-sequences\n - guide/route-animations\n - guide/transition-and-triggers\n-->\n<!-- links from this doc:\n - api/animations/animate\n - api/animations/animateChild\n - api/animations/animation\n - api/animations/group\n - api/animations/query\n - api/animations/style\n - api/animations/transition\n - api/animations/trigger\n - api/animations/useAnimation\n - api/core/Component\n - guide/animations\n - guide/complex-animation-sequences\n - guide/reusable-animations#creating-reusable-animations\n - guide/reusable-animations#more-on-angular-animations\n - guide/reusable-animations#prerequisites\n - guide/reusable-animations#reusable-animations\n - guide/route-animations\n - guide/transition-and-triggers\n - https://angular.cn/api/animations/AnimationOptions\n - https://angular.cn/api/animations/animation\n - https://angular.cn/api/animations/useAnimation\n - https://angular.io/api/animations/AnimationOptions\n - https://angular.io/api/animations/animation\n - https://angular.io/api/animations/useAnimation\n - https://github.com/angular/angular/edit/aio/aio/content/guide/reusable-animations.md?message=docs%3A%20describe%20your%20change...\n-->"
}